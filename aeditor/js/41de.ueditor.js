! function() {
	function a(a, b) {
		var c, d, e = null,
			f = a.document;
		return f.selection ? (c = f.selection.createRange(), c.collapse(b), c.parentElement()) : (a.getSelection && (d = a.getSelection(), d.rangeCount > 0 && (c = d.getRangeAt(0), e = c[b ? "startContainer" : "endContainer"], 3 === e.nodeType && (e = e.parentNode))), e)
	}! function() {
		var a = {};
		! function(a, b) {
			a.VERSION = "1.0.0", a.COMPILER_REVISION = 4, a.REVISION_CHANGES = {
				1: "<= 1.0.rc.2",
				2: "== 1.0.0-rc.3",
				3: "== 1.0.0-rc.4",
				4: ">= 1.0.0"
			}, a.helpers = {}, a.partials = {};
			var c = Object.prototype.toString,
				d = "[object Function]",
				e = "[object Object]";
			a.registerHelper = function(b, d, f) {
				if (c.call(b) === e) {
					if (f || d) throw new a.Exception("Arg not supported with multiple helpers");
					a.Utils.extend(this.helpers, b)
				} else f && (d.not = f), this.helpers[b] = d
			}, a.registerPartial = function(b, d) {
				c.call(b) === e ? a.Utils.extend(this.partials, b) : this.partials[b] = d
			}, a.registerHelper("helperMissing", function(a) {
				if (2 === arguments.length) return b;
				throw new Error("Missing helper: '" + a + "'")
			}), a.registerHelper("blockHelperMissing", function(b, e) {
				var f = e.inverse || function() {},
					g = e.fn,
					h = c.call(b);
				return h === d && (b = b.call(this)), b === !0 ? g(this) : b === !1 || null == b ? f(this) : "[object Array]" === h ? b.length > 0 ? a.helpers.each(b, e) : f(this) : g(b)
			}), a.K = function() {}, a.createFrame = Object.create || function(b) {
				a.K.prototype = b;
				var c = new a.K;
				return a.K.prototype = null, c
			}, a.logger = {
				DEBUG: 0,
				INFO: 1,
				WARN: 2,
				ERROR: 3,
				level: 3,
				methodMap: {
					0: "debug",
					1: "info",
					2: "warn",
					3: "error"
				},
				log: function(b, c) {
					if (a.logger.level <= b) {
						var d = a.logger.methodMap[b];
						"undefined" != typeof console && console[d] && console[d].call(console, c)
					}
				}
			}, a.log = function(b, c) {
				a.logger.log(b, c)
			}, a.registerHelper("each", function(b, e) {
				var f, g = e.fn,
					h = e.inverse,
					i = 0,
					j = "",
					k = c.call(b);
				if (k === d && (b = b.call(this)), e.data && (f = a.createFrame(e.data)), b && "object" == typeof b)
					if (b instanceof Array)
						for (var l = b.length; l > i; i++) f && (f.index = i), j += g(b[i], {
							data: f
						});
					else
						for (var m in b) b.hasOwnProperty(m) && (f && (f.key = m), j += g(b[m], {
							data: f
						}), i++);
				return 0 === i && (j = h(this)), j
			}), a.registerHelper("if", function(b, e) {
				var f = c.call(b);
				return f === d && (b = b.call(this)), !b || a.Utils.isEmpty(b) ? e.inverse(this) : e.fn(this)
			}), a.registerHelper("unless", function(b, c) {
				return a.helpers["if"].call(this, b, {
					fn: c.inverse,
					inverse: c.fn
				})
			}), a.registerHelper("with", function(b, e) {
				var f = c.call(b);
				return f === d && (b = b.call(this)), a.Utils.isEmpty(b) ? void 0 : e.fn(b)
			}), a.registerHelper("log", function(b, c) {
				var d = c.data && null != c.data.level ? parseInt(c.data.level, 10) : 1;
				a.log(d, b)
			});
			var f = ["description", "fileName", "lineNumber", "message", "name", "number", "stack"];
			a.Exception = function() {
				for (var a = Error.prototype.constructor.apply(this, arguments), b = 0; b < f.length; b++) this[f[b]] = a[f[b]]
			}, a.Exception.prototype = new Error, a.SafeString = function(a) {
				this.string = a
			}, a.SafeString.prototype.toString = function() {
				return this.string.toString()
			};
			var g = {
					"&": "&amp;",
					"<": "&lt;",
					">": "&gt;",
					'"': "&quot;",
					"'": "&#x27;",
					"`": "&#x60;"
				},
				h = /[&<>"'`]/g,
				i = /[&<>"'`]/,
				j = function(a) {
					return g[a] || "&amp;"
				};
			a.Utils = {
				extend: function(a, b) {
					for (var c in b) b.hasOwnProperty(c) && (a[c] = b[c])
				},
				escapeExpression: function(b) {
					return b instanceof a.SafeString ? b.toString() : null == b || b === !1 ? "" : (b = b.toString(), i.test(b) ? b.replace(h, j) : b)
				},
				isEmpty: function(a) {
					return a || 0 === a ? "[object Array]" === c.call(a) && 0 === a.length ? !0 : !1 : !0
				}
			}, a.VM = {
				template: function(b) {
					var c = {
						escapeExpression: a.Utils.escapeExpression,
						invokePartial: a.VM.invokePartial,
						programs: [],
						program: function(b, c, d) {
							var e = this.programs[b];
							return d ? e = a.VM.program(b, c, d) : e || (e = this.programs[b] = a.VM.program(b, c)), e
						},
						merge: function(b, c) {
							var d = b || c;
							return b && c && (d = {}, a.Utils.extend(d, c), a.Utils.extend(d, b)), d
						},
						programWithDepth: a.VM.programWithDepth,
						noop: a.VM.noop,
						compilerInfo: null
					};
					return function(d, e) {
						e = e || {};
						var f = b.call(c, a, d, e.helpers, e.partials, e.data),
							g = c.compilerInfo || [],
							h = g[0] || 1,
							i = a.COMPILER_REVISION;
						if (h !== i) {
							if (i > h) {
								var j = a.REVISION_CHANGES[i],
									k = a.REVISION_CHANGES[h];
								throw "Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (" + j + ") or downgrade your runtime to an older version (" + k + ")."
							}
							throw "Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (" + g[1] + ")."
						}
						return f
					}
				},
				programWithDepth: function(a, b, c) {
					var d = Array.prototype.slice.call(arguments, 3),
						e = function(a, e) {
							return e = e || {}, b.apply(this, [a, e.data || c].concat(d))
						};
					return e.program = a, e.depth = d.length, e
				},
				program: function(a, b, c) {
					var d = function(a, d) {
						return d = d || {}, b(a, d.data || c)
					};
					return d.program = a, d.depth = 0, d
				},
				noop: function() {
					return ""
				},
				invokePartial: function(c, d, e, f, g, h) {
					var i = {
						helpers: f,
						partials: g,
						data: h
					};
					if (c === b) throw new a.Exception("The partial " + d + " could not be found");
					if (c instanceof Function) return c(e, i);
					if (a.compile) return g[d] = a.compile(c, {
						data: h !== b
					}), g[d](e, i);
					throw new a.Exception("The partial " + d + " could not be compiled when running in runtime-only mode")
				}
			}, a.template = a.VM.template, "function" == typeof define && define.amd ? define("handlebars", a) : this.Handlebars = a
		}(a)
	}(), define("../locales/de", {
			insert_image: "Bild einf\xfcgen",
			insert_video: "Video einf\xfcgen",
			insert_website: "Webseite einf\xfcgen",
			add_slide: "Folie hinzuf\xfcgen",
			remove_slide: "Folie entfernen",
			slides: "Folien",
			overview: "\xdcbersicht",
			open: "\xd6ffnen",
			save: "Speichern",
			save_as: "Speichern als...",
			new_: "Neu",
			text: "Text",
			image: "Bild",
			video: "Video",
			website: "Webseite",
			present: "Pr\xe4sentieren",
			"export": "Exportieren...",
			"import": "Importieren...",
			cut: "Ausschneiden",
			copy: "Kopieren",
			paste: "Einf\xfcgen",
			"delete": "L\xf6schen",
			undo: "R\xfcckg\xe4ngig",
			redo: "Wiederholen",
			shapes: "Formen",
			single_slide_bg: "Single Slide Background",
			invisible: "Unsichtbar",
			reset: "Zur\xfccksetzen",
			go: "Gehe",
			strut_exporter_json: {
				explain: "Dies erlaubt Ihnen, eine Datei auf Ihrem Computer zu speichern, die Sie sp\xe4ter wieder in Strut importieren k\xf6nnen.",
				click_below: "Klicken sie zum Herunterladen auf das Symbol unten"
			},
			background: "Hintergrund",
			surface: "Oberfl\xe4che"
		}), define("../locales/en", {
			insert_image: "Insert Image",
			insert_video: "Insert Video",
			insert_website: "Insert Website",
			add_slide: "Add Slide",
			remove_slide: "Remove Slide",
			slides: "Slides",
			overview: "Overview",
			open: "Open",
			save: "Save",
			save_as: "Save as...",
			new_: "New",
			text: "Text",
			image: "Image",
			video: "Video",
			website: "Website",
			present: "Present",
			"export": "Export...",
			"import": "Import...",
			cut: "Cut",
			copy: "Copy",
			paste: "Paste",
			"delete": "Delete",
			undo: "Undo",
			redo: "Redo",
			shapes: "Shapes",
			single_slide_bg: "Single Slide Background",
			invisible: "Invisible",
			reset: "Reset",
			go: "Go",
			strut_exporter_json: {
				explain: "This allows you to save a file on your computer that you can import back into Strut later.",
				click_below: "Click below to download"
			},
			background: "Background",
			surface: "Surface",
			invalid_filename: "Invalid Filename",
			new_presentation: "New Presentation",
			name: "Name",
			create_presentation: "Create Presentation"
		}), define("../locales/es", {
			insert_image: "Insertar imagen",
			insert_video: "Insertar v\xeddeo",
			insert_website: "Insertar sitio web",
			add_slide: "A\xf1adir    diapositiva",
			remove_slide: "Eliminar diapositiva",
			slides: "Diapositivas",
			overview: "Resumen",
			open: "Abrir",
			save: "Guardar",
			save_as: "Guardar como...",
			new_: "Nuevo",
			text: "Texto",
			image: "Imagen",
			video: "V\xeddeo",
			website: "Sitio Web",
			present: "Presentar",
			"export": "Exportar...",
			"import": "Importar...",
			cut: "Cortar",
			copy: "Copiar",
			paste: "Pegar",
			"delete": "Borrar",
			undo: "Deshacer",
			redo: "Rehacer",
			shapes: "Formas",
			single_slide_bg: "Single Slide Background",
			invisible: "Invisible",
			reset: "Reajustar",
			go: "Ir",
			strut_exporter_json: {
				explain: "Esto te permite guardar un archivo en tu ordenador que podr\xe1s importar en Strut posteriormente.",
				click_below: "Haz Click abajo para descargar."
			},
			background: "Fondo",
			surface: "Superficie"
		}), define("../locales/fr", {
			insert_image: "Ins\xe9rer une image",
			insert_video: "Ins\xe9rer une vid\xe9o",
			insert_website: "Ins\xe9rer un site web",
			add_slide: "Ajouter une diapo",
			remove_slide: "Supprimer la diapo",
			slides: "Diapos",
			overview: "Vue d'ensemble",
			open: "Ouvrir",
			save: "Enregistrer",
			save_as: "Enregistrer sous...",
			new_: "Nouveau",
			text: "Texte",
			image: "Image",
			video: "Vid\xe9o",
			website: "Site web",
			present: "Courant",
			"export": "Exporter...",
			"import": "Importer...",
			cut: "Couper",
			copy: "Copier",
			paste: "Coller",
			"delete": "Effacer",
			undo: "Annuler",
			redo: "Refaire",
			shapes: "Formes",
			single_slide_bg: "Fond de la diapo actuelle",
			invisible: "Invisible",
			reset: "R\xe9initialiser",
			go: "Aller",
			strut_exporter_json: {
				explain: "Vous pouvez sauvegarder la pr\xe9sentation dans un fichier que vous pourrez r\xe9importer dans Strut plus tard",
				click_below: "Cliquer ci-dessous pour t\xe9l\xe9charger le fichier"
			},
			background: "Fond de la diapo",
			surface: "Surface"
		}), define("../locales/nl", {
			insert_image: "Afbeelding invoegen",
			insert_video: "Video invoegen",
			insert_website: "Website invoegen",
			add_slide: "Dia toevoegen",
			remove_slide: "Dia verwijderen",
			slides: "Dia's",
			overview: "Overzicht",
			open: "Openen",
			save: "Opslaan",
			save_as: "Opslaan als...",
			new_: "Nieuw",
			text: "Tekst",
			image: "Afbeelding",
			video: "Video",
			website: "Website",
			present: "Presenteren",
			"export": "Exporteren...",
			"import": "Importeren...",
			cut: "Knippen",
			copy: "Kopi\xebren",
			paste: "Plakken",
			"delete": "Verwijderen",
			undo: "Ongedaan maken",
			redo: "Opnieuw",
			shapes: "Vormen",
			single_slide_bg: "Achtergrond per dia",
			invisible: "Onzichtbaar",
			reset: "Terugzetten",
			go: "Gaan",
			strut_exporter_json: {
				explain: "Deze functie maakt het mogelijk om een bestand op te slaan, welke later weer in Strut ge\xefmporteerd kan worden.",
				click_below: "Klik hieronder om te downloaden"
			},
			background: "Achtergrond",
			surface: "Werkblad"
		}), define("../locales/ru", {
			insert_image: "\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",
			insert_video: "\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0432\u0438\u0434\u0435\u043e",
			insert_website: "\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443",
			add_slide: "\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043b\u0430\u0439\u0434",
			remove_slide: "\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u043b\u0430\u0439\u0434",
			slides: "\u0421\u043b\u0430\u0439\u0434\u044b",
			overview: "\u042d\u0444\u0444\u0435\u043a\u0442\u044b",
			open: "\u041e\u0442\u043a\u0440\u044b\u0442\u044c",
			save: "\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",
			save_as: "\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u043a\u0430\u043a...",
			new_: "\u0421\u043e\u0437\u0434\u0430\u0442\u044c",
			text: "\u0422\u0435\u043a\u0441\u0442",
			image: "\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430",
			video: "\u0412\u0438\u0434\u0435\u043e",
			website: "\u0421\u0441\u044b\u043b\u043a\u0430",
			present: "\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c",
			"export": "\u042d\u043a\u0441\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c...",
			"import": "\u0418\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c...",
			cut: "\u0412\u044b\u0440\u0435\u0437\u0430\u0442\u044c",
			copy: "\u041a\u043e\u043f\u0438\u0440\u043e\u0432\u0430\u0442\u044c",
			paste: "\u0412\u0441\u0442\u0430\u0432\u0438\u0442\u044c",
			"delete": "\u0423\u0434\u0430\u043b\u0438\u0442\u044c",
			undo: "\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",
			redo: "\u041f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u044c",
			shapes: "\u0424\u0438\u0433\u0443\u0440\u044b",
			single_slide_bg: "\u0424\u043e\u043d \u043e\u0434\u043d\u043e\u0433\u043e \u0441\u043b\u0430\u0439\u0434\u0430",
			invisible: "\u041d\u0435\u0432\u0438\u0434\u0438\u043c\u044b\u0439",
			reset: "\u0421\u0431\u0440\u043e\u0441",
			go: "\u0412\u043f\u0435\u0440\u0451\u0434",
			strut_exporter_json: {
				explain: "\u0417\u0434\u0435\u0441\u044c \u043c\u043e\u0436\u043d\u043e \u0441\u043a\u0430\u0447\u0430\u0442\u044c \u0444\u0430\u0439\u043b, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u043f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043c\u043e\u0436\u043d\u043e \u0431\u0443\u0434\u0435\u0442 \u0438\u043c\u043f\u043e\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0432 Strut.",
				click_below: "\u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u043d\u0430\u0436\u043c\u0438\u0442\u0435 \u043d\u0438\u0436\u0435."
			},
			background: "\u0424\u043e\u043d",
			surface: "\u0425\u043e\u043b\u0441\u0442"
		}), define("../locales/zh", {
			insert_image: "\u6dfb\u52a0\u56fe\u7247",
			insert_audio: "\u6dfb\u52a0\u97f3\u9891",
			insert_video: "\u6dfb\u52a0\u89c6\u9891",
			insert_website: "\u5d4c\u5165\u7f51\u9875",
			add_slide: "\u6dfb\u52a0\u573a\u666f\u9875",
			remove_slide: "\u5220\u9664\u573a\u666f\u9875",
			slides: "\u573a\u666f\u9875",
			overview: "\u5168\u5c40\u89c6\u56fe",
			open: "\u6253\u5f00",
			save: "\u4fdd\u5b58",
			save_as: "\u53e6\u5b58\u4e3a...",
			new_: "\u65b0\u5efa",
			text: "\u6587\u672c",
			image: "\u56fe\u7247",
			audio: "\u97f3\u9891",
			video: "\u89c6\u9891",
			website: "\u7f51\u9875",
			present: "\u653e\u6620",
			"export": "\u5bfc\u51fa...",
			"import": "\u5bfc\u5165...",
			cut: "\u526a\u5207",
			copy: "\u590d\u5236",
			paste: "\u7c98\u8d34",
			"delete": "\u5220\u9664",
			undo: "\u64a4\u9500",
			redo: "\u91cd\u590d",
			shapes: "\u56fe\u5f62",
			single_slide_bg: "\u5355\u9875\u80cc\u666f",
			invisible: "\u9690\u85cf",
			reset: "\u91cd\u7f6e",
			go: "\u8d70",
			strut_exporter_json: {
				explain: "\u4fdd\u5b58\u5230\u672c\u5730\u786c\u76d8\u3002",
				click_below: "\u70b9\u51fb\u4e0b\u8f7d"
			},
			background: "\u80cc\u666f",
			surface: "\u5168\u5c40\u80cc\u666f",
			invalid_filename: "\u6587\u4ef6\u540d\u4e0d\u53ef\u7528",
			new_presentation: "\u65b0\u573a\u666f",
			name: "\u540d\u79f0",
			create_presentation: "\u521b\u5efa\u573a\u666f"
		}), define("lang", ["../locales/de", "../locales/en", "../locales/es", "../locales/fr", "../locales/nl", "../locales/ru", "../locales/zh", "handlebars"], function(a, b, c, d, e, f, g, h) {
			var i = {
					en: b,
					de: a,
					es: c,
					fr: d,
					nl: e,
					ru: f,
					zh: g
				},
				j = window.navigator.language || window.navigator.userLanguage,
				k = i[j.split("-")[0]] || i.en;
			return h.registerHelper("lang", function(a) {
				return k[a]
			}), k
		}), define("compiled-templates", ["handlebars"], function(a) {
			return this.JST = this.JST || {}, this.JST["strut.action_editor/action_advanced"] = a.template(function(a, b, c, d, e) {
				function f(a) {
					var b = "";
					return b += '\r\n				  	<option value="' + j(typeof a === i ? a.apply(a) : a) + '">' + j(typeof a === i ? a.apply(a) : a) + "</option>\r\n				 "
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var g, h = "",
					i = "function",
					j = this.escapeExpression,
					k = this;
				return h += '<form class="wrap_transition form-horizontal">\r\n	<div class="control-group">\r\n		<label for="ts_playtime" class="control-label">playtime : </label>\r\n		<div class="controls">\r\n			<input class="form-control" type="number" name="ts_playtime" class="ts_playtime" min="0" step="10" value="0" />\r\n		</div>\r\n	</div>\r\n	<div class="control-group">\r\n		<label for="ts_delay" class="control-label">delay : </label>\r\n		<div class="controls">\r\n			<input class="form-control" type="number" name="ts_delay" class="ts_delay" min="0" step="10" value="0" />\r\n		</div>\r\n	</div>\r\n	<div class="control-group easing-group">\r\n		<label for="ts_easing" class="control-label">easing : </label>\r\n		<div class="controls">\r\n			<select class="form-control" name="ts_easing" class="ts_easing">\r\n				 ', g = c.each.call(b, b, {
					hash: {},
					inverse: k.noop,
					fn: k.program(1, f, e),
					data: e
				}), (g || 0 === g) && (h += g), h += "\r\n			</select>\r\n		</div>\r\n	</div>\r\n</form>"
			}), this.JST["strut.action_editor/action_editor"] = a.template(function(a, b, c, d, e) {
				return this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {}, '<ul id="action-editor" class="opera-panel-content panel-group">\r\n	<li class="section-size">\r\n		<h4 class="panel-item">\u5c3a\u5bf8\u5927\u5c0f</h4>\r\n		<div class="panel-item-detail">\r\n			<div class="div-1of2"><label class="form-itemname" for="sizeX">width:</label><input type="number" class="form-itemvalue" placeholder="0" name="sizeX"></div>\r\n			<div class="div-1of2"><label class="form-itemname" for="sizeY">height:</label><input type="number" class="form-itemvalue" placeholder="0" name="sizeY"></div>\r\n		</div>\r\n	</li>\r\n	<li class="section-opacity">\r\n		<h4 class="panel-item">\u4e0d\u900f\u660e\u5ea6</h4>\r\n		<div class="panel-item-detail">\r\n			<form >\r\n				<label class="form-itemname" for="opacity">opacity:</label>\r\n				<input class="form-range" type="range" name="opacity" value="100">\r\n				<span class="form-range-output opacity-info">100</span>\r\n			</form>\r\n		</div>\r\n	</li>\r\n	<li class="section-background">\r\n		<h4 class="panel-item">\u80cc\u666f\u8272</h4>\r\n		<div class="panel-item-detail">\r\n			<label class="form-itemname" for="bgColor">background:</label><input type="color" class="form-itemvalue" placeholder="" name="bgColor">\r\n			<input type="checkbox" class="form-itemvalue" placeholder="" name="bgColorDisable" excluded><label class="form-itemname" for="bgColorDisable">\u7981\u7528</label>\r\n		</div>\r\n	</li>\r\n	<li class="section-origin">\r\n		<h4 class="panel-item">\u539f\u70b9</h4>\r\n		<div class="panel-item-detail">\r\n			<div class="div-1of2"><label class="form-itemname" for="originX">X:</label><input type="number" class="form-itemvalue" placeholder="0" name="originX" step="0.1" max=1 min=0></div>\r\n			<div class="div-1of2"><label class="form-itemname" for="originY">Y:</label><input type="number" class="form-itemvalue" placeholder="0" name="originY" step="0.1" max=1 min=0></div>\r\n			<!--<div class="div-1of2"><label class="form-itemname" for="originZ">Z:</label><input type="number" class="form-itemvalue" placeholder="0" name="originZ" step="0.1" max=1 min=0></div>-->\r\n		</div>\r\n	</li>\r\n	<li class="section-position">\r\n		<h4 class="panel-item">\u5750\u6807</h4>\r\n		<div class="panel-item-detail">\r\n			<div class="div-1of2"><label class="form-itemname" for="positionX">X:</label><input type="number" class="form-itemvalue" placeholder="0" name="positionX" step="1"></div>\r\n			<div class="div-1of2"><label class="form-itemname" for="positionY">Y:</label><input type="number" class="form-itemvalue" placeholder="0" name="positionY" step="1"></div>\r\n			<!--<div class="div-1of3"><label class="form-itemname" for="positionY">Z:</label><input type="number" class="form-itemvalue" placeholder="0" name="positionZ" step="1"></div>-->\r\n		</div>\r\n	</li>\r\n	<li class="section-skew">\r\n		<h4 class="panel-item">\u503e\u659c</h4>\r\n		<div class="panel-item-detail">\r\n			<div class="div-1of2"><label class="form-itemname" for="skewX">X:</label><input type="number" class="form-itemvalue" placeholder="0" name="skewX"></div>\r\n			<div class="div-1of2"><label class="form-itemname" for="skewY">Y:</label><input type="number" class="form-itemvalue" placeholder="0" name="skewY"></div>\r\n			<!-- <div class="div-1of2"><label class="form-itemname" for="skewY">Z:</label><input type="number" class="form-itemvalue" placeholder="0" name="skewZ"></div> -->\r\n		</div>\r\n	</li>\r\n	<li class="section-scale">\r\n		<h4 class="panel-item">\u7f29\u653e</h4>\r\n		<div class="panel-item-detail">\r\n			<div class="div-1of2"><label class="form-itemname" for="scaleX">X:</label><input type="number" class="form-itemvalue" placeholder="1" name="scaleX"  step="0.1"></div>\r\n			<div class="div-1of2"><label class="form-itemname" for="scaleY">Y:</label><input type="number" class="form-itemvalue" placeholder="1" name="scaleY"  step="0.1"></div>\r\n			<!--<div class="div-1of3"><label class="form-itemname" for="scaleZ">Z:</label><input type="number" class="form-itemvalue" placeholder="1" name="scaleZ step="0.1""></div>-->\r\n		</div>\r\n	</li>\r\n	<li class="section-rotate">\r\n		<h4 class="panel-item">\u65cb\u8f6c</h4>\r\n		<div class="panel-item-detail">\r\n			<div class="div-1of3"><label class="form-itemname" for="rotateX">X:</label><input type="number" class="form-itemvalue" placeholder="0" name="rotateX"></div>\r\n			<div class="div-1of3"><label class="form-itemname" for="rotateY">Y:</label><input type="number" class="form-itemvalue" placeholder="0" name="rotateY"></div>\r\n			<div class="div-1of3"><label class="form-itemname" for="rotateZ">Z:</label><input type="number" class="form-itemvalue" placeholder="0" name="rotateZ"></div>\r\n		</div>\r\n	</li>\r\n	<li class="section-z-order">\r\n		<h4 class="panel-item">\u5c42\u53e0\u4f4d\u7f6e</h4>\r\n		<div class="panel-item-detail">\r\n			<div class="div-1of2"><button class="btn z-order-inc"><span class="icon-plus-sign" title="\u589e\u52a0"></span></button></div>\r\n			<div class="div-1of2"><button class="btn z-order-dec"><span class="icon-minus-sign" title="\u51cf\u5c11"></span></button></div>\r\n		</div>\r\n	</li>\r\n	\r\n	<li class="section-scale-rules">\r\n		<h4 class="panel-item">\u7f29\u653e\u89c4\u5219</h4>\r\n		<div class="panel-item-detail">\r\n			<div class="div-1of3"><label class="form-itemname" for="scaleRule">\u5185\u7f29</label><input type="radio" class="form-itemvalue" value="1" name="scaleRule" checked></div>\r\n			<div class="div-1of3"><label class="form-itemname" for="scaleRule">\u5916\u6ea2</label><input type="radio" class="form-itemvalue" value="2" name="scaleRule"></div>\r\n			<div class="div-1of3"><label class="form-itemname" for="scaleRule">\u62c9\u4f38</label><input type="radio" class="form-itemvalue" value="3" name="scaleRule"></div>\r\n		</div>\r\n	</li>\r\n	<li class="section-play-status">\r\n		<h4 class="panel-item">\u64ad\u653e\u72b6\u6001</h4>\r\n		<div class="panel-item-detail">\r\n			<div class="div-1of3"><label class="form-itemname" for="playStatus">\u64ad\u653e</label><input type="radio" class="form-itemvalue" value="1" name="playStatus"></div>\r\n			<div class="div-1of3"><label class="form-itemname" for="playStatus">\u6682\u505c</label><input type="radio" class="form-itemvalue" value="2" name="playStatus"></div>\r\n			<div class="div-1of3"><label class="form-itemname" for="playStatus">\u505c\u6b62</label><input type="radio" class="form-itemvalue" value="3" name="playStatus" checked></div>\r\n		</div>\r\n	</li>\r\n	<li class="section-play-property">\r\n		<h4 class="panel-item">\u64ad\u653e\u5c5e\u6027</h4>\r\n		<div class="panel-item-detail">\r\n			<div class="div-1of2"><label class="form-itemname" for="playBackground">\u80cc\u666f</label><input type="checkbox" class="form-itemvalue"  name="playBackground"></div>\r\n			<div class="div-1of2"><label class="form-itemname" for="playLoop">\u5faa\u73af</label><input type="checkbox" class="form-itemvalue" name="playLoop"></div>\r\n		</div>\r\n	</li>\r\n</ul>'
			}), this.JST["strut.action_editor/action_wrap"] = a.template(function(a, b, c, d, e) {
				function f() {
					return "editable_action"
				}

				function g() {
					return '\r\n	  <span class="icon icon-remove" title="\u5220\u9664\u52a8\u4f5c"></span>\r\n	'
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var h, i = "",
					j = this,
					k = "function",
					l = this.escapeExpression;
				return i += '<div class="action_wrap zebra_row_black_white ', h = c["if"].call(b, b.removeAble, {
					hash: {},
					inverse: j.noop,
					fn: j.program(1, f, e),
					data: e
				}), (h || 0 === h) && (i += h), i += '" data-action_id="', (h = c.actionId) ? h = h.call(b, {
					hash: {},
					data: e
				}) : (h = b.actionId, h = typeof h === k ? h.apply(b) : h), i += l(h) + '" data-node_id="', (h = c.nodeId) ? h = h.call(b, {
					hash: {},
					data: e
				}) : (h = b.nodeId, h = typeof h === k ? h.apply(b) : h), i += l(h) + '">\r\n	<div class="content action_item">', (h = c.actionName) ? h = h.call(b, {
					hash: {},
					data: e
				}) : (h = b.actionName, h = typeof h === k ? h.apply(b) : h), i += l(h) + "</div>\r\n	", h = c["if"].call(b, b.removeAble, {
					hash: {},
					inverse: j.noop,
					fn: j.program(3, g, e),
					data: e
				}), (h || 0 === h) && (i += h), i += '\r\n	<span class="icon icon-cog" title="\u8bbe\u7f6e\u52a8\u4f5c"></span>\r\n</div>			'
			}), this.JST["strut.action_editor/event_pannel"] = a.template(function(a, b, c, d, e) {
				function f() {
					return '\r\n			<input type="text" class="input-small ui_event_name" placeholder="tap" value="tap">\r\n			<label class="checkbox">\r\n	    		<input type="checkbox" class="ui_event_prpgt">\u4f20\u64ad\r\n	   	 	</label>\r\n			'
				}

				function g() {
					return "\r\n					<th>\u4e8b\u4ef6</th>\r\n					<th>\u4f20\u64ad</th>\r\n					"
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var h, i = "",
					j = "function",
					k = this.escapeExpression,
					l = this;
				return i += '<fieldset>\r\n	<div class="event_head">', (h = c.name) ? h = h.call(b, {
					hash: {},
					data: e
				}) : (h = b.name, h = typeof h === j ? h.apply(b) : h), i += k(h) + '<button class="btn btn-danger add_listener">\u6dfb\u52a0</button></div>\r\n	<div class="event_content">\r\n		<div class="form-inline event_op">\r\n			', h = c["if"].call(b, b.ui, {
					hash: {},
					inverse: l.noop,
					fn: l.program(1, f, e),
					data: e
				}), (h || 0 === h) && (i += h), i += '\r\n			<select class="input-small listener_comp"></select>\r\n			<select class="input-small listener_method"></select>\r\n			<input type="text" class="input-small listener_param" placeholder="\u65e0">\r\n			<button type="submit" class="btn btn-success add_listener_ok">\u786e\u5b9a</button>\r\n		</div>\r\n		<table class="table table-hover table-condensed table-striped">\r\n			<thead>\r\n				<tr>\r\n					', h = c["if"].call(b, b.ui, {
					hash: {},
					inverse: l.noop,
					fn: l.program(3, g, e),
					data: e
				}), (h || 0 === h) && (i += h), i += "\r\n					<th>\u76ee\u6807\u5b9e\u4f53</th>\r\n					<th>\u65b9\u6cd5</th>\r\n					<th>\u53c2\u6570</th>\r\n					<th>\u64cd\u4f5c</th>\r\n				</tr>\r\n			</thead>\r\n			<tbody></tbody>\r\n		</table>\r\n	</div>\r\n</fieldset>"
			}), this.JST["strut.action_editor/event_pannel_listener"] = a.template(function(a, b, c, d, e) {
				function f(a, b) {
					var d, e = "";
					return e += '\r\n	<td title="', (d = c.event) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.event, d = typeof d === p ? d.apply(a) : d), e += q(d) + '">', (d = c.event) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.event, d = typeof d === p ? d.apply(a) : d), e += q(d) + "</td>\r\n	<td>\r\n		", d = c["if"].call(a, a.propagation, {
						hash: {},
						inverse: r.program(4, h, b),
						fn: r.program(2, g, b),
						data: b
					}), (d || 0 === d) && (e += d), e += "\r\n	</td>\r\n	"
				}

				function g() {
					return "\r\n		\u662f\r\n		"
				}

				function h() {
					return "\r\n		\u5426\r\n		"
				}

				function i() {
					var a = "";
					return a
				}

				function j(a, b) {
					var d, e = "";
					return e += '\r\n	<td title="', (d = c.param) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.param, d = typeof d === p ? d.apply(a) : d), e += q(d) + '">', (d = c.param) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.param, d = typeof d === p ? d.apply(a) : d), e += q(d) + "</td>\r\n	"
				}

				function k() {
					return '\r\n	<td title="\u65e0">\u65e0</td>\r\n	'
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var l, m, n, o = "",
					p = "function",
					q = this.escapeExpression,
					r = this,
					s = c.helperMissing;
				return o += "<tr>\r\n	", l = c["if"].call(b, b.event, {
					hash: {},
					inverse: r.noop,
					fn: r.program(1, f, e),
					data: e
				}), (l || 0 === l) && (o += l), o += '\r\n	\r\n	<td title="', (l = c.targetName) ? l = l.call(b, {
					hash: {},
					data: e
				}) : (l = b.targetName, l = typeof l === p ? l.apply(b) : l), o += q(l) + '" data-comp_id="', (l = c.targetId) ? l = l.call(b, {
					hash: {},
					data: e
				}) : (l = b.targetId, l = typeof l === p ? l.apply(b) : l), o += q(l) + '">', n = {
					hash: {},
					inverse: r.noop,
					fn: r.program(6, i, e),
					data: e
				}, l = c.showEventEntityName || b.showEventEntityName, m = l ? l.call(b, b.targetType, b.targetName, n) : s.call(b, "showEventEntityName", b.targetType, b.targetName, n), (m || 0 === m) && (o += m), o += '</td>\r\n	<td title="', (m = c.method) ? m = m.call(b, {
					hash: {},
					data: e
				}) : (m = b.method, m = typeof m === p ? m.apply(b) : m), o += q(m) + '">', (m = c.method) ? m = m.call(b, {
					hash: {},
					data: e
				}) : (m = b.method, m = typeof m === p ? m.apply(b) : m), o += q(m) + "</td>\r\n	\r\n	", m = c["if"].call(b, b.param, {
					hash: {},
					inverse: r.program(10, k, e),
					fn: r.program(8, j, e),
					data: e
				}), (m || 0 === m) && (o += m), o += '\r\n	<td>\r\n		<button class="btn btn-small btn-danger delete_listener">\u5220\u9664</button>\r\n	</td>\r\n</tr>'
			}), this.JST["strut.action_editor/event_pannel_option"] = a.template(function(a, b, c, d, e) {
				function f(a, b) {
					var d, e, f, j = "";
					return j += "\r\n<option ", d = c["if"].call(a, a.key, {
						hash: {},
						inverse: m.program(4, h, b),
						fn: m.program(2, g, b),
						data: b
					}), (d || 0 === d) && (j += d), j += ' data-name="', (d = c.name) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.name, d = typeof d === k ? d.apply(a) : d), j += l(d) + '" data-type="', (d = c.type) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.type, d = typeof d === k ? d.apply(a) : d), j += l(d) + '">\r\n', f = {
						hash: {},
						inverse: m.noop,
						fn: m.program(6, i, b),
						data: b
					}, d = c.showEventEntityName || a.showEventEntityName, e = d ? d.call(a, a.type, a.name, f) : n.call(a, "showEventEntityName", a.type, a.name, f), (e || 0 === e) && (j += e), j += "\r\n</option>\r\n"
				}

				function g(a, b) {
					var d, e = "";
					return e += 'value="', (d = c.key) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.key, d = typeof d === k ? d.apply(a) : d), e += l(d) + '"'
				}

				function h(a, b) {
					var d, e = "";
					return e += 'value="', (d = c.id) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.id, d = typeof d === k ? d.apply(a) : d), e += l(d) + '"'
				}

				function i() {
					var a = "";
					return a
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var j, k = "function",
					l = this.escapeExpression,
					m = this,
					n = c.helperMissing;
				return j = c.each.call(b, b, {
					hash: {},
					inverse: m.noop,
					fn: m.program(1, f, e),
					data: e
				}), j || 0 === j ? j : ""
			}), this.JST["strut.action_editor/hold_wrap"] = a.template(function(a, b, c, d, e) {
				function f() {
					return "editable_action"
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var g, h = "",
					i = this,
					j = "function",
					k = this.escapeExpression;
				return h += '<div class="hold_wrap zebra_row_black_white ', g = c["if"].call(b, b.removeAble, {
					hash: {},
					inverse: i.noop,
					fn: i.program(1, f, e),
					data: e
				}), (g || 0 === g) && (h += g), h += '" data-action_id="', (g = c.actionId) ? g = g.call(b, {
					hash: {},
					data: e
				}) : (g = b.actionId, g = typeof g === j ? g.apply(b) : g), h += k(g) + '" data-node_id="', (g = c.nodeId) ? g = g.call(b, {
					hash: {},
					data: e
				}) : (g = b.nodeId, g = typeof g === j ? g.apply(b) : g), h += k(g) + '">\r\n	<div class="content">\u53cc\u51fb\u6dfb\u52a0</div>\r\n</div>			'
			}), this.JST["strut.action_editor/node_advanced"] = a.template(function(a, b, c, d, e) {
				return this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {}, '<form class=" form-horizontal">\r\n	<div class="control-group">\r\n		<label class="control-label">\u4e8b\u4ef6 :</label>\r\n		<div class="controls">\r\n			<label class="inline">\r\n				<button class="btn btn-danger btn-small btn-cog-event">\u8bbe\u7f6e</button>\r\n			</label>\r\n		</div>\r\n	</div>\r\n	<div class="control-group replace-resource">\r\n		<label class="control-label">\u8d44\u6e90 :</label>\r\n		<div class="controls">\r\n			<label class="inline">\r\n				<button class="btn btn-danger btn-small btn-replace-source">\u66ff\u6362</button>\r\n			</label>\r\n		</div>\r\n	</div>\r\n	<div class="control-group image-recognizable-wrap">\r\n		<label class="control-label">\u5fae\u4fe1\u53ef\u8bc6\u522b :</label>\r\n		<div class="controls">\r\n			<input id="image-recognizable" type="checkbox">\r\n		</div>\r\n	</div>\r\n</form>'
			}), this.JST["strut.action_editor/node_wrap"] = a.template(function(a, b, c, d, e) {
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var f, g = "",
					h = "function",
					i = this.escapeExpression;
				return g += '<div class="node_wrap zebra_row_black_white" data-node_id="', (f = c.nodeId) ? f = f.call(b, {
					hash: {},
					data: e
				}) : (f = b.nodeId, f = typeof f === h ? f.apply(b) : f), g += i(f) + '">\r\n	<div class="content node_item">', (f = c.nodeName) ? f = f.call(b, {
					hash: {},
					data: e
				}) : (f = b.nodeName, f = typeof f === h ? f.apply(b) : f), g += i(f) + '</div>\r\n	<span class="icon icon-remove" title="\u5220\u9664\u7ec4\u4ef6"></span>\r\n	<span class="icon icon-lock icon-lock-open" title="\u9501\u5b9a/\u89e3\u9501\u7ec4\u4ef6"></span>\r\n	<span class="icon icon-visible icon-eye-open" title="\u663e\u793a/\u9690\u85cf\u7ec4\u4ef6"></span>\r\n	<span class="icon icon-cog" title="\u8bbe\u7f6e\u7ec4\u4ef6"></span>\r\n</div>			'
			}), this.JST["strut.action_editor/scene_advanced"] = a.template(function(a, b, c, d, e) {
				return this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {}, '<form class=" form-horizontal">\r\n	<div class="control-group scene-event-wrap">\r\n		<label class="control-label">\u573a\u666f\u4e8b\u4ef6 :</label>\r\n		<div class="controls">\r\n			<label class="inline">\r\n				<button class="btn btn-danger btn-small btn-cog-event">\u8bbe\u7f6e</button>\r\n			</label>\r\n		</div>\r\n	</div>\r\n	<div class="control-group play-control-wrap">\r\n		<label class="control-label">\u64ad\u653e\u63a7\u5236 :</label>\r\n		<label class="radio inline">\r\n    \u662f <input type="radio" name="play_control"  value="1" checked>\r\n    </label>\r\n    <label class="radio inline">\r\n     \u5426 <input type="radio" name="play_control"  value="0">\r\n    </label>\r\n	</div>\r\n	<div class="control-group">\r\n		<label class="control-label">\u80cc\u666f\u989c\u8272 :</label>\r\n		<div class="controls">\r\n			<input type="color" value="#ffffff" class="btn btn-danger btn-small input-bg-color" placeholder="">\r\n      		<button class="btn btn-danger btn-small btn-clear-bg-color">\u6e05\u9664</button>\r\n		</div>\r\n	</div>\r\n	<div class="control-group">\r\n		<label class="control-label">\u80cc\u666f\u56fe\u7247 :</label>\r\n		<div class="controls">\r\n			<button class="btn btn-danger btn-small btn-set-bg-image">\u8bbe\u7f6e</button>\r\n      		<button class="btn btn-danger btn-small btn-clear-bg-image">\u6e05\u9664</button>\r\n		</div>\r\n	</div>\r\n</form>';

			}), this.JST["strut.action_editor/scene_editor"] = a.template(function(a, b, c, d, e) {
				function f(a) {
					var b = "";
					return b += '\r\n					  	<option value="' + j(typeof a === i ? a.apply(a) : a) + '">' + j(typeof a === i ? a.apply(a) : a) + "</option>\r\n					 "
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var g, h = "",
					i = "function",
					j = this.escapeExpression,
					k = this;
				return h += '\r\n<ul id="scene-editor" class="opera-panel-content panel-group">\r\n	<li class="section-scene-status">\r\n		<h4 class="panel-item">\u573a\u666f\u72b6\u6001</h4>\r\n		<div class="panel-item-detail">\r\n			<select name="sceneStatus">\r\n				<option value="orderInAction">\u987a\u5e8f\u8fdb\u5165\u5f00\u59cb</option>\r\n				<option value="orderOutAction">\u987a\u5e8f\u9000\u51fa\u7ed3\u675f</option>\r\n				<option value="reverseInAction">\u9006\u5e8f\u8fdb\u5165\u5f00\u59cb</option>\r\n				<option value="reverseOutAction">\u9006\u5e8f\u9000\u51fa\u7ed3\u675f</option>\r\n			</select>\r\n		</div>\r\n	</li>\r\n	<li class="section-opacity">\r\n		<h4 class="panel-item">\u4e0d\u900f\u660e\u5ea6</h4>\r\n		<div class="panel-item-detail">\r\n			<form >\r\n				<label class="form-itemname">opacity:</label>\r\n				<input class="form-range" type="range" name="opacity">\r\n				<span class="form-range-output opacity-info" for="opacity">100</span>\r\n			</form>\r\n		</div>\r\n	</li>\r\n	<li class="section-position">\r\n		<h4 class="panel-item">\u5750\u6807</h4>\r\n		<div class="panel-item-detail">\r\n			<div class="div-1of3"><label class="form-itemname" for="positionX">X:</label><input type="number" class="form-itemvalue" placeholder="0" name="positionX" step="1"></div>\r\n			<div class="div-1of3"><label class="form-itemname" for="positionY">Y:</label><input type="number" class="form-itemvalue" placeholder="0" name="positionY" step="1"></div>\r\n			<div class="div-1of3"><label class="form-itemname" for="positionY">Z:</label><input type="number" class="form-itemvalue" placeholder="0" name="positionZ" step="1"></div>\r\n		</div>\r\n	</li>\r\n\r\n	<li class="section-scale">\r\n		<h4 class="panel-item">\u7f29\u653e</h4>\r\n		<div class="panel-item-detail">\r\n			<div class="div-1of3"><label class="form-itemname" for="scaleX">X:</label><input type="number" class="form-itemvalue" placeholder="1" name="scaleX"  step="0.1"></div>\r\n			<div class="div-1of3"><label class="form-itemname" for="scaleY">Y:</label><input type="number" class="form-itemvalue" placeholder="1" name="scaleY"  step="0.1"></div>\r\n			<div class="div-1of3"><label class="form-itemname" for="scaleZ">Z:</label><input type="number" class="form-itemvalue" placeholder="1" name="scaleZ" step="0.1"></div>\r\n		</div>\r\n	</li>\r\n	<li class="section-rotate">\r\n		<h4 class="panel-item">\u65cb\u8f6c</h4>\r\n		<div class="panel-item-detail">\r\n			<div class="div-1of3"><label class="form-itemname" for="rotateX">X:</label><input type="number" class="form-itemvalue" placeholder="0" name="rotateX"></div>\r\n			<div class="div-1of3"><label class="form-itemname" for="rotateY">Y:</label><input type="number" class="form-itemvalue" placeholder="0" name="rotateY"></div>\r\n			<div class="div-1of3"><label class="form-itemname" for="rotateZ">Z:</label><input type="number" class="form-itemvalue" placeholder="0" name="rotateZ"></div>\r\n		</div>\r\n	</li>\r\n	<li class="section-skew">\r\n		<h4 class="panel-item">\u503e\u659c</h4>\r\n		<div class="panel-item-detail">\r\n			<div class="div-1of3"><label class="form-itemname" for="skewX">X:</label><input type="number" class="form-itemvalue" placeholder="0" name="skewX"></div>\r\n			<div class="div-1of3"><label class="form-itemname" for="skewY">Y:</label><input type="number" class="form-itemvalue" placeholder="0" name="skewY"></div>\r\n			<div class="div-1of3"><label class="form-itemname" for="skewZ">Z:</label><input type="number" class="form-itemvalue" placeholder="0" name="skewZ"></div>\r\n		</div>\r\n	</li>\r\n	<li class="section-transition">\r\n		<h4 class="panel-item">\u8f6c\u573a\u6548\u679c</h4>\r\n		<div class="panel-item-detail">\r\n			<div class="div-1of1"><label class="form-itemname" for="duration">\u65f6\u957f:</label><input type="number" class="form-itemvalue" placeholder="0" name="duration"></div>\r\n			<div class="div-1of1"><label class="form-itemname" for="delay">\u5ef6\u65f6:</label><input type="number" class="form-itemvalue" placeholder="0" name="delay"></div>\r\n			<div class="div-1of1">\r\n				<label class="form-itemname" for="easing">\u7f13\u52a8:</label>\r\n				<select class="form-itemvalue" name="easing">\r\n					 ', g = c.each.call(b, b, {
					hash: {},
					inverse: k.noop,
					fn: k.program(1, f, e),
					data: e
				}), (g || 0 === g) && (h += g), h += '\r\n				</select>\r\n			</div>\r\n		</div>\r\n	</li>\r\n	<li class="section-operation">\r\n		<h4 class="panel-item">\u72b6\u6001\u5e94\u7528</h4>\r\n		<div class="panel-item-detail">\r\n			<button class="btn btn-warning btn-apply-to-status">\u5e94\u7528\u5230\u5f53\u524d\u573a\u666f\u7684\u5176\u4ed6\u72b6\u6001</button>\r\n			<button class="btn btn-info btn-apply-to-scene">\u5e94\u7528\u5230\u6240\u6709\u573a\u666f\u7684\u5f53\u524d\u72b6\u6001</button>\r\n			<button class="btn btn-danger btn-apply-to-all">\u5e94\u7528\u5230\u6240\u6709\u573a\u666f\u7684\u6240\u6709\u72b6\u6001</button>\r\n		</div>\r\n	</li>\r\n</ul>'
			}), this.JST["strut.action_editor/step"] = a.template(function(a, b, c, d, e) {
				function f() {
					return "editable_step"
				}

				function g() {
					return '\r\n		   <span class="icon icon-remove" title="\u5220\u9664\u6b65\u9aa4"></span>\r\n		'
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var h, i = "",
					j = "function",
					k = this.escapeExpression,
					l = this;
				return i += '<td data-step_id="', (h = c.id) ? h = h.call(b, {
					hash: {},
					data: e
				}) : (h = b.id, h = typeof h === j ? h.apply(b) : h), i += k(h) + '">\r\n	<div class="step_hd_action ', h = c["if"].call(b, b.removeAble, {
					hash: {},
					inverse: l.noop,
					fn: l.program(1, f, e),
					data: e
				}), (h || 0 === h) && (i += h), i += '">\r\n		<div class="content">', (h = c.name) ? h = h.call(b, {
					hash: {},
					data: e
				}) : (h = b.name, h = typeof h === j ? h.apply(b) : h), i += k(h) + "</div>\r\n		", h = c["if"].call(b, b.removeAble, {
					hash: {},
					inverse: l.noop,
					fn: l.program(3, g, e),
					data: e
				}), (h || 0 === h) && (i += h), i += '\r\n		<span class="icon icon-plus-sign" title="\u6dfb\u52a0\u6b65\u9aa4"></span>\r\n		<span class="icon icon-cog" title="\u8bbe\u7f6e\u6b65\u9aa4"></span>\r\n	</div>\r\n	<div class="step_cnt_action"></div>\r\n</td>'
			}), this.JST["strut.action_editor/step_advanced"] = a.template(function(a, b, c, d, e) {
				return this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {}, '<form class=" form-horizontal">\r\n	<div class="control-group">\r\n		<label for="sp_play_end_paused" class="control-label">\u64ad\u5b8c\u6682\u505c :</label>\r\n		<div class="controls">\r\n			<label class="radio inline">\r\n			  \u662f <input type="radio" name="sp_play_end_paused"  value="1">\r\n			</label>\r\n			<label class="radio inline">\r\n			  \u5426 <input type="radio" name="sp_play_end_paused"  value="0">\r\n			</label>\r\n		</div>\r\n	</div>\r\n	<div class="control-group">\r\n		<label class="control-label">\u4e8b\u4ef6:</label>\r\n		<div class="controls">\r\n			<label class="inline">\r\n				<button class="btn btn-danger btn-small btn-cog-event">\u8bbe\u7f6e</button>\r\n			</label>\r\n		</div>\r\n	</div>\r\n</form>'
			}), this.JST["strut.action_editor/step_list_advanced"] = a.template(function(a, b, c, d, e) {
				return this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {}, '<form class=" form-horizontal">\r\n	<div class="control-group">\r\n		<label for="spl_loop" class="control-label">\u5faa\u73af\u64ad\u653e :</label>\r\n		<div class="controls">\r\n			<label class="radio inline">\r\n			  \u662f <input type="radio" name="spl_loop"  value="1">\r\n			</label>\r\n			<label class="radio inline">\r\n			  \u5426 <input type="radio" name="spl_loop"  value="0">\r\n			</label>\r\n		</div>\r\n	</div>\r\n</form>'
			}), this.JST["strut.action_editor/step_list_cnt"] = a.template(function(a, b, c, d, e) {
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var f, g = "",
					h = "function",
					i = this.escapeExpression;
				return g += '<li class="step_list_cnt" data-step_list_id="', (f = c.stepListId) ? f = f.call(b, {
					hash: {},
					data: e
				}) : (f = b.stepListId, f = typeof f === h ? f.apply(b) : f), g += i(f) + '">\r\n	<table class="table table-striped table-bordered table-condensed">\r\n		<tr class="step_list">\r\n			<td>\r\n				<div class="step_hd_node">\r\n					<div class="content">\u7ec4\u4ef6</div>\r\n					<span class="icon icon-plus-sign" title="\u6dfb\u52a0\u52a8\u753b"></span>\r\n				</div>\r\n				<div class="step_cnt_node"></div>\r\n			</td>\r\n		</tr>\r\n	</table>\r\n</li>\r\n'
			}), this.JST["strut.action_editor/step_list_collection"] = a.template(function(a, b, c, d, e) {
				return this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {}, '<div id="step_list_collection_cog">\r\n	<span class="icon icon-plus-sign" title="\u6dfb\u52a0\u6b65\u9aa4\u5217\u8868"></span>\r\n	<span class="icon icon-cog" title="\u573a\u666f\u53c2\u6570\u8bbe\u7f6e"></span>\r\n</div>\r\n<ul class="nav nav-tabs" id="step_list_collection_hd"></ul>\r\n<ul id="step_list_collection_cnt"></ul>'
			}), this.JST["strut.action_editor/step_list_hd"] = a.template(function(a, b, c, d, e) {
				function f() {
					return "editable_steplist"
				}

				function g() {
					return '\r\n		   <span class="icon icon-remove" title="\u5220\u9664\u6b65\u9aa4\u5217\u8868"></span>\r\n		'
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var h, i = "",
					j = this,
					k = "function",
					l = this.escapeExpression;
				return i += '<li class="step_list_hd ', h = c["if"].call(b, b.removeAble, {
					hash: {},
					inverse: j.noop,
					fn: j.program(1, f, e),
					data: e
				}), (h || 0 === h) && (i += h), i += "\" data-step_list_id='", (h = c.stepListId) ? h = h.call(b, {
					hash: {},
					data: e
				}) : (h = b.stepListId, h = typeof h === k ? h.apply(b) : h), i += l(h) + '\'>\r\n	<div class="step_list_hd_wrap">\r\n		<a href="#" class="step_list_hd_btn">', (h = c.stepListName) ? h = h.call(b, {
					hash: {},
					data: e
				}) : (h = b.stepListName, h = typeof h === k ? h.apply(b) : h), i += l(h) + "</a>\r\n		", h = c["if"].call(b, b.removeAble, {
					hash: {},
					inverse: j.noop,
					fn: j.program(3, g, e),
					data: e
				}), (h || 0 === h) && (i += h), i += '\r\n		<span class="icon icon-cog" title="\u8bbe\u7f6e\u6b65\u9aa4\u5217\u8868"></span>\r\n	</div>\r\n</li>\r\n'
			}), this.JST["strut.action_editor/step_list_pannel"] = a.template(function(a, b, c, d, e) {
				return this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {}, '<div id="step_list_resize_bar"></div>\r\n<div id="step_list_editor_wrap"></div>'
			}), this.JST["strut.action_editor/viewport_advanced"] = a.template(function(a, b, c, d, e) {
				return this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {}, '<div class="btn-group" id="viewport_advanced">\r\n  <a class="btn btn-danger btn-large dropdown-toggle" data-toggle="dropdown" href="#">\r\n    \u8bbe\u7f6e\r\n    <span class="caret whiteCaret"></span>\r\n  </a>\r\n  <ul class="dropdown-menu">\r\n  	<li>\r\n  		<label for="viewport_width">\u5bbd\u5ea6</label>\r\n  		<input type="number" step="1" value="0" name="viewport_width"/>\r\n  	</li>\r\n  	<li>\r\n  		<label for="viewport_height">\u9ad8\u5ea6</label>\r\n  		<input type="number" step="1" value="0" name="viewport_height"/>\r\n  	</li>\r\n  	<li class="sc_loop_wrap">\r\n		<label>\u5faa\u73af</label>\r\n  		<label class="radio inline">\r\n		\u662f <input type="radio" name="sc_loop"  value="1" checked>\r\n		</label>\r\n		<label class="radio inline">\r\n		 \u5426 <input type="radio" name="sc_loop"  value="0">\r\n		</label>\r\n  	</li>\r\n    <br>\r\n      <li class="sc_orientation_mode_wrap">\r\n    <label>\u65b9\u5411</label>\r\n      <label class="radio inline">\r\n        \u4e0d\u9650<input type="radio" name="orientation_mode"  value="1" checked>\r\n    </label>\r\n    <label class="radio inline">\r\n        \u6a2a\u5c4f<input type="radio" name="orientation_mode"  value="16">\r\n    </label>\r\n    <br/>\r\n    <label> </label>\r\n    <label class="radio inline">\r\n        \u7ad6\u5c4f<input type="radio" name="orientation_mode"  value="17">\r\n    </label>\r\n    </li>\r\n    <br>\r\n        <li class="sc_loop_wrap">\r\n    <label>\u9ed8\u8ba4<br>\u64ad\u653e<br>\u63a7\u5236</label>\r\n      <label class="radio inline">\r\n    \u662f <input type="radio" name="play_control"  value="1" checked>\r\n    </label>\r\n    <label class="radio inline">\r\n     \u5426 <input type="radio" name="play_control"  value="0">\r\n    </label>\r\n    </li>\r\n    <br>\r\n  	<li class="sc_loop_wrap">\r\n		<label>\u9002\u5e94</label>\r\n  		<label class="radio inline">\r\n  			\u65e0<input type="radio" name="scale_rule"  value="0" checked>\r\n		</label>\r\n		<label class="radio inline">\r\n  			\u5185\u7f29<input type="radio" name="scale_rule"  value="1">\r\n		</label>\r\n		<br/>\r\n		<label> </label>\r\n		<label class="radio inline">\r\n  			\u5916\u6ea2<input type="radio" name="scale_rule"  value="2">\r\n		</label>\r\n		<label class="radio inline">\r\n  			\u62c9\u4f38<input type="radio" name="scale_rule"  value="3">\r\n		</label>\r\n  	</li>\r\n    <br>\r\n    <li class="viewport-event-wrap">\r\n      <label class="control-label">\u4e8b\u4ef6</label>\r\n      <button class="btn btn-danger btn-small btn-cfg-event">\u8bbe\u7f6e</button>\r\n    </li>\r\n    <br>\r\n    <li>\r\n      <label>\u80cc\u666f\u8272</label>\r\n      <input type="color" value="#ffffff" class="btn btn-danger btn-small input-bg-color" placeholder="">\r\n      <button class="btn btn-danger btn-small btn-clear-bg-color">\u6e05\u9664</button>\r\n    </li>\r\n    <br>\r\n    <li>\r\n      <label>\u80cc\u666f\u56fe</label>\r\n      <button class="btn btn-danger btn-small btn-set-bg-image">\u8bbe\u7f6e</button>\r\n      <button class="btn btn-danger btn-small btn-clear-bg-image">\u6e05\u9664</button>\r\n    </li>\r\n  </ul>\r\n</div>'
			}), this.JST["strut.etch_extension/align"] = a.template(function(a, b, c, d, e) {
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var f, g = "",
					h = "function",
					i = this.escapeExpression;
				return g += '<a href="#" \r\n	class="btn btn-small etch-', (f = c.button) ? f = f.call(b, {
					hash: {},
					data: e
				}) : (f = b.button, f = typeof f === h ? f.apply(b) : f), g += i(f) + '" title="', (f = c.title) ? f = f.call(b, {
					hash: {},
					data: e
				}) : (f = b.title, f = typeof f === h ? f.apply(b) : f), g += i(f) + '"><i class="icon-align-', (f = c.icon) ? f = f.call(b, {
					hash: {},
					data: e
				}) : (f = b.icon, f = typeof f === h ? f.apply(b) : f), g += i(f) + '"></i></a>'
			}), this.JST["strut.etch_extension/colorChooser"] = a.template(function(a, b, c, d, e) {
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var f, g = "",
					h = "function",
					i = this.escapeExpression;
				return g += '<input class="color-chooser colorpicker etch-', (f = c.button) ? f = f.call(b, {
					hash: {},
					data: e
				}) : (f = b.button, f = typeof f === h ? f.apply(b) : f), g += i(f) + '" />'
			}), this.JST["strut.etch_extension/defaultButton"] = a.template(function(a, b, c, d, e) {
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var f, g = "",
					h = "function",
					i = this.escapeExpression;
				return g += '<a href="#" \r\n	class="btn btn-small etch-', (f = c.button) ? f = f.call(b, {
					hash: {},
					data: e
				}) : (f = b.button, f = typeof f === h ? f.apply(b) : f), g += i(f) + '" title="', (f = c.title) ? f = f.call(b, {
					hash: {},
					data: e
				}) : (f = b.title, f = typeof f === h ? f.apply(b) : f), g += i(f) + '"><span>', (f = c.display) ? f = f.call(b, {
					hash: {},
					data: e
				}) : (f = b.display, f = typeof f === h ? f.apply(b) : f), g += i(f) + "</span></a>"
			}), this.JST["strut.etch_extension/fontFamilySelection"] = a.template(function(a, b, c, d, e) {
				return this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {}, '<div class="btn-group">\r\n	<button class="btn btn-inverse dropdown-toggle btn-small fontFamilyBtn" data-toggle="dropdown" title="Choose the font family"><span class="text">Lato</span><span class="caret"></span></button>\r\n	<ul class="dropdown-menu menuBarOption" data-option="fontFamily">\r\n		<li>\r\n                  <a href="#" data-value="\u5b8b\u4f53,SimSun" style="font-family:\u5b8b\u4f53,SimSun">\u5b8b\u4f53</a>\r\n                  <a href="#" data-value="\u5fae\u8f6f\u96c5\u9ed1,Microsoft YaHei" style="font-family:\u5fae\u8f6f\u96c5\u9ed1,Microsoft YaHei">\u5fae\u8f6f\u96c5\u9ed1</a>\r\n                  <a href="#" data-value="\u6977\u4f53,\u6977\u4f53_GB2312, SimKai" style="font-family:\u6977\u4f53,\u6977\u4f53_GB2312, SimKai">\u6977\u4f53</a>\r\n                  <a href="#" data-value="\u9ed1\u4f53, SimHei" style="font-family:\u9ed1\u4f53, SimHei">\u9ed1\u4f53</a>\r\n                  <a href="#" data-value="\u96b6\u4e66, SimLi" style="font-family:\u96b6\u4e66, SimLi">\u96b6\u4e66</a>\r\n                  <a href="#" data-value="andale mono" style="font-family:andale mono">andale mono</a>\r\n                  <a href="#" data-value="arial, helvetica,sans-serif" style="font-family:arial, helvetica,sans-serif">arial</a>\r\n                  <a href="#" data-value="arial black,avant garde" style="font-family:arial black,avant garde">arial black</a>\r\n                  <a href="#" data-value="comic sans ms" style="font-family:comic sans ms">comic sans ms</a>\r\n                  <a href="#" data-value="impact,chicago" style="font-family:impact,chicago">impact</a>\r\n                  <a href="#" data-value="times new roman" style="font-family:times new roman">times new roman</a>\r\n                  <a href="#" data-value="sans-serif" style="font-family:sans-serif">sans-serif</a>\r\n		</li>\r\n	</ul>\r\n</div>'
			}), this.JST["strut.etch_extension/fontSizeSelection"] = a.template(function(a, b, c, d, e) {
				return this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {}, '<div class="btn-group">\r\n	<a class="btn btn-small btn-inverse dropdown-toggle" data-toggle="dropdown" title="Choose the font size"><span class="text fontSizeReadout">72</span>\r\n		<span class="caret"></span></a>\r\n	<ul class="dropdown-menu menuBarOption" data-option="fontSize">\r\n		<li>\r\n                  <a href="#" data-value="144">144</a>\r\n                  <a href="#" data-value="96">96</a>\r\n                  <a href="#" data-value="72">72</a>\r\n			<a href="#" data-value="64">64</a>\r\n                  <a href="#" data-value="48">48</a>\r\n                  <a href="#" data-value="36">36</a>\r\n                  <a href="#" data-value="24">24</a>\r\n                  <a href="#" data-value="16">16</a>\r\n                  <a href="#" data-value="12">12</a>\r\n                  <a href="#" data-value="8">8</a>\r\n		</li>\r\n     	</ul>\r\n</div>'
			}), this.JST["strut.etch_extension/lineHeightSelection"] = a.template(function(a, b, c, d, e) {
				return this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {}, '<div class="btn-group">\r\n	<a class="btn btn-small btn-inverse dropdown-toggle" data-toggle="dropdown" title="Choose the line height"><span class="text lineHeightReadout">normal</span>\r\n		<span class="caret"></span></a>\r\n	<ul class="dropdown-menu menuBarOption" data-option="lineHeight">\r\n		<li>\r\n        <a href="#" data-value="normal">normal</a>\r\n        <a href="#" data-value="1em">1em</a>\r\n        <a href="#" data-value="1.5em">1.5em</a>\r\n        <a href="#" data-value="1.75em">1.75em</a>\r\n        <a href="#" data-value="2em">2em</a>\r\n        <a href="#" data-value="3em">3em</a>\r\n        <a href="#" data-value="4em">4em</a>\r\n        <a href="#" data-value="5em">5em</a>\r\n		</li>\r\n     	</ul>\r\n</div>'
			}), this.JST["strut.header/Header"] = a.template(function(a, b, c, d, e) {
				return this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {}, '<div class="navbar navbar-inverse span12">\r\n	<div class="navbar-inner">\r\n		<ul class="nav">\r\n			<li class="logo-holder">\r\n			</li>\r\n			<li class="divider-vertical">\r\n			</li>\r\n		</ul>\r\n		<ul class="nav">\r\n			<li class="create-comp-buttons">\r\n				<div class="btn-group iconBtns">\r\n				</div>\r\n			</li>\r\n			<li class="zoom-buttons">\r\n				<div class="btn-group iconBtns">\r\n				<a class="btn btn-plast zoom-in"><i class="icon-zoom-in icon-white"></i>\u653e\u5927</a>\r\n				<a class="btn btn-plast zoom-out"><i class="icon-zoom-out icon-white"></i>\u7f29\u5c0f</a>\r\n				<a class="btn btn-plast zoom-normal"><i class="icon-refresh icon-white"></i>\u6062\u590d</a>\r\n				</div>\r\n			</li>\r\n			\r\n			<li class="search-buttons">\r\n				<div class="btn-group iconBtns">\r\n				<a class="btn btn-plast btn-search"><i class="icon-folder-open icon-white"></i>\u9879\u76ee\u5e93</a>\r\n				<a class="btn btn-plast btn-search-release"><i class="icon-folder-open icon-white"></i>\u53d1\u5e03\u5e93</a>\r\n				<a class="btn btn-plast" href="http://ks.netease.com/circleinfo?id=65" target="_blank"><i class="icon-book icon-white"></i>\u77e5\u8bc6\u5708</a>\r\n				</div>\r\n			</li>\r\n			<li class="release-buttons">\r\n				<div class="btn-group iconBtns">\r\n				<a class="btn btn-plast btn-release"><i class="icon-flag icon-white"></i>\u53d1\u5e03</a>\r\n				<a class="btn btn-plast btn-release-history"><i class="icon-time icon-white"></i>\u5386\u53f2</a>\r\n				\r\n				</div>\r\n			</li>\r\n\r\n			<li class="sync-buttons">\r\n				<div class="btn-group iconBtns">\r\n				<a class="btn btn-plast btn-sync"><i class="icon-refresh icon-white"></i>\u4fdd\u5b58</a>\r\n				</div>\r\n			</li>\r\n		</ul>\r\n		<ul class="nav theme-buttons">\r\n		</ul>\r\n		<ul class="nav pull-right">\r\n			<li class="divider-vertical">\r\n			</li>\r\n			<li class="mode-buttons">\r\n			</li>\r\n		</ul>\r\n	</div>\r\n</div>'
			}), this.JST["strut.logo_button/Logo"] = a.template(function(a, b, c, d, e) {
				return this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {}, '<a class="btn logo btn-plast dropdown-toggle" data-toggle="dropdown">\r\n	<span class="file-name">presentation-unnamed</span>\r\n    <span class="caret"></span>\r\n</a>\r\n<ul class="dropdown-menu">\r\n</ul>'
			}), this.JST["strut.presentation_generator.impress/Audio"] = a.template(function(a, b, c, d, e) {
				function f(a, b, e) {
					var f, g, h = "";
					return h += "\r\n", f = i.invokePartial(d.ComponentContainer, "ComponentContainer", a, c, d, b), (f || 0 === f) && (h += f), h += '\r\n<audio controls style="width:100%;height:100%">\r\n	<source src="' + k((f = e.uri, typeof f === j ? f.apply(a) : f)) + '" type="', (g = c.srcType) ? g = g.call(a, {
						hash: {},
						data: b
					}) : (g = a.srcType, g = typeof g === j ? g.apply(a) : g), h += k(g) + '" preload="metadata"></source>\r\n</audio>\r\n</div>\r\n</div>\r\n'
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), d = this.merge(d, a.partials), e = e || {};
				var g, h, i = this,
					j = "function",
					k = this.escapeExpression,
					l = c.blockHelperMissing;
				return h = {
					hash: {},
					inverse: i.noop,
					fn: i.programWithDepth(1, f, e, b),
					data: e
				}, (g = c.attributes) ? g = g.call(b, h) : (g = b.attributes, g = typeof g === j ? g.apply(b) : g), c.attributes || (g = l.call(b, g, h)), g || 0 === g ? g : ""
			}), this.JST["strut.presentation_generator.impress/ComponentContainer"] = a.template(function(a, b, c, d, e) {
				function f() {
					var a = "";
					return a
				}

				function g(a, b) {
					var d, e = "";
					return e += "rotateX(", (d = c.rotateX) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.rotateX, d = typeof d === u ? d.apply(a) : d), e += v(d) + "rad)"
				}

				function h(a, b) {
					var d, e = "";
					return e += "rotateY(", (d = c.rotateY) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.rotateY, d = typeof d === u ? d.apply(a) : d), e += v(d) + "rad)"
				}

				function i(a, b) {
					var d, e = "";
					return e += "rotateZ(", (d = c.rotateZ) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.rotateZ, d = typeof d === u ? d.apply(a) : d), e += v(d) + "rad)"
				}

				function j(a, b) {
					var d, e = "";
					return e += "skewX(", (d = c.skewX) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.skewX, d = typeof d === u ? d.apply(a) : d), e += v(d) + "rad)"
				}

				function k(a, b) {
					var d, e = "";
					return e += "skewY(", (d = c.skewY) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.skewY, d = typeof d === u ? d.apply(a) : d), e += v(d) + "rad)"
				}

				function l(a, b) {
					var d, e = "";
					return e += "scaleX(", (d = c.scaleX) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.scaleX, d = typeof d === u ? d.apply(a) : d), e += v(d) + ")"
				}

				function m(a, b) {
					var d, e = "";
					return e += "scaleY(", (d = c.scaleY) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.scaleY, d = typeof d === u ? d.apply(a) : d), e += v(d) + ")"
				}

				function n(a, b) {
					var d, e = "";
					return e += "scaleZ(", (d = c.scaleZ) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.scaleZ, d = typeof d === u ? d.apply(a) : d), e += v(d) + ")"
				}

				function o(a, b) {
					var d, e, g, h = "";
					return g = {
						hash: {},
						inverse: w.noop,
						fn: w.program(1, f, b),
						data: b
					}, d = c.round || a.round, e = d ? d.call(a, a.sizeX, g) : x.call(a, "round", a.sizeX, g), (e || 0 === e) && (h += e), h += "px"
				}

				function p(a, b) {
					var d, e, g, h = "";
					return g = {
						hash: {},
						inverse: w.noop,
						fn: w.program(1, f, b),
						data: b
					}, d = c.round || a.round, e = d ? d.call(a, a.sizeY, g) : x.call(a, "round", a.sizeY, g), (e || 0 === e) && (h += e), h += "px"
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), d = this.merge(d, a.partials), e = e || {};
				var q, r, s, t = "",
					u = "function",
					v = this.escapeExpression,
					w = this,
					x = c.helperMissing;
				return t += '<div class="componentContainer ', (q = c.customClasses) ? q = q.call(b, {
					hash: {},
					data: e
				}) : (q = b.customClasses, q = typeof q === u ? q.apply(b) : q), t += v(q) + '" style="\r\n	visibility: ', s = {
					hash: {},
					inverse: w.noop,
					fn: w.program(1, f, e),
					data: e
				}, q = c.getVisible || b.getVisible, r = q ? q.call(b, b.visible, s) : x.call(b, "getVisible", b.visible, s), (r || 0 === r) && (t += r), t += ";\r\n	top: ", s = {
					hash: {},
					inverse: w.noop,
					fn: w.program(1, f, e),
					data: e
				}, q = c.getCompPosY || b.getCompPosY, r = q ? q.call(b, b, s) : x.call(b, "getCompPosY", b, s), (r || 0 === r) && (t += r), t += "px; \r\n	left: ", s = {
					hash: {},
					inverse: w.noop,
					fn: w.program(1, f, e),
					data: e
				}, q = c.getCompPosX || b.getCompPosX, r = q ? q.call(b, b, s) : x.call(b, "getCompPosX", b, s), (r || 0 === r) && (t += r), t += "px; \r\n	background-color: ", (r = c.bgColor) ? r = r.call(b, {
					hash: {},
					data: e
				}) : (r = b.bgColor, r = typeof r === u ? r.apply(b) : r), t += v(r) + ";\r\n	z-index: ", (r = c.zOrder) ? r = r.call(b, {
					hash: {},
					data: e
				}) : (r = b.zOrder, r = typeof r === u ? r.apply(b) : r), t += v(r) + ";\r\n	opacity: ", s = {
					hash: {},
					inverse: w.noop,
					fn: w.program(1, f, e),
					data: e
				}, q = c.getOpacity || b.getOpacity, r = q ? q.call(b, b.opacity, s) : x.call(b, "getOpacity", b.opacity, s), (r || 0 === r) && (t += r), t += "; \r\n	-webkit-transform: \r\n		", r = c["if"].call(b, b.rotateX, {
					hash: {},
					inverse: w.noop,
					fn: w.program(3, g, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.rotateY, {
					hash: {},
					inverse: w.noop,
					fn: w.program(5, h, e),
					data: e
				}), (r || 0 === r) && (t += r), t += " \r\n		", r = c["if"].call(b, b.rotateZ, {
					hash: {},
					inverse: w.noop,
					fn: w.program(7, i, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "  \r\n		", r = c["if"].call(b, b.skewX, {
					hash: {},
					inverse: w.noop,
					fn: w.program(9, j, e),
					data: e
				}), (r || 0 === r) && (t += r), t += " \r\n		", r = c["if"].call(b, b.skewY, {
					hash: {},
					inverse: w.noop,
					fn: w.program(11, k, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.scaleX, {
					hash: {},
					inverse: w.noop,
					fn: w.program(13, l, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.scaleY, {
					hash: {},
					inverse: w.noop,
					fn: w.program(15, m, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.scaleZ, {
					hash: {},
					inverse: w.noop,
					fn: w.program(17, n, e),
					data: e
				}), (r || 0 === r) && (t += r), t += ";\r\n	-moz-transform: \r\n		", r = c["if"].call(b, b.rotateX, {
					hash: {},
					inverse: w.noop,
					fn: w.program(3, g, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.rotateY, {
					hash: {},
					inverse: w.noop,
					fn: w.program(5, h, e),
					data: e
				}), (r || 0 === r) && (t += r), t += " \r\n		", r = c["if"].call(b, b.rotateZ, {
					hash: {},
					inverse: w.noop,
					fn: w.program(7, i, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "  \r\n		", r = c["if"].call(b, b.skewX, {
					hash: {},
					inverse: w.noop,
					fn: w.program(9, j, e),
					data: e
				}), (r || 0 === r) && (t += r), t += " \r\n		", r = c["if"].call(b, b.skewY, {
					hash: {},
					inverse: w.noop,
					fn: w.program(11, k, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.scaleX, {
					hash: {},
					inverse: w.noop,
					fn: w.program(13, l, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.scaleY, {
					hash: {},
					inverse: w.noop,
					fn: w.program(15, m, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.scaleZ, {
					hash: {},
					inverse: w.noop,
					fn: w.program(17, n, e),
					data: e
				}), (r || 0 === r) && (t += r), t += ";\r\n	transform: \r\n		", r = c["if"].call(b, b.rotateX, {
					hash: {},
					inverse: w.noop,
					fn: w.program(3, g, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.rotateY, {
					hash: {},
					inverse: w.noop,
					fn: w.program(5, h, e),
					data: e
				}), (r || 0 === r) && (t += r), t += " \r\n		", r = c["if"].call(b, b.rotateZ, {
					hash: {},
					inverse: w.noop,
					fn: w.program(7, i, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "  \r\n		", r = c["if"].call(b, b.skewX, {
					hash: {},
					inverse: w.noop,
					fn: w.program(9, j, e),
					data: e
				}), (r || 0 === r) && (t += r), t += " \r\n		", r = c["if"].call(b, b.skewY, {
					hash: {},
					inverse: w.noop,
					fn: w.program(11, k, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.scaleX, {
					hash: {},
					inverse: w.noop,
					fn: w.program(13, l, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.scaleY, {
					hash: {},
					inverse: w.noop,
					fn: w.program(15, m, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.scaleZ, {
					hash: {},
					inverse: w.noop,
					fn: w.program(17, n, e),
					data: e
				}), (r || 0 === r) && (t += r), t += ";\r\n	width: ", r = c["if"].call(b, b.sizeX, {
					hash: {},
					inverse: w.noop,
					fn: w.program(19, o, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "; \r\n	height: ", r = c["if"].call(b, b.sizeY, {
					hash: {},
					inverse: w.noop,
					fn: w.program(21, p, e),
					data: e
				}), (r || 0 === r) && (t += r), t += ';"\r\n	>\r\n', r = w.invokePartial(d.TransformContainer, "TransformContainer", b, c, d, e), (r || 0 === r) && (t += r), t
			}), this.JST["strut.presentation_generator.impress/Image"] = a.template(function(a, b, c, d, e) {
				function f(a, b, e) {
					var f, g, h = "";
					return h += "\r\n", f = i.invokePartial(d.ComponentContainer, "ComponentContainer", a, c, d, b), (f || 0 === f) && (h += f), h += '\r\n<img src="' + k((f = e.uri, typeof f === j ? f.apply(a) : f)) + '"\r\n	style="\r\n		position: absolute;\r\n		left: 50%;\r\n		top: 50%;\r\n		width: ', (g = c.imageWidth) ? g = g.call(a, {
						hash: {},
						data: b
					}) : (g = a.imageWidth, g = typeof g === j ? g.apply(a) : g), h += k(g) + "px;\r\n		height: ", (g = c.imageHeight) ? g = g.call(a, {
						hash: {},
						data: b
					}) : (g = a.imageHeight, g = typeof g === j ? g.apply(a) : g), h += k(g) + "px;\r\n		margin-left: ", (g = c.marginLeft) ? g = g.call(a, {
						hash: {},
						data: b
					}) : (g = a.marginLeft, g = typeof g === j ? g.apply(a) : g), h += k(g) + "px;\r\n		margin-top: ", (g = c.marginTop) ? g = g.call(a, {
						hash: {},
						data: b
					}) : (g = a.marginTop, g = typeof g === j ? g.apply(a) : g), h += k(g) + 'px;\r\n	"\r\n></img>\r\n</div>\r\n</div>\r\n'
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), d = this.merge(d, a.partials), e = e || {};
				var g, h, i = this,
					j = "function",
					k = this.escapeExpression,
					l = c.blockHelperMissing;
				return h = {
					hash: {},
					inverse: i.noop,
					fn: i.programWithDepth(1, f, e, b),
					data: e
				}, (g = c.attributes) ? g = g.call(b, h) : (g = b.attributes, g = typeof g === j ? g.apply(b) : g), c.attributes || (g = l.call(b, g, h)), g || 0 === g ? g : ""
			}), this.JST["strut.presentation_generator.impress/ImpressTemplate"] = a.template(function(a, b, c, d, e) {
				function f() {
					return "\r\n	<script>\r\n		if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)) { // Detect mobile browsers & use memory optimized styling if on mobile (hide all but the previous & next slides). Can prevent crashes when presentation contains many images and/or 3d elements.\r\n		  	var root = document.documentElement;\r\n			root.className += ' mobile';\r\n		} else {\r\n			var root = document.documentElement;\r\n			root.className += ' desktop';\r\n		}\r\n\r\n		function getPreviousSibling(element){\r\n			var p = element;\r\n			do p = p.previousSibling;\r\n			while (p && p.nodeType != 1);\r\n			return p;\r\n		}\r\n		\r\n		document.addEventListener('impress:stepleave',function(event){\r\n			prev = document.getElementsByClassName('prev')[0];\r\n			if(typeof prev != 'undefined')\r\n				prev.classList.remove('prev'); // Remove prev class from old prev slide\r\n			current = document.getElementsByClassName('active')[0]; // Get current slide\r\n			prev = getPreviousSibling(current); // Get prev slide\r\n			prev.className += ' prev'; // Mark prev slide with class\r\n		});\r\n	</script>\r\n\r\n	<style>\r\n		.step { display:none; } /* Start by not showing slides to prevent mobile Crash at the start */\r\n		.desktop .step { display:block; } /* Desktops should be able to handle all slides */\r\n		.step.active,.step.present,.step.active + .step,.step.prev { display:block; } /* Limit mobile to only show the current slide, the next slide, and the previous slide */\r\n	</style>\r\n"
				}

				function g(a, b, e) {
					var f, g, k, m = "";
					return m += '\r\n<style type="text/css">\r\n', (f = c.customStylesheet) ? f = f.call(a, {
							hash: {},
							data: b
						}) : (f = a.customStylesheet, f = typeof f === w ? f.apply(a) : f), (f || 0 === f) && (m += f), m += "\r\n</style>\r\n<style>\r\n", f = a.customBackgrounds, f = null == f || f === !1 ? f : f.attributes, f = null == f || f === !1 ? f : f.bgs, f = typeof f === w ? f.apply(a) : f, g = z.call(a, f, {
							hash: {},
							inverse: v.noop,
							fn: v.program(4, h, b),
							data: b
						}), (g || 0 === g) && (m += g), m += "\r\n</style>\r\n", g = v.invokePartial(d.PerSlideSurfaceStylesheet, "PerSlideSurfaceStylesheet", a, c, d, b), (g || 0 === g) && (m += g), m += '\r\n<!-- This is a work around / hack to get the user\'s browser to download the fonts \r\n if they decide to save the presentation. -->\r\n<div style="visibility: hidden; width: 0px; height: 0px">\r\n<img src="css/Lato-Bold.woff" />\r\n<img src="css/HammersmithOne.woff" />\r\n<img src="css/Droid-Sans-Mono.woff" />\r\n<img src="css/Gorditas-Regular.woff" />\r\n<img src="css/FredokaOne-Regular.woff" />\r\n<img src="css/Ubuntu.woff" />\r\n<img src="css/Ubuntu-Bold.woff" />\r\n<img src="css/PressStart2P-Regular.woff" />\r\n<img src="css/Lato-BoldItalic.woff" />\r\n<img src="css/AbrilFatface-Regular.woff" />\r\n<img src="css/Lato-Regular.woff" />\r\n</div>\r\n\r\n<div class="fallback-message">\r\n    <p>Your browser <b>doesn\'t support the features required</b> by impress.js, so you are presented with a simplified version of this presentation.</p>\r\n    <p>For the best experience please use the latest <b>Chrome</b>, <b>Safari</b> or <b>Firefox</b> browser.</p>\r\n</div>\r\n\r\n<div class="bg ',
						k = {
							hash: {},
							inverse: v.noop,
							fn: v.program(6, i, b),
							data: b
						}, f = c.isBGClass || a.isBGClass, g = f ? f.call(a, a.surface, k) : y.call(a, "isBGClass", a.surface, k), (g || 0 === g) && (m += g), m += 'strut-surface">\r\n<div class="bg innerBg">\r\n<div id="impress">\r\n	', f = a.slides, f = null == f || f === !1 ? f : f.models, f = typeof f === w ? f.apply(a) : f, g = z.call(a, f, {
							hash: {},
							inverse: v.noop,
							fn: v.programWithDepth(8, j, b, e),
							data: b
						}), (g || 0 === g) && (m += g), m += '\r\n	<div id="overview" class="step" data-state="strut-slide-overview" data-x="', k = {
							hash: {},
							inverse: v.noop,
							fn: v.program(10, l, b),
							data: b
						}, f = c.scaleX || a.scaleX, g = f ? f.call(a, a.overviewX, k) : y.call(a, "scaleX", a.overviewX, k), (g || 0 === g) && (m += g), m += '" data-y="', k = {
							hash: {},
							inverse: v.noop,
							fn: v.program(10, l, b),
							data: b
						}, f = c.scaleY || a.scaleY, g = f ? f.call(a, a.overviewY, k) : y.call(a, "scaleY", a.overviewY, k), (g || 0 === g) && (m += g), m += '" data-scale="9"></div>\r\n	'
				}

				function h(a, b) {
					var e, f = "";
					return f += "\r\n	", e = v.invokePartial(d.CustomBgStylesheet, "CustomBgStylesheet", a, c, d, b), (e || 0 === e) && (f += e), f += "\r\n"
				}

				function i(a, b) {
					var d, e = "";
					return (d = c.surface) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.surface, d = typeof d === w ? d.apply(a) : d), e += x(d) + " "
				}

				function j(a, b, d) {
					var e, f, g = "";
					return g += "\r\n		", f = {
						hash: {},
						inverse: v.noop,
						fn: v.programWithDepth(9, k, b, a, d),
						data: b
					}, (e = c.attributes) ? e = e.call(a, f) : (e = a.attributes, e = typeof e === w ? e.apply(a) : e), c.attributes || (e = z.call(a, e, f)), (e || 0 === e) && (g += e), g += "\r\n		</div>\r\n	"
				}

				function k(a, b, d, e) {
					var f, g, h, i = "";
					return i += '\r\n			<div class="step" data-state="strut-slide-', (f = c.index) ? f = f.call(a, {
						hash: {},
						data: b
					}) : (f = a.index, f = typeof f === w ? f.apply(a) : f), i += x(f), h = {
						hash: {},
						inverse: v.noop,
						fn: v.program(10, l, b),
						data: b
					}, f = c.determineSurface || d.determineSurface, g = f ? f.call(a, d, e, h) : y.call(a, "determineSurface", d, e, h), (g || 0 === g) && (i += g), i += '" data-x="', h = {
						hash: {},
						inverse: v.noop,
						fn: v.program(10, l, b),
						data: b
					}, f = c.scaleX || a.scaleX, g = f ? f.call(a, a.x, h) : y.call(a, "scaleX", a.x, h), (g || 0 === g) && (i += g), i += '" data-y="', h = {
						hash: {},
						inverse: v.noop,
						fn: v.program(10, l, b),
						data: b
					}, f = c.scaleY || a.scaleY, g = f ? f.call(a, a.y, h) : y.call(a, "scaleY", a.y, h), (g || 0 === g) && (i += g), i += '" ', g = c["if"].call(a, a.rotateX, {
						hash: {},
						inverse: v.noop,
						fn: v.program(12, m, b),
						data: b
					}), (g || 0 === g) && (i += g), i += "  ", g = c["if"].call(a, a.rotateY, {
						hash: {},
						inverse: v.noop,
						fn: v.program(14, n, b),
						data: b
					}), (g || 0 === g) && (i += g), i += " ", g = c["if"].call(a, a.rotateZ, {
						hash: {},
						inverse: v.noop,
						fn: v.program(16, o, b),
						data: b
					}), (g || 0 === g) && (i += g), i += " ", g = c["if"].call(a, a.z, {
						hash: {},
						inverse: v.noop,
						fn: v.program(18, p, b),
						data: b
					}), (g || 0 === g) && (i += g), i += " ", g = c["if"].call(a, a.impScale, {
						hash: {},
						inverse: v.noop,
						fn: v.program(20, q, b),
						data: b
					}), (g || 0 === g) && (i += g), i += '>\r\n			<div class="', h = {
						hash: {},
						inverse: v.noop,
						fn: v.program(10, l, b),
						data: b
					}, f = c.determineBG || d.determineBG, g = f ? f.call(a, d, e, h) : y.call(a, "determineBG", d, e, h), (g || 0 === g) && (i += g), i += " slideContainer strut-slide-", (g = c.index) ? g = g.call(a, {
						hash: {},
						data: b
					}) : (g = a.index, g = typeof g === w ? g.apply(a) : g), i += x(g) + '" style="width: 1024px; height: 768px;">\r\n			<div class="themedArea">\r\n			', h = {
						hash: {},
						inverse: v.noop,
						fn: v.program(10, l, b),
						data: b
					}, f = c.marked || a.marked, g = f ? f.call(a, a.markdown, h) : y.call(a, "marked", a.markdown, h), (g || 0 === g) && (i += g), i += "\r\n			</div>\r\n			", h = {
						hash: {},
						inverse: v.noop,
						fn: v.program(22, r, b),
						data: b
					}, (g = c.components) ? g = g.call(a, h) : (g = a.components, g = typeof g === w ? g.apply(a) : g), c.components || (g = z.call(a, g, h)), (g || 0 === g) && (i += g), i += "\r\n			</div>\r\n		"
				}

				function l() {
					var a = "";
					return a
				}

				function m(a, b) {
					var d, e, f, g = "";
					return g += 'data-rotate-x="', f = {
						hash: {},
						inverse: v.noop,
						fn: v.program(10, l, b),
						data: b
					}, d = c.toDeg || a.toDeg, e = d ? d.call(a, a.rotateX, f) : y.call(a, "toDeg", a.rotateX, f), (e || 0 === e) && (g += e), g += '"'
				}

				function n(a, b) {
					var d, e, f, g = "";
					return g += 'data-rotate-y="', f = {
						hash: {},
						inverse: v.noop,
						fn: v.program(10, l, b),
						data: b
					}, d = c.toDeg || a.toDeg, e = d ? d.call(a, a.rotateY, f) : y.call(a, "toDeg", a.rotateY, f), (e || 0 === e) && (g += e), g += '"'
				}

				function o(a, b) {
					var d, e, f, g = "";
					return g += 'data-rotate-z="', f = {
						hash: {},
						inverse: v.noop,
						fn: v.program(10, l, b),
						data: b
					}, d = c.toDeg || a.toDeg, e = d ? d.call(a, a.rotateZ, f) : y.call(a, "toDeg", a.rotateZ, f), (e || 0 === e) && (g += e), g += '"'
				}

				function p(a, b) {
					var d, e = "";
					return e += 'data-z="', (d = c.z) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.z, d = typeof d === w ? d.apply(a) : d), e += x(d) + '"'
				}

				function q(a, b) {
					var d, e = "";
					return e += 'data-scale="', (d = c.impScale) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.impScale, d = typeof d === w ? d.apply(a) : d), e += x(d) + '"'
				}

				function r(a, b) {
					var d, e, f, g = "";
					return g += "\r\n			", f = {
						hash: {},
						inverse: v.noop,
						fn: v.program(10, l, b),
						data: b
					}, d = c.renderComponent || a.renderComponent, e = d ? d.call(a, a, f) : y.call(a, "renderComponent", a, f), (e || 0 === e) && (g += e), g += "\r\n			"
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), d = this.merge(d, a.partials), e = e || {};
				var s, t, u = "",
					v = this,
					w = "function",
					x = this.escapeExpression,
					y = c.helperMissing,
					z = c.blockHelperMissing;
				return t = {
					hash: {},
					inverse: v.noop,
					fn: v.program(1, f, e),
					data: e
				}, (s = c.mobileVersion) ? s = s.call(b, t) : (s = b.mobileVersion, s = typeof s === w ? s.apply(b) : s), c.mobileVersion || (s = z.call(b, s, t)), (s || 0 === s) && (u += s), u += "\r\n\r\n", t = {
					hash: {},
					inverse: v.noop,
					fn: v.programWithDepth(3, g, e, b),
					data: e
				}, (s = c.attributes) ? s = s.call(b, t) : (s = b.attributes, s = typeof s === w ? s.apply(b) : s), c.attributes || (s = z.call(b, s, t)), (s || 0 === s) && (u += s), u += '\r\n</div>\r\n<div class="hint">\r\n    <p>Use a spacebar or arrow keys to navigate</p>\r\n</div>\r\n</div>\r\n</div>'
			}), this.JST["strut.presentation_generator.impress/SVGContainer"] = a.template(function(a, b, c, d, e) {
				function f() {
					var a = "";
					return a
				}

				function g(a, b) {
					var d, e = "";
					return e += "rotateX(", (d = c.rotateX) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.rotateX, d = typeof d === u ? d.apply(a) : d), e += v(d) + "rad)"
				}

				function h(a, b) {
					var d, e = "";
					return e += "rotateY(", (d = c.rotateY) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.rotateY, d = typeof d === u ? d.apply(a) : d), e += v(d) + "rad)"
				}

				function i(a, b) {
					var d, e = "";
					return e += "rotateZ(", (d = c.rotateZ) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.rotateZ, d = typeof d === u ? d.apply(a) : d), e += v(d) + "rad)"
				}

				function j(a, b) {
					var d, e = "";
					return e += "skewX(", (d = c.skewX) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.skewX, d = typeof d === u ? d.apply(a) : d), e += v(d) + "rad)"
				}

				function k(a, b) {
					var d, e = "";
					return e += "skewY(", (d = c.skewY) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.skewY, d = typeof d === u ? d.apply(a) : d), e += v(d) + "rad)"
				}

				function l(a, b) {
					var d, e = "";
					return e += "scaleX(", (d = c.scaleX) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.scaleX, d = typeof d === u ? d.apply(a) : d), e += v(d) + ")"
				}

				function m(a, b) {
					var d, e = "";
					return e += "scaleY(", (d = c.scaleY) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.scaleY, d = typeof d === u ? d.apply(a) : d), e += v(d) + ")"
				}

				function n(a, b) {
					var d, e = "";
					return e += "scaleZ(", (d = c.scaleZ) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.scaleZ, d = typeof d === u ? d.apply(a) : d), e += v(d) + ")"
				}

				function o(a, b) {
					var d, e, g, h = "";
					return g = {
						hash: {},
						inverse: w.noop,
						fn: w.program(1, f, b),
						data: b
					}, d = c.round || a.round, e = d ? d.call(a, a.sizeX, g) : x.call(a, "round", a.sizeX, g), (e || 0 === e) && (h += e), h += "px"
				}

				function p(a, b) {
					var d, e, g, h = "";
					return g = {
						hash: {},
						inverse: w.noop,
						fn: w.program(1, f, b),
						data: b
					}, d = c.round || a.round, e = d ? d.call(a, a.sizeY, g) : x.call(a, "round", a.sizeY, g), (e || 0 === e) && (h += e), h += "px"
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), d = this.merge(d, a.partials), e = e || {};
				var q, r, s, t = "",
					u = "function",
					v = this.escapeExpression,
					w = this,
					x = c.helperMissing;
				return t += '<div class="componentContainer" \r\n	style="\r\n	visibility: ', s = {
					hash: {},
					inverse: w.noop,
					fn: w.program(1, f, e),
					data: e
				}, q = c.getVisible || b.getVisible, r = q ? q.call(b, b.visible, s) : x.call(b, "getVisible", b.visible, s), (r || 0 === r) && (t += r), t += ";\r\n			top: ", s = {
					hash: {},
					inverse: w.noop,
					fn: w.program(1, f, e),
					data: e
				}, q = c.getCompPosY || b.getCompPosY, r = q ? q.call(b, b, s) : x.call(b, "getCompPosY", b, s), (r || 0 === r) && (t += r), t += "px; \r\n	left: ", s = {
					hash: {},
					inverse: w.noop,
					fn: w.program(1, f, e),
					data: e
				}, q = c.getCompPosX || b.getCompPosX, r = q ? q.call(b, b, s) : x.call(b, "getCompPosX", b, s), (r || 0 === r) && (t += r), t += "px; \r\n	background-color: ", (r = c.bgColor) ? r = r.call(b, {
					hash: {},
					data: e
				}) : (r = b.bgColor, r = typeof r === u ? r.apply(b) : r), t += v(r) + ";\r\n	z-index: ", (r = c.zOrder) ? r = r.call(b, {
					hash: {},
					data: e
				}) : (r = b.zOrder, r = typeof r === u ? r.apply(b) : r), t += v(r) + ";\r\n	opacity: ", s = {
					hash: {},
					inverse: w.noop,
					fn: w.program(1, f, e),
					data: e
				}, q = c.getOpacity || b.getOpacity, r = q ? q.call(b, b.opacity, s) : x.call(b, "getOpacity", b.opacity, s), (r || 0 === r) && (t += r), t += "; \r\n	-webkit-transform: \r\n		", r = c["if"].call(b, b.rotateX, {
					hash: {},
					inverse: w.noop,
					fn: w.program(3, g, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.rotateY, {
					hash: {},
					inverse: w.noop,
					fn: w.program(5, h, e),
					data: e
				}), (r || 0 === r) && (t += r), t += " \r\n		", r = c["if"].call(b, b.rotateZ, {
					hash: {},
					inverse: w.noop,
					fn: w.program(7, i, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "  \r\n		", r = c["if"].call(b, b.skewX, {
					hash: {},
					inverse: w.noop,
					fn: w.program(9, j, e),
					data: e
				}), (r || 0 === r) && (t += r), t += " \r\n		", r = c["if"].call(b, b.skewY, {
					hash: {},
					inverse: w.noop,
					fn: w.program(11, k, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.scaleX, {
					hash: {},
					inverse: w.noop,
					fn: w.program(13, l, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.scaleY, {
					hash: {},
					inverse: w.noop,
					fn: w.program(15, m, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.scaleZ, {
					hash: {},
					inverse: w.noop,
					fn: w.program(17, n, e),
					data: e
				}), (r || 0 === r) && (t += r), t += ";\r\n	-moz-transform: \r\n		", r = c["if"].call(b, b.rotateX, {
					hash: {},
					inverse: w.noop,
					fn: w.program(3, g, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.rotateY, {
					hash: {},
					inverse: w.noop,
					fn: w.program(5, h, e),
					data: e
				}), (r || 0 === r) && (t += r), t += " \r\n		", r = c["if"].call(b, b.rotateZ, {
					hash: {},
					inverse: w.noop,
					fn: w.program(7, i, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "  \r\n		", r = c["if"].call(b, b.skewX, {
					hash: {},
					inverse: w.noop,
					fn: w.program(9, j, e),
					data: e
				}), (r || 0 === r) && (t += r), t += " \r\n		", r = c["if"].call(b, b.skewY, {
					hash: {},
					inverse: w.noop,
					fn: w.program(11, k, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.scaleX, {
					hash: {},
					inverse: w.noop,
					fn: w.program(13, l, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.scaleY, {
					hash: {},
					inverse: w.noop,
					fn: w.program(15, m, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.scaleZ, {
					hash: {},
					inverse: w.noop,
					fn: w.program(17, n, e),
					data: e
				}), (r || 0 === r) && (t += r), t += ";\r\n	transform: \r\n		", r = c["if"].call(b, b.rotateX, {
					hash: {},
					inverse: w.noop,
					fn: w.program(3, g, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.rotateY, {
					hash: {},
					inverse: w.noop,
					fn: w.program(5, h, e),
					data: e
				}), (r || 0 === r) && (t += r), t += " \r\n		", r = c["if"].call(b, b.rotateZ, {
					hash: {},
					inverse: w.noop,
					fn: w.program(7, i, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "  \r\n		", r = c["if"].call(b, b.skewX, {
					hash: {},
					inverse: w.noop,
					fn: w.program(9, j, e),
					data: e
				}), (r || 0 === r) && (t += r), t += " \r\n		", r = c["if"].call(b, b.skewY, {
					hash: {},
					inverse: w.noop,
					fn: w.program(11, k, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.scaleX, {
					hash: {},
					inverse: w.noop,
					fn: w.program(13, l, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.scaleY, {
					hash: {},
					inverse: w.noop,
					fn: w.program(15, m, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "\r\n		", r = c["if"].call(b, b.scaleZ, {
					hash: {},
					inverse: w.noop,
					fn: w.program(17, n, e),
					data: e
				}), (r || 0 === r) && (t += r), t += ";\r\n	width: ", r = c["if"].call(b, b.sizeX, {
					hash: {},
					inverse: w.noop,
					fn: w.program(19, o, e),
					data: e
				}), (r || 0 === r) && (t += r), t += "; \r\n	height: ", r = c["if"].call(b, b.sizeY, {
					hash: {},
					inverse: w.noop,
					fn: w.program(21, p, e),
					data: e
				}), (r || 0 === r) && (t += r), t += ';"\r\n>\r\n', r = w.invokePartial(d.TransformContainer, "TransformContainer", b, c, d, e), (r || 0 === r) && (t += r), t
			}), this.JST["strut.presentation_generator.impress/SVGImage"] = a.template(function(a, b, c, d, e) {
				function f(a, b, e) {
					var f, g, h = "";
					return h += "\r\n", f = i.invokePartial(d.SVGContainer, "SVGContainer", a, c, d, b), (f || 0 === f) && (h += f), h += '\r\n<img src="' + k((f = e.uri, typeof f === j ? f.apply(a) : f)) + '"\r\n	style="\r\n		position: absolute;\r\n		left: 50%;\r\n		top: 50%;\r\n		width: ', (g = c.imageWidth) ? g = g.call(a, {
						hash: {},
						data: b
					}) : (g = a.imageWidth, g = typeof g === j ? g.apply(a) : g), h += k(g) + "px;\r\n		height: ", (g = c.imageHeight) ? g = g.call(a, {
						hash: {},
						data: b
					}) : (g = a.imageHeight, g = typeof g === j ? g.apply(a) : g), h += k(g) + "px;\r\n		margin-left: ", (g = c.marginLeft) ? g = g.call(a, {
						hash: {},
						data: b
					}) : (g = a.marginLeft, g = typeof g === j ? g.apply(a) : g), h += k(g) + "px;\r\n		margin-top: ", (g = c.marginTop) ? g = g.call(a, {
						hash: {},
						data: b
					}) : (g = a.marginTop, g = typeof g === j ? g.apply(a) : g), h += k(g) + 'px;\r\n	"\r\n></img>\r\n</div>\r\n</div>\r\n'
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), d = this.merge(d, a.partials), e = e || {};
				var g, h, i = this,
					j = "function",
					k = this.escapeExpression,
					l = c.blockHelperMissing;
				return h = {
					hash: {},
					inverse: i.noop,
					fn: i.programWithDepth(1, f, e, b),
					data: e
				}, (g = c.attributes) ? g = g.call(b, h) : (g = b.attributes, g = typeof g === j ? g.apply(b) : g), c.attributes || (g = l.call(b, g, h)), g || 0 === g ? g : ""
			}), this.JST["strut.presentation_generator.impress/Shape"] = a.template(function(a, b, c, d, e) {
				function f(a, b) {
					var e, f, h = "";
					return h += "\r\n", e = j.invokePartial(d.ComponentContainer, "ComponentContainer", a, c, d, b), (e || 0 === e) && (h += e), h += "\r\n", f = {
						hash: {},
						inverse: j.noop,
						fn: j.program(2, g, b),
						data: b
					}, (e = c.shapeSvg) ? e = e.call(a, f) : (e = a.shapeSvg, e = typeof e === k ? e.apply(a) : e), c.shapeSvg || (e = l.call(a, e, f)), (e || 0 === e) && (h += e), h += "\r\n</div>\r\n</div>\r\n"
				}

				function g() {
					var a = "";
					return a
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), d = this.merge(d, a.partials), e = e || {};
				var h, i, j = this,
					k = "function",
					l = c.blockHelperMissing;
				return i = {
					hash: {},
					inverse: j.noop,
					fn: j.program(1, f, e),
					data: e
				}, (h = c.attributes) ? h = h.call(b, i) : (h = b.attributes, h = typeof h === k ? h.apply(b) : h), c.attributes || (h = l.call(b, h, i)), h || 0 === h ? h : ""
			}), this.JST["strut.presentation_generator.impress/TextBox"] = a.template(function(a, b, c, d, e) {
				function f(a, b) {
					var e, f = "";
					return f += "\r\n", e = i.invokePartial(d.ComponentContainer, "ComponentContainer", a, c, d, b), (e || 0 === e) && (f += e), f += '\r\n<div style="font-size: ', (e = c.size) ? e = e.call(a, {
						hash: {},
						data: b
					}) : (e = a.size, e = typeof e === j ? e.apply(a) : e), f += k(e) + 'px;" class="antialias">\r\n', (e = c.text) ? e = e.call(a, {
						hash: {},
						data: b
					}) : (e = a.text, e = typeof e === j ? e.apply(a) : e), (e || 0 === e) && (f += e), f += "\r\n</div>\r\n</div>\r\n</div>\r\n"
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), d = this.merge(d, a.partials), e = e || {};
				var g, h, i = this,
					j = "function",
					k = this.escapeExpression,
					l = c.blockHelperMissing;
				return h = {
					hash: {},
					inverse: i.noop,
					fn: i.program(1, f, e),
					data: e
				}, (g = c.attributes) ? g = g.call(b, h) : (g = b.attributes, g = typeof g === j ? g.apply(b) : g), c.attributes || (g = l.call(b, g, h)), g || 0 === g ? g : ""
			}), this.JST["strut.presentation_generator.impress/TransformContainer"] = a.template(function(a, b, c, d, e) {
				function f(a, b) {
					var d, e, f, h = "";
					return f = {
						hash: {},
						inverse: k.noop,
						fn: k.program(2, g, b),
						data: b
					}, d = c.round || a.round, e = d ? d.call(a, a.sizeX, f) : l.call(a, "round", a.sizeX, f), (e || 0 === e) && (h += e), h += "px"
				}

				function g() {
					var a = "";
					return a
				}

				function h(a, b) {
					var d, e, f, h = "";
					return f = {
						hash: {},
						inverse: k.noop,
						fn: k.program(2, g, b),
						data: b
					}, d = c.round || a.round, e = d ? d.call(a, a.sizeY, f) : l.call(a, "round", a.sizeY, f), (e || 0 === e) && (h += e), h += "px"
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var i, j = "",
					k = this,
					l = c.helperMissing;
				return j += '<div class="transformContainer" \r\n	style="	\r\n			position:  relative;\r\n			overflow: hidden;\r\n			width: ', i = c["if"].call(b, b.sizeX, {
					hash: {},
					inverse: k.noop,
					fn: k.program(1, f, e),
					data: e
				}), (i || 0 === i) && (j += i), j += "; \r\n			height: ", i = c["if"].call(b, b.sizeY, {
					hash: {},
					inverse: k.noop,
					fn: k.program(4, h, e),
					data: e
				}), (i || 0 === i) && (j += i), j += ';"\r\n>'
			}), this.JST["strut.presentation_generator.impress/Video"] = a.template(function(a, b, c, d, e) {
				function f(a, b, e) {
					var f, g, h = "";
					return h += "\r\n", f = i.invokePartial(d.ComponentContainer, "ComponentContainer", a, c, d, b), (f || 0 === f) && (h += f), h += '\r\n<video controls style="width:100%;height:100%">\r\n	<source src="' + k((f = e.uri, typeof f === j ? f.apply(a) : f)) + '" type="', (g = c.srcType) ? g = g.call(a, {
						hash: {},
						data: b
					}) : (g = a.srcType, g = typeof g === j ? g.apply(a) : g), h += k(g) + '" preload="metadata"></source>\r\n</video>\r\n</div>\r\n</div>\r\n'
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), d = this.merge(d, a.partials), e = e || {};
				var g, h, i = this,
					j = "function",
					k = this.escapeExpression,
					l = c.blockHelperMissing;
				return h = {
					hash: {},
					inverse: i.noop,
					fn: i.programWithDepth(1, f, e, b),
					data: e
				}, (g = c.attributes) ? g = g.call(b, h) : (g = b.attributes, g = typeof g === j ? g.apply(b) : g), c.attributes || (g = l.call(b, g, h)), g || 0 === g ? g : ""
			}), this.JST["strut.presentation_generator.impress/WebFrame"] = a.template(function(a, b, c, d, e) {
				function f(a, b) {
					var e, f = "";
					return f += "\r\n", e = i.invokePartial(d.ComponentContainer, "ComponentContainer", a, c, d, b), (e || 0 === e) && (f += e), f += '\r\n<iframe width="', (e = c.sizeX) ? e = e.call(a, {
						hash: {},
						data: b
					}) : (e = a.sizeX, e = typeof e === j ? e.apply(a) : e), f += k(e) + '" height="', (e = c.sizeY) ? e = e.call(a, {
						hash: {},
						data: b
					}) : (e = a.sizeY, e = typeof e === j ? e.apply(a) : e), f += k(e) + '" src="', (e = c.src) ? e = e.call(a, {
						hash: {},
						data: b
					}) : (e = a.src, e = typeof e === j ? e.apply(a) : e), f += k(e) + '"></iframe>\r\n</div>\r\n</div>\r\n'
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), d = this.merge(d, a.partials), e = e || {};
				var g, h, i = this,
					j = "function",
					k = this.escapeExpression,
					l = c.blockHelperMissing;
				return h = {
					hash: {},
					inverse: i.noop,
					fn: i.program(1, f, e),
					data: e
				}, (g = c.attributes) ? g = g.call(b, h) : (g = b.attributes, g = typeof g === j ? g.apply(b) : g), c.attributes || (g = l.call(b, g, h)), g || 0 === g ? g : ""
			}), this.JST["strut.presentation_generator/Button"] = a.template(function(a, b, c, d, e) {
				function f(a) {
					var b, c = "";
					return c += "\r\n	" + m((b = a.chosen, b = null == b || b === !1 ? b : b.shortname, typeof b === l ? b.apply(a) : b)) + "\r\n"
				}

				function g(a) {
					var b, c = "";
					return c += "\r\n	" + m((b = a.chosen, b = null == b || b === !1 ? b : b.displayName, typeof b === l ? b.apply(a) : b)) + "\r\n"
				}

				function h(a, b) {
					var d, e = "";
					return e += '\r\n    <li data-option="', (d = c.id) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.id, d = typeof d === l ? d.apply(a) : d), e += m(d) + '"><a>\r\n    		<span class="check" style="visibility: hidden;">&#10003;</span>\r\n    		', (d = c.displayName) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.displayName, d = typeof d === l ? d.apply(a) : d), e += m(d) + "\r\n    </a></li>\r\n    "
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var i, j, k = "",
					l = "function",
					m = this.escapeExpression,
					n = this;
				return k += '<button class="btn btn-success act"><i class="icon-play icon-white"/><span class="chosen">\r\n', j = c["if"].call(b, (i = b.chosen, null == i || i === !1 ? i : i.shortname), {
					hash: {},
					inverse: n.program(3, g, e),
					fn: n.program(1, f, e),
					data: e
				}), (j || 0 === j) && (k += j), k += '\r\n</span></button>\r\n<button class="btn dropdown-toggle btn-success iconBtnsSplit" data-toggle="dropdown">\r\n  <span class="caret whiteCaret"></span>\r\n</button>\r\n<ul class="dropdown-menu">\r\n	', j = c.each.call(b, b.generators, {
					hash: {},
					inverse: n.noop,
					fn: n.program(5, h, e),
					data: e
				}), (j || 0 === j) && (k += j), k += "\r\n</ul>"
			}), this.JST["strut.presentation_generator/CustomBgStylesheet"] = a.template(function(a, b, c, d, e) {
				function f(a, b) {
					var d, e = "";
					return e += "\r\n	.", (d = c.klass) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.klass, d = typeof d === i ? d.apply(a) : d), e += j(d) + " {\r\n		background: ", (d = c.style) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.style, d = typeof d === i ? d.apply(a) : d), e += j(d) + ";\r\n	}\r\n"
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var g, h, i = "function",
					j = this.escapeExpression,
					k = this,
					l = c.blockHelperMissing;
				return g = typeof b === i ? b.apply(b) : b, h = l.call(b, g, {
					hash: {},
					inverse: k.noop,
					fn: k.program(1, f, e),
					data: e
				}), h || 0 === h ? h : ""
			}), this.JST["strut.presentation_generator/PerSlideSurfaceStylesheet"] = a.template(function(a, b, c, d, e) {
				function f(a, b) {
					var d, e, f, h = "";
					return h += "\r\n	.strut-surface {\r\n		", f = {
						hash: {},
						inverse: q.noop,
						fn: q.program(2, g, b),
						data: b
					}, d = c.getBGImgStyle || a.getBGImgStyle, e = d ? d.call(a, a.surface, f) : r.call(a, "getBGImgStyle", a.surface, f), (e || 0 === e) && (h += e), h += "\r\n	}\r\n"
				}

				function g() {
					var a = "";
					return a
				}

				function h(a, b) {
					var d, e, f, h = "";
					return h += "\r\n	.slideContainer {\r\n		", f = {
						hash: {},
						inverse: q.noop,
						fn: q.program(2, g, b),
						data: b
					}, d = c.getBGImgStyle || a.getBGImgStyle, e = d ? d.call(a, a.background, f) : r.call(a, "getBGImgStyle", a.background, f), (e || 0 === e) && (h += e), h += "\r\n	}\r\n"
				}

				function i(a, b) {
					var d, e, f = "";
					return f += "\r\n	", e = {
						hash: {},
						inverse: q.noop,
						fn: q.program(7, j, b),
						data: b
					}, (d = c.attributes) ? d = d.call(a, e) : (d = a.attributes, d = typeof d === s ? d.apply(a) : d), c.attributes || (d = u.call(a, d, e)), (d || 0 === d) && (f += d), f += "\r\n"
				}

				function j(a, b) {
					var d, e, f, g = "";
					return g += "\r\n		", f = {
						hash: {},
						inverse: q.noop,
						fn: q.program(8, k, b),
						data: b
					}, d = c.isBGImg || a.isBGImg, e = d ? d.call(a, a.surface, f) : r.call(a, "isBGImg", a.surface, f), (e || 0 === e) && (g += e), g += "\r\n		", f = {
						hash: {},
						inverse: q.noop,
						fn: q.program(10, l, b),
						data: b
					}, d = c.isBGImg || a.isBGImg, e = d ? d.call(a, a.background, f) : r.call(a, "isBGImg", a.background, f), (e || 0 === e) && (g += e), g += "\r\n	"
				}

				function k(a, b) {
					var d, e, f, h = "";
					return h += "\r\n		.strut-surface > .strut-slide-" + t((d = b, d = null == d || d === !1 ? d : d.index, typeof d === s ? d.apply(a) : d)) + " {\r\n			/*this only works for bg images or custom bgs*/\r\n			/*for bg classes we'll have to introduce a data api*/\r\n			", f = {
						hash: {},
						inverse: q.noop,
						fn: q.program(2, g, b),
						data: b
					}, d = c.getBGImgStyle || a.getBGImgStyle, e = d ? d.call(a, a.surface, f) : r.call(a, "getBGImgStyle", a.surface, f), (e || 0 === e) && (h += e), h += "\r\n		}\r\n		"
				}

				function l(a, b) {
					var d, e, f, h = "";
					return h += "\r\n		.slideContainer.strut-slide-" + t((d = b, d = null == d || d === !1 ? d : d.index, typeof d === s ? d.apply(a) : d)) + " {\r\n			", f = {
						hash: {},
						inverse: q.noop,
						fn: q.program(2, g, b),
						data: b
					}, d = c.getBGImgStyle || a.getBGImgStyle, e = d ? d.call(a, a.background, f) : r.call(a, "getBGImgStyle", a.background, f), (e || 0 === e) && (h += e), h += "\r\n		}\r\n		"
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var m, n, o, p = "",
					q = this,
					r = c.helperMissing,
					s = "function",
					t = this.escapeExpression,
					u = c.blockHelperMissing;
				return p += "<style>\r\n", o = {
					hash: {},
					inverse: q.noop,
					fn: q.program(1, f, e),
					data: e
				}, m = c.isBGImg || b.isBGImg, n = m ? m.call(b, b.surface, o) : r.call(b, "isBGImg", b.surface, o), (n || 0 === n) && (p += n), p += "\r\n", o = {
					hash: {},
					inverse: q.noop,
					fn: q.program(4, h, e),
					data: e
				}, m = c.isBGImg || b.isBGImg, n = m ? m.call(b, b.background, o) : r.call(b, "isBGImg", b.background, o), (n || 0 === n) && (p += n), p += "\r\n", m = b.slides, m = null == m || m === !1 ? m : m.models, m = typeof m === s ? m.apply(b) : m, n = u.call(b, m, {
					hash: {},
					inverse: q.noop,
					fn: q.program(6, i, e),
					data: e
				}), (n || 0 === n) && (p += n), p += "\r\n</style>"
			}), this.JST["strut.slide_components/Component"] = a.template(function(a, b, c, d, e) {
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var f, g = "",
					h = "function",
					i = this.escapeExpression;
				return g += '<div class="content-scale">\r\n<div class="content"></div>\r\n</div>\r\n<span class="topLabel label"> \r\n	<span class="skewx" data-delta="skewX">\u2194</span>\r\n	<span class="align" data-option="x">\u21b9</span>\r\n</span>\r\n<span class="leftLabel label"> \r\n	<span class="align" data-option="y">\u21b9</span>\r\n	<span class="skewy" data-delta="skewY">\u2194</span>\r\n</span>\r\n<span class="rightLabel label rotate" data-delta="rotate">\u21bb</span>\r\n<span class="scale label" data-delta="scale">\u2194</span>\r\n<span class="close-btn-red-20 removeBtn" title="Remove"></span>\r\n<div class="positioningCtrls form-inline">\r\n	<span class="label leftposition">\u2192</span>\r\n	<input class="position" type="text" data-option="x" value="', (f = c.x) ? f = f.call(b, {
					hash: {},
					data: e
				}) : (f = b.x, f = typeof f === h ? f.apply(b) : f), g += i(f) + '"/>\r\n	<span class="label bottomposition">\u2191</span>\r\n	<input class="position" type="text" data-option="y" value="', (f = c.y) ? f = f.call(b, {
					hash: {},
					data: e
				}) : (f = b.y, f = typeof f === h ? f.apply(b) : f), g += i(f) + '"/>\r\n</div>\r\n'
			}), this.JST["strut.slide_components/ShapesDropdown"] = a.template(function(a, b, c, d, e) {
				function f() {
					var a = "";
					return a
				}

				function g(a, b) {
					var d, e, f = "";
					return f += '\r\n<li><a class="shape" data-index="' + m((d = b, d = null == d || d === !1 ? d : d.index, typeof d === l ? d.apply(a) : d)) + '"><img src="', (e = c.src) ? e = e.call(a, {
						hash: {},
						data: b
					}) : (e = a.src, e = typeof e === l ? e.apply(a) : e), f += m(e) + '" width="100%" height="100%"></img></a></li>\r\n'
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var h, i, j, k = "",
					l = "function",
					m = this.escapeExpression,
					n = this,
					o = c.helperMissing,
					p = c.blockHelperMissing;
				return k += '<a class="btn btn-plast dropdown-toggle" data-toggle="dropdown">\r\n	<i class="icon-star icon-white"></i>\r\n	', j = {
					hash: {},
					inverse: n.noop,
					fn: n.program(1, f, e),
					data: e
				}, h = c.lang || b.lang, i = h ? h.call(b, b.title, j) : o.call(b, "lang", b.title, j), (i || 0 === i) && (k += i), k += '</a>\r\n<ul class="dropdown-menu horizontalDropdown" role="menu" style="min-width: 127px; width: 127px">\r\n', j = {
					hash: {},
					inverse: n.noop,
					fn: n.program(3, g, e),
					data: e
				}, (i = c.shapes) ? i = i.call(b, j) : (i = b.shapes, i = typeof i === l ? i.apply(b) : i), c.shapes || (i = p.call(b, i, j)), (i || 0 === i) && (k += i), k += "\r\n</ul>\r\n"
			}), this.JST["strut.slide_editor/Button"] = a.template(function(a, b, c, d, e) {
				function f() {
					var a = "";
					return a
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var g, h, i, j = "",
					k = this,
					l = c.helperMissing;
				return j += '<div class="btn-group iconBtns">\r\n	<a class="btn btn-plast">\r\n		<i class="icon-th-list icon-white"></i>\r\n		', i = {
					hash: {},
					inverse: k.noop,
					fn: k.program(1, f, e),
					data: e
				}, g = c.lang || b.lang, h = g ? g.call(b, "slides", i) : l.call(b, "lang", "slides", i), (h || 0 === h) && (j += h), j += "\r\n	</a>\r\n</div>"
			}), this.JST["strut.slide_editor/Tablets"] = a.template(function(a, b, c, d, e) {
				return this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {}, '<div class="tablets-content">\r\n</div>\r\n<div class="tablets-toggle btn btn-plast">\r\n	<span class="caret whiteCaret"></span>\r\n</div>'
			}), this.JST["strut.slide_snapshot/SlideDrawer"] = a.template(function(a, b, c, d, e) {
				function f() {
					var a = "";
					return a
				}

				function g(a, b) {
					var d, e, g, h = "";
					return h += "\r\n", g = {
						hash: {},
						inverse: l.noop,
						fn: l.program(1, f, b),
						data: b
					}, d = c.renderComponent || a.renderComponent, e = d ? d.call(a, a, "", g) : m.call(a, "renderComponent", a, "", g), (e || 0 === e) && (h += e), h += "\r\n"
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var h, i, j, k = "",
					l = this,
					m = c.helperMissing,
					n = "function",
					o = c.blockHelperMissing;
				return k += '<div class="themedArea">\r\n', j = {
					hash: {},
					inverse: l.noop,
					fn: l.program(1, f, e),
					data: e
				}, h = c.marked || b.marked, i = h ? h.call(b, b.markdown, j) : m.call(b, "marked", b.markdown, j), (i || 0 === i) && (k += i), k += '\r\n</div>\r\n<div class="bgArea bgDeck"></div>\r\n<div class="bgArea bgSlide"></div>\r\n', j = {
					hash: {},
					inverse: l.noop,
					fn: l.program(3, g, e),
					data: e
				}, (i = c.components) ? i = i.call(b, j) : (i = b.components, i = typeof i === n ? i.apply(b) : i), c.components || (i = o.call(b, i, j)), (i || 0 === i) && (k += i), k += "\r\n"
			}), this.JST["strut.slide_snapshot/SlideSnapshot"] = a.template(function(a, b, c, d, e) {
				return this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {}, '<div class="overlay"></div>\r\n<div class="slideDrawer slideContainer"></div>\r\n<span class="close-btn-red-20 removeBtn" title="Remove"></span>\r\n<span class="badge badge-inverse"> </span>'
			}), this.JST["strut.slide_snapshot/TransitionSlideSnapshot"] = a.template(function(a, b, c, d, e) {
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var f, g = "",
					h = "function",
					i = this.escapeExpression;
				return g += '<div class="content-container">\r\n	<div class="content">\r\n		<div class="slideDrawer slideContainer"></div>\r\n		<div class="back"></div>\r\n		<div class="top"></div><div class="bottom"></div><div class="left"></div><div class="right"></div>\r\n	</div>\r\n</div>\r\n\r\n<div class="topLabel form-inline">\r\n	<span class="label rotates" data-delta="rotateY">\u21bbY</span>\r\n	<input type="text" data-option="rotateY" value="', (f = c.rotateY) ? f = f.call(b, {
					hash: {},
					data: e
				}) : (f = b.rotateY, f = typeof f === h ? f.apply(b) : f), g += i(f) + '"></input>\r\n</div>\r\n<div class="leftLabel form-inline">\r\n	<span class="label rotates" data-delta="rotateX">\u21bbX</span>\r\n	<input type="text" data-option="rotateX" value="', (f = c.rotateX) ? f = f.call(b, {
					hash: {},
					data: e
				}) : (f = b.rotateX, f = typeof f === h ? f.apply(b) : f), g += i(f) + '"></input>\r\n</div>\r\n<div class="rightLabel form-inline">\r\n	<span class="label rotates" data-delta="rotateZ">\u21bbZ</span>\r\n	<input type="text" data-option="rotateZ" value="', (f = c.rotateZ) ? f = f.call(b, {
					hash: {},
					data: e
				}) : (f = b.rotateZ, f = typeof f === h ? f.apply(b) : f), g += i(f) + '"></input>\r\n</div>\r\n<div class="positioningCtrls form-inline">\r\n	<span class="label layer">z</span>\r\n	<input class="position" type="text" data-option="z" value="', (f = c.z) ? f = f.call(b, {
					hash: {},
					data: e
				}) : (f = b.z, f = typeof f === h ? f.apply(b) : f), g += i(f) + '"/>\r\n	<span class="label scales">\u2194</span>\r\n	<input class="position" type="text" data-option="scale" value="', (f = c.impScale) ? f = f.call(b, {
					hash: {},
					data: e
				}) : (f = b.impScale, f = typeof f === h ? f.apply(b) : f), g += i(f) + '"/>\r\n</div>\r\n<span class="badge badge-inverse"> </span>\r\n'
			}), this.JST["strut.splash/Splash"] = a.template(function(a, b, c, d, e) {
				return this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {}, "<div></div>"
			}), this.JST["strut.storage/ProviderTab"] = a.template(function(a, b, c, d, e) {
				return this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {}, "<div></div>"
			}), this.JST["strut.storage/StorageModal"] = a.template(function(a, b, c, d, e) {
				function f(a, b) {
					var d, e = "";
					return e += '\r\n			<li class="providerTab"><a data-provider="', (d = c.id) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.id, d = typeof d === j ? d.apply(a) : d), e += k(d) + '">', (d = c.name) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.name, d = typeof d === j ? d.apply(a) : d), e += k(d) + "</a></li>\r\n		"
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var g, h, i = "",
					j = "function",
					k = this.escapeExpression,
					l = this,
					m = c.blockHelperMissing;
				return i += '<div class="modal-header">\r\n	<button class="close" data-dismiss="modal">\xd7</button>\r\n	<h3 class="title">', (g = c.title) ? g = g.call(b, {
					hash: {},
					data: e
				}) : (g = b.title, g = typeof g === j ? g.apply(b) : g), i += k(g) + '</h3>\r\n</div>\r\n<div class="modal-body" style="overflow: hidden">\r\n	<ul class="nav nav-tabs">\r\n		', h = {
					hash: {},
					inverse: l.noop,
					fn: l.program(1, f, e),
					data: e
				}, (g = c.tabs) ? g = g.call(b, h) : (g = b.tabs, g = typeof g === j ? g.apply(b) : g), c.tabs || (g = m.call(b, g, h)), (g || 0 === g) && (i += g), i += '\r\n	</ul>\r\n	<div class="tabContent">\r\n	</div>\r\n</div>\r\n<div class="modal-footer">\r\n	<a href="#" class="btn btn-primary ok btn-inverse">Ok</a>\r\n</div>'
			}), this.JST["strut.themes/BackgroundChooserDropdown"] = a.template(function(a, b, c, d, e) {
				function f() {
					var a = "";
					return a
				}

				function g(a, b) {
					var d, e = "";
					return e += '\r\n			<li><a class="', (d = c.klass) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.klass, d = typeof d === l ? d.apply(a) : d), e += m(d) + ' thumbnail" alt="', (d = c.description) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.description, d = typeof d === l ? d.apply(a) : d), e += m(d) + '" data-class="', (d = c.klass) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.klass, d = typeof d === l ? d.apply(a) : d), e += m(d) + '"></a></li>\r\n			'
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var h, i, j, k = "",
					l = "function",
					m = this.escapeExpression,
					n = this,
					o = c.helperMissing,
					p = c.blockHelperMissing;
				return k += '<a class="btn btn-plast dropdown-toggle" data-toggle="dropdown">\r\n	<i class="icon-tint icon-white"></i>\r\n	', j = {
					hash: {},
					inverse: n.noop,
					fn: n.program(1, f, e),
					data: e
				}, h = c.lang || b.lang, i = h ? h.call(b, b.title, j) : o.call(b, "lang", b.title, j), (i || 0 === i) && (k += i), k += '</a>\r\n<ul class="dropdown-menu" role="menu">\r\n	<li class="dropdown-submenu">\r\n		<a tabindex="-1" href="#">All Slides</a>\r\n		<ul class="dropdown-menu horizontalDropdown allSlides" style="min-width: 127px; width: 127px">\r\n			', j = {
					hash: {},
					inverse: n.noop,
					fn: n.program(3, g, e),
					data: e
				}, (i = c.backgrounds) ? i = i.call(b, j) : (i = b.backgrounds, i = typeof i === l ? i.apply(b) : i), c.backgrounds || (i = p.call(b, i, j)), (i || 0 === i) && (k += i), k += '\r\n			<li><a class="transparentPattern thumbnail" data-class="bg-transparent"></a></li>\r\n			<li><a class="bg-img thumbnail" data-class="bg-img"><i class="icon-picture"></i></a></li>\r\n			<li><a class="bg-custom thumbnail" data-class="bg-custom"><i class="icon-pencil"></i></a></li>\r\n		</ul>\r\n	</li>\r\n	<li class="dropdown-submenu">\r\n		<a tabindex="-1" href="#">Selected Slide</a>\r\n		<ul class="dropdown-menu horizontalDropdown" style="min-width: 127px; width: 127px">\r\n			', j = {
					hash: {},
					inverse: n.noop,
					fn: n.program(3, g, e),
					data: e
				}, (i = c.backgrounds) ? i = i.call(b, j) : (i = b.backgrounds, i = typeof i === l ? i.apply(b) : i), c.backgrounds || (i = p.call(b, i, j)), (i || 0 === i) && (k += i), k += '\r\n			<li><a class="transparentPattern thumbnail" data-class="bg-transparent"></a></li>\r\n			<li><a class="nobg thumbnail" data-class="bg-default"></a></li>\r\n			<li><a class="bg-img thumbnail" data-class="bg-img"><i class="icon-picture"></i></a></li>\r\n			<li><a class="bg-custom thumbnail" data-class="bg-custom"><i class="icon-pencil"></i></a></li>\r\n		</ul>\r\n	</li>\r\n</ul>\r\n'
			}), this.JST["strut.themes/ColorChooserModal"] = a.template(function(a, b, c, d, e) {
				return this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {}, '<div class="modal-header">\r\n	<button class="close" data-dismiss="modal">\xd7</button>\r\n	<h3 class="title">Custom Color</h3>\r\n</div>\r\n<div class="modal-body" style="overflow: hidden">\r\n	<input type=\'text\' class="color-chooser pull-right" />\r\n</div>\r\n<div class="modal-footer">\r\n	<a href="#" class="btn btn-primary ok btn-inverse">Ok</a>\r\n</div>';

			}), this.JST["strut.themes/SurfaceChooserDropdown"] = a.template(function(a, b, c, d, e) {
				function f() {
					var a = "";
					return a
				}

				function g(a, b) {
					var d, e = "";
					return e += '\r\n			<li><a class="', (d = c.klass) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.klass, d = typeof d === l ? d.apply(a) : d), e += m(d) + ' thumbnail" alt="', (d = c.description) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.description, d = typeof d === l ? d.apply(a) : d), e += m(d) + '" data-class="', (d = c.klass) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.klass, d = typeof d === l ? d.apply(a) : d), e += m(d) + '"></a></li>\r\n			'
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var h, i, j, k = "",
					l = "function",
					m = this.escapeExpression,
					n = this,
					o = c.helperMissing,
					p = c.blockHelperMissing;
				return k += '<a class="btn btn-plast dropdown-toggle" data-toggle="dropdown">\r\n	<i class="icon-tint icon-white"></i>\r\n	', j = {
					hash: {},
					inverse: n.noop,
					fn: n.program(1, f, e),
					data: e
				}, h = c.lang || b.lang, i = h ? h.call(b, b.title, j) : o.call(b, "lang", b.title, j), (i || 0 === i) && (k += i), k += '</a>\r\n<ul class="dropdown-menu" role="menu">\r\n	<li class="dropdown-submenu">\r\n		<a tabindex="-1" href="#">All Slides</a>\r\n		<ul class="dropdown-menu horizontalDropdown allSlides" style="min-width: 127px; width: 127px">\r\n			', j = {
					hash: {},
					inverse: n.noop,
					fn: n.program(3, g, e),
					data: e
				}, (i = c.backgrounds) ? i = i.call(b, j) : (i = b.backgrounds, i = typeof i === l ? i.apply(b) : i), c.backgrounds || (i = p.call(b, i, j)), (i || 0 === i) && (k += i), k += '\r\n			<li><a class="nobg thumbnail" data-class="bg-default"></a></li>\r\n			<li><a class="bg-img thumbnail" data-class="bg-img"><i class="icon-picture"></i></a></li>\r\n			<li><a class="bg-custom thumbnail" data-class="bg-custom"><i class="icon-pencil"></i></a></li>\r\n		</ul>\r\n	</li>\r\n	<li class="dropdown-submenu">\r\n		<a tabindex="-1" href="#">Selected Slide</a>\r\n		<ul class="dropdown-menu horizontalDropdown" style="min-width: 127px; width: 127px">\r\n			', j = {
					hash: {},
					inverse: n.noop,
					fn: n.program(3, g, e),
					data: e
				}, (i = c.backgrounds) ? i = i.call(b, j) : (i = b.backgrounds, i = typeof i === l ? i.apply(b) : i), c.backgrounds || (i = p.call(b, i, j)), (i || 0 === i) && (k += i), k += '\r\n			<li><a class="nobg thumbnail" data-class="bg-default"></a></li>\r\n			<li><a class="bg-img thumbnail" data-class="bg-img"><i class="icon-picture"></i></a></li>\r\n			<li><a class="bg-custom thumbnail" data-class="bg-custom"><i class="icon-pencil"></i></a></li>\r\n		</ul>\r\n	</li>\r\n</ul>\r\n'
			}), this.JST["strut.transition_editor/Button"] = a.template(function(a, b, c, d, e) {
				function f() {
					var a = "";
					return a
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var g, h, i, j = "",
					k = this,
					l = c.helperMissing;
				return j += '<div class="btn-group iconBtns">\r\n	<a class="btn btn-plast">\r\n		<i class="icon-th-large icon-white"></i>\r\n		', i = {
					hash: {},
					inverse: k.noop,
					fn: k.program(1, f, e),
					data: e
				}, g = c.lang || b.lang, h = g ? g.call(b, "overview", i) : l.call(b, "lang", "overview", i), (h || 0 === h) && (j += h), j += "\r\n	</a>\r\n</div>"
			}), this.JST["strut.transition_editor/CannedTransitions"] = a.template(function(a, b, c, d, e) {
				function f(a, b) {
					var d, e = "";
					return e += '\r\n	<li class="span4">\r\n		<a href="#" data-name="', (d = c.name) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.name, d = typeof d === k ? d.apply(a) : d), e += l(d) + '" class="thumbnail', d = c["if"].call(a, a.active, {
						hash: {},
						inverse: m.noop,
						fn: m.program(2, g, b),
						data: b
					}), (d || 0 === d) && (e += d), e += '">\r\n			<img src="', (d = c.img) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.img, d = typeof d === k ? d.apply(a) : d), e += l(d) + '" style="', (d = c.style) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.style, d = typeof d === k ? d.apply(a) : d), e += l(d) + '"></img>\r\n		</a>\r\n	</li>\r\n	'
				}

				function g() {
					return " active"
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var h, i, j = "",
					k = "function",
					l = this.escapeExpression,
					m = this,
					n = c.blockHelperMissing;
				return j += '<ul class="thumbnails">\r\n	', h = typeof b === k ? b.apply(b) : b, i = n.call(b, h, {
					hash: {},
					inverse: m.noop,
					fn: m.program(1, f, e),
					data: e
				}), (i || 0 === i) && (j += i), j += '\r\n</ul>\r\n<span class="bespoke-link">\r\n	<a href="https://github.com/markdalgleish/bespoke.js" target="_blank">Bespoke.js</a>\r\n</span>'
			}), this.JST["tantaman.web.widgets/CodeEditor"] = a.template(function(a, b, c, d, e) {
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var f, g = "",
					h = "function",
					i = this.escapeExpression;
				return g += '<div class="modal-header">\r\n	<button class="close" data-dismiss="modal">\xd7</button>\r\n	<h3>', (f = c.title) ? f = f.call(b, {
					hash: {},
					data: e
				}) : (f = b.title, f = typeof f === h ? f.apply(b) : f), g += i(f) + '</h3>\r\n</div>\r\n<div class="modal-body" style="overflow: hidden">\r\n	<textarea class="codeInput">', (f = c.placeholder) ? f = f.call(b, {
					hash: {},
					data: e
				}) : (f = b.placeholder, f = typeof f === h ? f.apply(b) : f), g += i(f) + '</textarea>\r\n</div>\r\n<div class="modal-footer">\r\n	<a href="#" class="btn btn-primary ok btn-inverse">Save</a>\r\n	<a href="#" class="btn btn-danger cancel">Cancel</a>\r\n</div>'
			}), this.JST["tantaman.web.widgets/FileBrowser"] = a.template(function(a, b, c, d, e) {
				function f(a, b) {
					var d, e = "";
					return e += '\r\n	<li data-fileName="', (d = c.id) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.id, d = typeof d === j ? d.apply(a) : d), e += k(d) + '" data-title="', (d = c.title) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.title, d = typeof d === j ? d.apply(a) : d), e += k(d) + '"><a>', (d = c.title) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.title, d = typeof d === j ? d.apply(a) : d), e += k(d) + ' <button class="close pull-right">\xd7</button></a></li>\r\n	'
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var g, h, i = "",
					j = "function",
					k = this.escapeExpression,
					l = this,
					m = c.blockHelperMissing;
				return i += '<input type="text" class="fileName"></input>\r\n<ul class="nav nav-pills nav-stacked">\r\n	', h = {
					hash: {},
					inverse: l.noop,
					fn: l.program(1, f, e),
					data: e
				}, (g = c.files) ? g = g.call(b, h) : (g = b.files, g = typeof g === j ? g.apply(b) : g), c.files || (g = m.call(b, g, h)), (g || 0 === g) && (i += g), i += "\r\n</ul>"
			}), this.JST["tantaman.web.widgets/InputRequestModal"] = a.template(function(a, b, c, d, e) {
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var f, g = "",
					h = "function",
					i = this.escapeExpression;
				return g += '<div class="modal-header">\r\n	<button class="close" data-dismiss="modal">\xd7</button>\r\n	<h3 class="title">', (f = c.title) ? f = f.call(b, {
					hash: {},
					data: e
				}) : (f = b.title, f = typeof f === h ? f.apply(b) : f), g += i(f) + '</h3>\r\n</div>\r\n<div class="modal-body" style="overflow: hidden">\r\n	<div class="errors"></div>\r\n	<form class="form-inline">\r\n		<label>', (f = c.prompt) ? f = f.call(b, {
					hash: {},
					data: e
				}) : (f = b.prompt, f = typeof f === h ? f.apply(b) : f), g += i(f) + ':&nbsp;</label><input type="text" />\r\n	</form>\r\n</div>\r\n<div class="modal-footer">\r\n	<a href="#!" class="btn btn-primary ok btn-inverse">Ok</a>\r\n</div>'
			}), this.JST["tantaman.web.widgets/ItemImportModal"] = a.template(function(a, b, c, d, e) {
				function f() {
					return '<div data-option="browse" class="btn">Browse</div>'
				}

				function g() {
					return '<div class="droparea">Drag & Drop</div>'
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var h, i, j = "",
					k = "function",
					l = this.escapeExpression,
					m = this,
					n = c.blockHelperMissing;
				return j += '<div class="modal-header">\r\n	<button class="close" data-dismiss="modal">\xd7</button>\r\n	<h3>', (h = c.title) ? h = h.call(b, {
					hash: {},
					data: e
				}) : (h = b.title, h = typeof h === k ? h.apply(b) : h), j += l(h) + '</h3>\r\n</div>\r\n<div class="modal-body" style="overflow: hidden">\r\n	<div class="alert alert-error dispNone">\r\n  		<button class="close" data-dismiss="alert">\xd7</button>\r\n  		The resource you selected appears to be incorrect\r\n	</div>\r\n	<h4>URL/File:</h4><div class="form-inline"><input type="text" name="itemUrl"></input>&nbsp;', i = {
					hash: {},
					inverse: m.noop,
					fn: m.program(1, f, e),
					data: e
				}, (h = c.browsable) ? h = h.call(b, i) : (h = b.browsable, h = typeof h === k ? h.apply(b) : h), c.browsable || (h = n.call(b, h, i)), (h || 0 === h) && (j += h), j += '</div>\r\n	<input type="file" style="display:none"></input>\r\n	<h4>Preview:</h4>\r\n	<ul class="thumbnails">\r\n		<li class="span4">\r\n			<div class="thumbnail" style="width: 368px; height: 276px; position: relative">\r\n				', i = {
					hash: {},
					inverse: m.noop,
					fn: m.program(3, g, e),
					data: e
				}, (h = c.browsable) ? h = h.call(b, i) : (h = b.browsable, h = typeof h === k ? h.apply(b) : h), c.browsable || (h = n.call(b, h, i)), (h || 0 === h) && (j += h), j += "\r\n				<", (h = c.tag) ? h = h.call(b, {
					hash: {},
					data: e
				}) : (h = b.tag, h = typeof h === k ? h.apply(b) : h), j += l(h) + ' class="preview" style="max-width: 100%; max-height: 100%; margin: 0 auto; position: relative; z-index: 1;" src=""></', (h = c.tag) ? h = h.call(b, {
					hash: {},
					data: e
				}) : (h = b.tag, h = typeof h === k ? h.apply(b) : h), j += l(h) + '>\r\n			</div>\r\n			<div class="progress active progress-striped dispNone">\r\n  				<div class="bar"></div>\r\n			</div>\r\n		</li>\r\n	</ul>\r\n</div>\r\n<div class="modal-footer">\r\n	<a href="#" class="btn btn-primary ok btn-inverse">', (h = c.title) ? h = h.call(b, {
					hash: {},
					data: e
				}) : (h = b.title, h = typeof h === k ? h.apply(b) : h), j += l(h) + "</a>\r\n</div>"
			}), this.JST["tantaman.web.widgets/List"] = a.template(function(a, b, c, d, e) {
				function f(a) {
					var b = "";
					return b += "\r\n	<li>" + k(typeof a === j ? a.apply(a) : a) + "</li>\r\n	"
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var g, h, i = "",
					j = "function",
					k = this.escapeExpression,
					l = this,
					m = c.blockHelperMissing;
				return i += "<ul>\r\n	", g = typeof b === j ? b.apply(b) : b, h = m.call(b, g, {
					hash: {},
					inverse: l.noop,
					fn: l.program(1, f, e),
					data: e
				}), (h || 0 === h) && (i += h), i += "\r\n</ul>"
			}), this.JST["tantaman.web.widgets/Modal"] = a.template(function(a, b, c, d, e) {
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var f, g = "",
					h = "function",
					i = this.escapeExpression;
				return g += '<div class="modal-header">\r\n	<button class="close" data-dismiss="modal">\xd7</button>\r\n	<h3 class="title">', (f = c.title) ? f = f.call(b, {
					hash: {},
					data: e
				}) : (f = b.title, f = typeof f === h ? f.apply(b) : f), g += i(f) + '</h3>\r\n</div>\r\n<div class="modal-body" style="overflow: hidden">\r\n	<div class="errors"></div>\r\n	<div class="content"></div>	\r\n</div>'
			}), this.JST["tantaman.web.widgets/PopoverTextbox"] = a.template(function(a, b, c, d, e) {
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var f, g = "",
					h = "function",
					i = this.escapeExpression;
				return (f = c.title) ? f = f.call(b, {
					hash: {},
					data: e
				}) : (f = b.title, f = typeof f === h ? f.apply(b) : f), g += i(f) + ' <input type="textbox" placeholder="custom1 custom2"></input>\r\n<div>\r\n<a class="btn btn-plast ok">Ok</a>\r\n<a class="btn btn-danger cancel">Cancel</a>\r\n</div>'
			}), this.JST["tantaman.web.widgets/TabbedModal"] = a.template(function(a, b, c, d, e) {
				function f(a, b) {
					var d, e = "";
					return e += '\r\n			<li class="providerTab" data-provider="', (d = c.id) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.id, d = typeof d === j ? d.apply(a) : d), e += k(d) + '"><a>', (d = c.name) ? d = d.call(a, {
						hash: {},
						data: b
					}) : (d = a.name, d = typeof d === j ? d.apply(a) : d), e += k(d) + "</a></li>\r\n		"
				}
				this.compilerInfo = [4, ">= 1.0.0"], c = this.merge(c, a.helpers), e = e || {};
				var g, h, i = "",
					j = "function",
					k = this.escapeExpression,
					l = this,
					m = c.blockHelperMissing;
				return i += '<div class="modal-header">\r\n	<button class="close" data-dismiss="modal">\xd7</button>\r\n	<h3 class="title">', (g = c.title) ? g = g.call(b, {
					hash: {},
					data: e
				}) : (g = b.title, g = typeof g === j ? g.apply(b) : g), i += k(g) + '</h3>\r\n</div>\r\n<div class="modal-body" style="overflow: hidden">\r\n	<ul class="nav nav-tabs">\r\n		', g = typeof b === j ? b.apply(b) : b, h = m.call(b, g, {
					hash: {},
					inverse: l.noop,
					fn: l.program(1, f, e),
					data: e
				}), (h || 0 === h) && (i += h), i += '\r\n	</ul>\r\n	<div class="tabContent">\r\n	</div>\r\n</div>\r\n<div class="modal-footer">\r\n	<span class="loading">loading...</span>\r\n	<a href="#!" class="btn btn-primary ok btn-inverse">Ok</a>\r\n</div>'
			}), this.JST
		}),
		function(a, b) {
			function c(a) {
				var b = a.length,
					c = fa.type(a);
				return fa.isWindow(a) ? !1 : 1 === a.nodeType && b ? !0 : "array" === c || "function" !== c && (0 === b || "number" == typeof b && b > 0 && b - 1 in a)
			}

			function d(a) {
				var b = oa[a] = {};
				return fa.each(a.match(ha) || [], function(a, c) {
					b[c] = !0
				}), b
			}

			function e() {
				Object.defineProperty(this.cache = {}, 0, {
					get: function() {
						return {}
					}
				}), this.expando = fa.expando + Math.random()
			}

			function f(a, c, d) {
				var e;
				if (d === b && 1 === a.nodeType)
					if (e = "data-" + c.replace(sa, "-$1").toLowerCase(), d = a.getAttribute(e), "string" == typeof d) {
						try {
							d = "true" === d ? !0 : "false" === d ? !1 : "null" === d ? null : +d + "" === d ? +d : ra.test(d) ? JSON.parse(d) : d
						} catch (f) {}
						pa.set(a, c, d)
					} else d = b;
				return d
			}

			function g() {
				return !0
			}

			function h() {
				return !1
			}

			function i() {
				try {
					return T.activeElement
				} catch (a) {}
			}

			function j(a, b) {
				for (;
					(a = a[b]) && 1 !== a.nodeType;);
				return a
			}

			function k(a, b, c) {
				if (fa.isFunction(b)) return fa.grep(a, function(a, d) {
					return !!b.call(a, d, a) !== c
				});
				if (b.nodeType) return fa.grep(a, function(a) {
					return a === b !== c
				});
				if ("string" == typeof b) {
					if (Ca.test(b)) return fa.filter(b, a, c);
					b = fa.filter(b, a)
				}
				return fa.grep(a, function(a) {
					return ba.call(b, a) >= 0 !== c
				})
			}

			function l(a, b) {
				return fa.nodeName(a, "table") && fa.nodeName(1 === b.nodeType ? b : b.firstChild, "tr") ? a.getElementsByTagName("tbody")[0] || a.appendChild(a.ownerDocument.createElement("tbody")) : a
			}

			function m(a) {
				return a.type = (null !== a.getAttribute("type")) + "/" + a.type, a
			}

			function n(a) {
				var b = Na.exec(a.type);
				return b ? a.type = b[1] : a.removeAttribute("type"), a
			}

			function o(a, b) {
				for (var c = a.length, d = 0; c > d; d++) qa.set(a[d], "globalEval", !b || qa.get(b[d], "globalEval"))
			}

			function p(a, b) {
				var c, d, e, f, g, h, i, j;
				if (1 === b.nodeType) {
					if (qa.hasData(a) && (f = qa.access(a), g = qa.set(b, f), j = f.events)) {
						delete g.handle, g.events = {};
						for (e in j)
							for (c = 0, d = j[e].length; d > c; c++) fa.event.add(b, e, j[e][c])
					}
					pa.hasData(a) && (h = pa.access(a), i = fa.extend({}, h), pa.set(b, i))
				}
			}

			function q(a, c) {
				var d = a.getElementsByTagName ? a.getElementsByTagName(c || "*") : a.querySelectorAll ? a.querySelectorAll(c || "*") : [];
				return c === b || c && fa.nodeName(a, c) ? fa.merge([a], d) : d
			}

			function r(a, b) {
				var c = b.nodeName.toLowerCase();
				"input" === c && Ka.test(a.type) ? b.checked = a.checked : ("input" === c || "textarea" === c) && (b.defaultValue = a.defaultValue)
			}

			function s(a, b) {
				if (b in a) return b;
				for (var c = b.charAt(0).toUpperCase() + b.slice(1), d = b, e = _a.length; e--;)
					if (b = _a[e] + c, b in a) return b;
				return d
			}

			function t(a, b) {
				return a = b || a, "none" === fa.css(a, "display") || !fa.contains(a.ownerDocument, a)
			}

			function u(b) {
				return a.getComputedStyle(b, null)
			}

			function v(a, b) {
				for (var c, d, e, f = [], g = 0, h = a.length; h > g; g++) d = a[g], d.style && (f[g] = qa.get(d, "olddisplay"), c = d.style.display, b ? (f[g] || "none" !== c || (d.style.display = ""), "" === d.style.display && t(d) && (f[g] = qa.access(d, "olddisplay", z(d.nodeName)))) : f[g] || (e = t(d), (c && "none" !== c || !e) && qa.set(d, "olddisplay", e ? c : fa.css(d, "display"))));
				for (g = 0; h > g; g++) d = a[g], d.style && (b && "none" !== d.style.display && "" !== d.style.display || (d.style.display = b ? f[g] || "" : "none"));
				return a
			}

			function w(a, b, c) {
				var d = Ua.exec(b);
				return d ? Math.max(0, d[1] - (c || 0)) + (d[2] || "px") : b
			}

			function x(a, b, c, d, e) {
				for (var f = c === (d ? "border" : "content") ? 4 : "width" === b ? 1 : 0, g = 0; 4 > f; f += 2) "margin" === c && (g += fa.css(a, c + $a[f], !0, e)), d ? ("content" === c && (g -= fa.css(a, "padding" + $a[f], !0, e)), "margin" !== c && (g -= fa.css(a, "border" + $a[f] + "Width", !0, e))) : (g += fa.css(a, "padding" + $a[f], !0, e), "padding" !== c && (g += fa.css(a, "border" + $a[f] + "Width", !0, e)));
				return g
			}

			function y(a, b, c) {
				var d = !0,
					e = "width" === b ? a.offsetWidth : a.offsetHeight,
					f = u(a),
					g = fa.support.boxSizing && "border-box" === fa.css(a, "boxSizing", !1, f);
				if (0 >= e || null == e) {
					if (e = Qa(a, b, f), (0 > e || null == e) && (e = a.style[b]), Va.test(e)) return e;
					d = g && (fa.support.boxSizingReliable || e === a.style[b]), e = parseFloat(e) || 0
				}
				return e + x(a, b, c || (g ? "border" : "content"), d, f) + "px"
			}

			function z(a) {
				var b = T,
					c = Xa[a];
				return c || (c = A(a, b), "none" !== c && c || (Ra = (Ra || fa("<iframe frameborder='0' width='0' height='0'/>").css("cssText", "display:block !important")).appendTo(b.documentElement), b = (Ra[0].contentWindow || Ra[0].contentDocument).document, b.write("<!doctype html><html><body>"), b.close(), c = A(a, b), Ra.detach()), Xa[a] = c), c
			}

			function A(a, b) {
				var c = fa(b.createElement(a)).appendTo(b.body),
					d = fa.css(c[0], "display");
				return c.remove(), d
			}

			function B(a, b, c, d) {
				var e;
				if (fa.isArray(b)) fa.each(b, function(b, e) {
					c || bb.test(a) ? d(a, e) : B(a + "[" + ("object" == typeof e ? b : "") + "]", e, c, d)
				});
				else if (c || "object" !== fa.type(b)) d(a, b);
				else
					for (e in b) B(a + "[" + e + "]", b[e], c, d)
			}

			function C(a) {
				return function(b, c) {
					"string" != typeof b && (c = b, b = "*");
					var d, e = 0,
						f = b.toLowerCase().match(ha) || [];
					if (fa.isFunction(c))
						for (; d = f[e++];) "+" === d[0] ? (d = d.slice(1) || "*", (a[d] = a[d] || []).unshift(c)) : (a[d] = a[d] || []).push(c)
				}
			}

			function D(a, b, c, d) {
				function e(h) {
					var i;
					return f[h] = !0, fa.each(a[h] || [], function(a, h) {
						var j = h(b, c, d);
						return "string" != typeof j || g || f[j] ? g ? !(i = j) : void 0 : (b.dataTypes.unshift(j), e(j), !1)
					}), i
				}
				var f = {},
					g = a === sb;
				return e(b.dataTypes[0]) || !f["*"] && e("*")
			}

			function E(a, c) {
				var d, e, f = fa.ajaxSettings.flatOptions || {};
				for (d in c) c[d] !== b && ((f[d] ? a : e || (e = {}))[d] = c[d]);
				return e && fa.extend(!0, a, e), a
			}

			function F(a, c, d) {
				for (var e, f, g, h, i = a.contents, j = a.dataTypes;
					"*" === j[0];) j.shift(), e === b && (e = a.mimeType || c.getResponseHeader("Content-Type"));
				if (e)
					for (f in i)
						if (i[f] && i[f].test(e)) {
							j.unshift(f);
							break
						}
				if (j[0] in d) g = j[0];
				else {
					for (f in d) {
						if (!j[0] || a.converters[f + " " + j[0]]) {
							g = f;
							break
						}
						h || (h = f)
					}
					g = g || h
				}
				return g ? (g !== j[0] && j.unshift(g), d[g]) : void 0
			}

			function G(a, b, c, d) {
				var e, f, g, h, i, j = {},
					k = a.dataTypes.slice();
				if (k[1])
					for (g in a.converters) j[g.toLowerCase()] = a.converters[g];
				for (f = k.shift(); f;)
					if (a.responseFields[f] && (c[a.responseFields[f]] = b), !i && d && a.dataFilter && (b = a.dataFilter(b, a.dataType)), i = f, f = k.shift())
						if ("*" === f) f = i;
						else if ("*" !== i && i !== f) {
					if (g = j[i + " " + f] || j["* " + f], !g)
						for (e in j)
							if (h = e.split(" "), h[1] === f && (g = j[i + " " + h[0]] || j["* " + h[0]])) {
								g === !0 ? g = j[e] : j[e] !== !0 && (f = h[0], k.unshift(h[1]));
								break
							}
					if (g !== !0)
						if (g && a["throws"]) b = g(b);
						else try {
							b = g(b)
						} catch (l) {
							return {
								state: "parsererror",
								error: g ? l : "No conversion from " + i + " to " + f
							}
						}
				}
				return {
					state: "success",
					data: b
				}
			}

			function H() {
				return setTimeout(function() {
					Bb = b
				}), Bb = fa.now()
			}

			function I(a, b, c) {
				for (var d, e = (Hb[b] || []).concat(Hb["*"]), f = 0, g = e.length; g > f; f++)
					if (d = e[f].call(c, b, a)) return d
			}

			function J(a, b, c) {
				var d, e, f = 0,
					g = Gb.length,
					h = fa.Deferred().always(function() {
						delete i.elem
					}),
					i = function() {
						if (e) return !1;
						for (var b = Bb || H(), c = Math.max(0, j.startTime + j.duration - b), d = c / j.duration || 0, f = 1 - d, g = 0, i = j.tweens.length; i > g; g++) j.tweens[g].run(f);
						return h.notifyWith(a, [j, f, c]), 1 > f && i ? c : (h.resolveWith(a, [j]), !1)
					},
					j = h.promise({
						elem: a,
						props: fa.extend({}, b),
						opts: fa.extend(!0, {
							specialEasing: {}
						}, c),
						originalProperties: b,
						originalOptions: c,
						startTime: Bb || H(),
						duration: c.duration,
						tweens: [],
						createTween: function(b, c) {
							var d = fa.Tween(a, j.opts, b, c, j.opts.specialEasing[b] || j.opts.easing);
							return j.tweens.push(d), d
						},
						stop: function(b) {
							var c = 0,
								d = b ? j.tweens.length : 0;
							if (e) return this;
							for (e = !0; d > c; c++) j.tweens[c].run(1);
							return b ? h.resolveWith(a, [j, b]) : h.rejectWith(a, [j, b]), this
						}
					}),
					k = j.props;
				for (K(k, j.opts.specialEasing); g > f; f++)
					if (d = Gb[f].call(j, a, k, j.opts)) return d;
				return fa.map(k, I, j), fa.isFunction(j.opts.start) && j.opts.start.call(a, j), fa.fx.timer(fa.extend(i, {
					elem: a,
					anim: j,
					queue: j.opts.queue
				})), j.progress(j.opts.progress).done(j.opts.done, j.opts.complete).fail(j.opts.fail).always(j.opts.always)
			}

			function K(a, b) {
				var c, d, e, f, g;
				for (c in a)
					if (d = fa.camelCase(c), e = b[d], f = a[c], fa.isArray(f) && (e = f[1], f = a[c] = f[0]), c !== d && (a[d] = f, delete a[c]), g = fa.cssHooks[d], g && "expand" in g) {
						f = g.expand(f), delete a[d];
						for (c in f) c in a || (a[c] = f[c], b[c] = e)
					} else b[d] = e
			}

			function L(a, c, d) {
				var e, f, g, h, i, j, k = this,
					l = {},
					m = a.style,
					n = a.nodeType && t(a),
					o = qa.get(a, "fxshow");
				d.queue || (i = fa._queueHooks(a, "fx"), null == i.unqueued && (i.unqueued = 0, j = i.empty.fire, i.empty.fire = function() {
					i.unqueued || j()
				}), i.unqueued++, k.always(function() {
					k.always(function() {
						i.unqueued--, fa.queue(a, "fx").length || i.empty.fire()
					})
				})), 1 === a.nodeType && ("height" in c || "width" in c) && (d.overflow = [m.overflow, m.overflowX, m.overflowY], "inline" === fa.css(a, "display") && "none" === fa.css(a, "float") && (m.display = "inline-block")), d.overflow && (m.overflow = "hidden", k.always(function() {
					m.overflow = d.overflow[0], m.overflowX = d.overflow[1], m.overflowY = d.overflow[2]
				}));
				for (e in c)
					if (f = c[e], Db.exec(f)) {
						if (delete c[e], g = g || "toggle" === f, f === (n ? "hide" : "show")) {
							if ("show" !== f || !o || o[e] === b) continue;
							n = !0
						}
						l[e] = o && o[e] || fa.style(a, e)
					}
				if (!fa.isEmptyObject(l)) {
					o ? "hidden" in o && (n = o.hidden) : o = qa.access(a, "fxshow", {}), g && (o.hidden = !n), n ? fa(a).show() : k.done(function() {
						fa(a).hide()
					}), k.done(function() {
						var b;
						qa.remove(a, "fxshow");
						for (b in l) fa.style(a, b, l[b])
					});
					for (e in l) h = I(n ? o[e] : 0, e, k), e in o || (o[e] = h.start, n && (h.end = h.start, h.start = "width" === e || "height" === e ? 1 : 0))
				}
			}

			function M(a, b, c, d, e) {
				return new M.prototype.init(a, b, c, d, e)
			}

			function N(a, b) {
				var c, d = {
						height: a
					},
					e = 0;
				for (b = b ? 1 : 0; 4 > e; e += 2 - b) c = $a[e], d["margin" + c] = d["padding" + c] = a;
				return b && (d.opacity = d.width = a), d
			}

			function O(a) {
				return fa.isWindow(a) ? a : 9 === a.nodeType && a.defaultView
			}
			var P, Q, R = typeof b,
				S = a.location,
				T = a.document,
				U = T.documentElement,
				V = a.jQuery,
				W = a.$,
				X = {},
				Y = [],
				Z = "2.0.3",
				$ = Y.concat,
				_ = Y.push,
				aa = Y.slice,
				ba = Y.indexOf,
				ca = X.toString,
				da = X.hasOwnProperty,
				ea = Z.trim,
				fa = function(a, b) {
					return new fa.fn.init(a, b, P)
				},
				ga = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
				ha = /\S+/g,
				ia = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,
				ja = /^<(\w+)\s*\/?>(?:<\/\1>|)$/,
				ka = /^-ms-/,
				la = /-([\da-z])/gi,
				ma = function(a, b) {
					return b.toUpperCase()
				},
				na = function() {
					T.removeEventListener("DOMContentLoaded", na, !1), a.removeEventListener("load", na, !1), fa.ready()
				};
			fa.fn = fa.prototype = {
					jquery: Z,
					constructor: fa,
					init: function(a, c, d) {
						var e, f;
						if (!a) return this;
						if ("string" == typeof a) {
							if (e = "<" === a.charAt(0) && ">" === a.charAt(a.length - 1) && a.length >= 3 ? [null, a, null] : ia.exec(a), !e || !e[1] && c) return !c || c.jquery ? (c || d).find(a) : this.constructor(c).find(a);
							if (e[1]) {
								if (c = c instanceof fa ? c[0] : c, fa.merge(this, fa.parseHTML(e[1], c && c.nodeType ? c.ownerDocument || c : T, !0)), ja.test(e[1]) && fa.isPlainObject(c))
									for (e in c) fa.isFunction(this[e]) ? this[e](c[e]) : this.attr(e, c[e]);
								return this
							}
							return f = T.getElementById(e[2]), f && f.parentNode && (this.length = 1, this[0] = f), this.context = T, this.selector = a, this
						}
						return a.nodeType ? (this.context = this[0] = a, this.length = 1, this) : fa.isFunction(a) ? d.ready(a) : (a.selector !== b && (this.selector = a.selector, this.context = a.context), fa.makeArray(a, this))
					},
					selector: "",
					length: 0,
					toArray: function() {
						return aa.call(this)
					},
					get: function(a) {
						return null == a ? this.toArray() : 0 > a ? this[this.length + a] : this[a]
					},
					pushStack: function(a) {
						var b = fa.merge(this.constructor(), a);
						return b.prevObject = this, b.context = this.context, b
					},
					each: function(a, b) {
						return fa.each(this, a, b)
					},
					ready: function(a) {
						return fa.ready.promise().done(a), this
					},
					slice: function() {
						return this.pushStack(aa.apply(this, arguments))
					},
					first: function() {
						return this.eq(0)
					},
					last: function() {
						return this.eq(-1)
					},
					eq: function(a) {
						var b = this.length,
							c = +a + (0 > a ? b : 0);
						return this.pushStack(c >= 0 && b > c ? [this[c]] : [])
					},
					map: function(a) {
						return this.pushStack(fa.map(this, function(b, c) {
							return a.call(b, c, b)
						}))
					},
					end: function() {
						return this.prevObject || this.constructor(null)
					},
					push: _,
					sort: [].sort,
					splice: [].splice
				}, fa.fn.init.prototype = fa.fn, fa.extend = fa.fn.extend = function() {
					var a, c, d, e, f, g, h = arguments[0] || {},
						i = 1,
						j = arguments.length,
						k = !1;
					for ("boolean" == typeof h && (k = h, h = arguments[1] || {}, i = 2), "object" == typeof h || fa.isFunction(h) || (h = {}), j === i && (h = this, --i); j > i; i++)
						if (null != (a = arguments[i]))
							for (c in a) d = h[c], e = a[c], h !== e && (k && e && (fa.isPlainObject(e) || (f = fa.isArray(e))) ? (f ? (f = !1, g = d && fa.isArray(d) ? d : []) : g = d && fa.isPlainObject(d) ? d : {}, h[c] = fa.extend(k, g, e)) : e !== b && (h[c] = e));
					return h
				}, fa.extend({
					expando: "jQuery" + (Z + Math.random()).replace(/\D/g, ""),
					noConflict: function(b) {
						return a.$ === fa && (a.$ = W), b && a.jQuery === fa && (a.jQuery = V), fa
					},
					isReady: !1,
					readyWait: 1,
					holdReady: function(a) {
						a ? fa.readyWait++ : fa.ready(!0)
					},
					ready: function(a) {
						(a === !0 ? --fa.readyWait : fa.isReady) || (fa.isReady = !0, a !== !0 && --fa.readyWait > 0 || (Q.resolveWith(T, [fa]), fa.fn.trigger && fa(T).trigger("ready").off("ready")))
					},
					isFunction: function(a) {
						return "function" === fa.type(a)
					},
					isArray: Array.isArray,
					isWindow: function(a) {
						return null != a && a === a.window
					},
					isNumeric: function(a) {
						return !isNaN(parseFloat(a)) && isFinite(a)
					},
					type: function(a) {
						return null == a ? String(a) : "object" == typeof a || "function" == typeof a ? X[ca.call(a)] || "object" : typeof a
					},
					isPlainObject: function(a) {
						if ("object" !== fa.type(a) || a.nodeType || fa.isWindow(a)) return !1;
						try {
							if (a.constructor && !da.call(a.constructor.prototype, "isPrototypeOf")) return !1
						} catch (b) {
							return !1
						}
						return !0
					},
					isEmptyObject: function(a) {
						var b;
						for (b in a) return !1;
						return !0
					},
					error: function(a) {
						throw new Error(a)
					},
					parseHTML: function(a, b, c) {
						if (!a || "string" != typeof a) return null;
						"boolean" == typeof b && (c = b, b = !1), b = b || T;
						var d = ja.exec(a),
							e = !c && [];
						return d ? [b.createElement(d[1])] : (d = fa.buildFragment([a], b, e), e && fa(e).remove(), fa.merge([], d.childNodes))
					},
					parseJSON: JSON.parse,
					parseXML: function(a) {
						var c, d;
						if (!a || "string" != typeof a) return null;
						try {
							d = new DOMParser, c = d.parseFromString(a, "text/xml")
						} catch (e) {
							c = b
						}
						return (!c || c.getElementsByTagName("parsererror").length) && fa.error("Invalid XML: " + a), c
					},
					noop: function() {},
					globalEval: function(a) {
						var b, c = eval;
						a = fa.trim(a), a && (1 === a.indexOf("use strict") ? (b = T.createElement("script"), b.text = a, T.head.appendChild(b).parentNode.removeChild(b)) : c(a))
					},
					camelCase: function(a) {
						return a.replace(ka, "ms-").replace(la, ma)
					},
					nodeName: function(a, b) {
						return a.nodeName && a.nodeName.toLowerCase() === b.toLowerCase()
					},
					each: function(a, b, d) {
						var e, f = 0,
							g = a.length,
							h = c(a);
						if (d) {
							if (h)
								for (; g > f && (e = b.apply(a[f], d), e !== !1); f++);
							else
								for (f in a)
									if (e = b.apply(a[f], d), e === !1) break
						} else if (h)
							for (; g > f && (e = b.call(a[f], f, a[f]), e !== !1); f++);
						else
							for (f in a)
								if (e = b.call(a[f], f, a[f]), e === !1) break;
						return a
					},
					trim: function(a) {
						return null == a ? "" : ea.call(a)
					},
					makeArray: function(a, b) {
						var d = b || [];
						return null != a && (c(Object(a)) ? fa.merge(d, "string" == typeof a ? [a] : a) : _.call(d, a)), d
					},
					inArray: function(a, b, c) {
						return null == b ? -1 : ba.call(b, a, c)
					},
					merge: function(a, c) {
						var d = c.length,
							e = a.length,
							f = 0;
						if ("number" == typeof d)
							for (; d > f; f++) a[e++] = c[f];
						else
							for (; c[f] !== b;) a[e++] = c[f++];
						return a.length = e, a
					},
					grep: function(a, b, c) {
						var d, e = [],
							f = 0,
							g = a.length;
						for (c = !!c; g > f; f++) d = !!b(a[f], f), c !== d && e.push(a[f]);
						return e
					},
					map: function(a, b, d) {
						var e, f = 0,
							g = a.length,
							h = c(a),
							i = [];
						if (h)
							for (; g > f; f++) e = b(a[f], f, d), null != e && (i[i.length] = e);
						else
							for (f in a) e = b(a[f], f, d), null != e && (i[i.length] = e);
						return $.apply([], i)
					},
					guid: 1,
					proxy: function(a, c) {
						var d, e, f;
						return "string" == typeof c && (d = a[c], c = a, a = d), fa.isFunction(a) ? (e = aa.call(arguments, 2), f = function() {
							return a.apply(c || this, e.concat(aa.call(arguments)))
						}, f.guid = a.guid = a.guid || fa.guid++, f) : b
					},
					access: function(a, c, d, e, f, g, h) {
						var i = 0,
							j = a.length,
							k = null == d;
						if ("object" === fa.type(d)) {
							f = !0;
							for (i in d) fa.access(a, c, i, d[i], !0, g, h)
						} else if (e !== b && (f = !0, fa.isFunction(e) || (h = !0), k && (h ? (c.call(a, e), c = null) : (k = c, c = function(a, b, c) {
								return k.call(fa(a), c)
							})), c))
							for (; j > i; i++) c(a[i], d, h ? e : e.call(a[i], i, c(a[i], d)));
						return f ? a : k ? c.call(a) : j ? c(a[0], d) : g
					},
					now: Date.now,
					swap: function(a, b, c, d) {
						var e, f, g = {};
						for (f in b) g[f] = a.style[f], a.style[f] = b[f];
						e = c.apply(a, d || []);
						for (f in b) a.style[f] = g[f];
						return e
					}
				}), fa.ready.promise = function(b) {
					return Q || (Q = fa.Deferred(), "complete" === T.readyState ? setTimeout(fa.ready) : (T.addEventListener("DOMContentLoaded", na, !1), a.addEventListener("load", na, !1))), Q.promise(b)
				}, fa.each("Boolean Number String Function Array Date RegExp Object Error".split(" "), function(a, b) {
					X["[object " + b + "]"] = b.toLowerCase()
				}), P = fa(T),
				function(a, b) {
					function c(a, b, c, d) {
						var e, f, g, h, i, j, k, l, o, p;
						if ((b ? b.ownerDocument || b : O) !== G && F(b), b = b || G, c = c || [], !a || "string" != typeof a) return c;
						if (1 !== (h = b.nodeType) && 9 !== h) return [];
						if (I && !d) {
							if (e = ta.exec(a))
								if (g = e[1]) {
									if (9 === h) {
										if (f = b.getElementById(g), !f || !f.parentNode) return c;
										if (f.id === g) return c.push(f), c
									} else if (b.ownerDocument && (f = b.ownerDocument.getElementById(g)) && M(b, f) && f.id === g) return c.push(f), c
								} else {
									if (e[2]) return aa.apply(c, b.getElementsByTagName(a)), c;
									if ((g = e[3]) && x.getElementsByClassName && b.getElementsByClassName) return aa.apply(c, b.getElementsByClassName(g)), c
								}
							if (x.qsa && (!J || !J.test(a))) {
								if (l = k = N, o = b, p = 9 === h && a, 1 === h && "object" !== b.nodeName.toLowerCase()) {
									for (j = m(a), (k = b.getAttribute("id")) ? l = k.replace(wa, "\\$&") : b.setAttribute("id", l), l = "[id='" + l + "'] ", i = j.length; i--;) j[i] = l + n(j[i]);
									o = na.test(a) && b.parentNode || b, p = j.join(",")
								}
								if (p) try {
									return aa.apply(c, o.querySelectorAll(p)), c
								} catch (q) {} finally {
									k || b.removeAttribute("id")
								}
							}
						}
						return v(a.replace(ka, "$1"), b, c, d)
					}

					function d() {
						function a(c, d) {
							return b.push(c += " ") > z.cacheLength && delete a[b.shift()], a[c] = d
						}
						var b = [];
						return a
					}

					function e(a) {
						return a[N] = !0, a
					}

					function f(a) {
						var b = G.createElement("div");
						try {
							return !!a(b)
						} catch (c) {
							return !1
						} finally {
							b.parentNode && b.parentNode.removeChild(b), b = null
						}
					}

					function g(a, b) {
						for (var c = a.split("|"), d = a.length; d--;) z.attrHandle[c[d]] = b
					}

					function h(a, b) {
						var c = b && a,
							d = c && 1 === a.nodeType && 1 === b.nodeType && (~b.sourceIndex || X) - (~a.sourceIndex || X);
						if (d) return d;
						if (c)
							for (; c = c.nextSibling;)
								if (c === b) return -1;
						return a ? 1 : -1
					}

					function i(a) {
						return function(b) {
							var c = b.nodeName.toLowerCase();
							return "input" === c && b.type === a
						}
					}

					function j(a) {
						return function(b) {
							var c = b.nodeName.toLowerCase();
							return ("input" === c || "button" === c) && b.type === a
						}
					}

					function k(a) {
						return e(function(b) {
							return b = +b, e(function(c, d) {
								for (var e, f = a([], c.length, b), g = f.length; g--;) c[e = f[g]] && (c[e] = !(d[e] = c[e]))
							})
						})
					}

					function l() {}

					function m(a, b) {
						var d, e, f, g, h, i, j, k = S[a + " "];
						if (k) return b ? 0 : k.slice(0);
						for (h = a, i = [], j = z.preFilter; h;) {
							(!d || (e = la.exec(h))) && (e && (h = h.slice(e[0].length) || h), i.push(f = [])), d = !1, (e = ma.exec(h)) && (d = e.shift(), f.push({
								value: d,
								type: e[0].replace(ka, " ")
							}), h = h.slice(d.length));
							for (g in z.filter) !(e = ra[g].exec(h)) || j[g] && !(e = j[g](e)) || (d = e.shift(), f.push({
								value: d,
								type: g,
								matches: e
							}), h = h.slice(d.length));
							if (!d) break
						}
						return b ? h.length : h ? c.error(a) : S(a, i).slice(0)
					}

					function n(a) {
						for (var b = 0, c = a.length, d = ""; c > b; b++) d += a[b].value;
						return d
					}

					function o(a, b, c) {
						var d = b.dir,
							e = c && "parentNode" === d,
							f = Q++;
						return b.first ? function(b, c, f) {
							for (; b = b[d];)
								if (1 === b.nodeType || e) return a(b, c, f)
						} : function(b, c, g) {
							var h, i, j, k = P + " " + f;
							if (g) {
								for (; b = b[d];)
									if ((1 === b.nodeType || e) && a(b, c, g)) return !0
							} else
								for (; b = b[d];)
									if (1 === b.nodeType || e)
										if (j = b[N] || (b[N] = {}), (i = j[d]) && i[0] === k) {
											if ((h = i[1]) === !0 || h === y) return h === !0
										} else if (i = j[d] = [k], i[1] = a(b, c, g) || y, i[1] === !0) return !0
						}
					}

					function p(a) {
						return a.length > 1 ? function(b, c, d) {
							for (var e = a.length; e--;)
								if (!a[e](b, c, d)) return !1;
							return !0
						} : a[0]
					}

					function q(a, b, c, d, e) {
						for (var f, g = [], h = 0, i = a.length, j = null != b; i > h; h++)(f = a[h]) && (!c || c(f, d, e)) && (g.push(f), j && b.push(h));
						return g
					}

					function r(a, b, c, d, f, g) {
						return d && !d[N] && (d = r(d)), f && !f[N] && (f = r(f, g)), e(function(e, g, h, i) {
							var j, k, l, m = [],
								n = [],
								o = g.length,
								p = e || u(b || "*", h.nodeType ? [h] : h, []),
								r = !a || !e && b ? p : q(p, m, a, h, i),
								s = c ? f || (e ? a : o || d) ? [] : g : r;
							if (c && c(r, s, h, i), d)
								for (j = q(s, n), d(j, [], h, i), k = j.length; k--;)(l = j[k]) && (s[n[k]] = !(r[n[k]] = l));
							if (e) {
								if (f || a) {
									if (f) {
										for (j = [], k = s.length; k--;)(l = s[k]) && j.push(r[k] = l);
										f(null, s = [], j, i)
									}
									for (k = s.length; k--;)(l = s[k]) && (j = f ? ca.call(e, l) : m[k]) > -1 && (e[j] = !(g[j] = l))
								}
							} else s = q(s === g ? s.splice(o, s.length) : s), f ? f(null, g, s, i) : aa.apply(g, s)
						})
					}

					function s(a) {
						for (var b, c, d, e = a.length, f = z.relative[a[0].type], g = f || z.relative[" "], h = f ? 1 : 0, i = o(function(a) {
								return a === b
							}, g, !0), j = o(function(a) {
								return ca.call(b, a) > -1
							}, g, !0), k = [function(a, c, d) {
								return !f && (d || c !== D) || ((b = c).nodeType ? i(a, c, d) : j(a, c, d))
							}]; e > h; h++)
							if (c = z.relative[a[h].type]) k = [o(p(k), c)];
							else {
								if (c = z.filter[a[h].type].apply(null, a[h].matches), c[N]) {
									for (d = ++h; e > d && !z.relative[a[d].type]; d++);
									return r(h > 1 && p(k), h > 1 && n(a.slice(0, h - 1).concat({
										value: " " === a[h - 2].type ? "*" : ""
									})).replace(ka, "$1"), c, d > h && s(a.slice(h, d)), e > d && s(a = a.slice(d)), e > d && n(a))
								}
								k.push(c)
							}
						return p(k)
					}

					function t(a, b) {
						var d = 0,
							f = b.length > 0,
							g = a.length > 0,
							h = function(e, h, i, j, k) {
								var l, m, n, o = [],
									p = 0,
									r = "0",
									s = e && [],
									t = null != k,
									u = D,
									v = e || g && z.find.TAG("*", k && h.parentNode || h),
									w = P += null == u ? 1 : Math.random() || .1;
								for (t && (D = h !== G && h, y = d); null != (l = v[r]); r++) {
									if (g && l) {
										for (m = 0; n = a[m++];)
											if (n(l, h, i)) {
												j.push(l);
												break
											}
										t && (P = w, y = ++d)
									}
									f && ((l = !n && l) && p--, e && s.push(l))
								}
								if (p += r, f && r !== p) {
									for (m = 0; n = b[m++];) n(s, o, h, i);
									if (e) {
										if (p > 0)
											for (; r--;) s[r] || o[r] || (o[r] = $.call(j));
										o = q(o)
									}
									aa.apply(j, o), t && !e && o.length > 0 && p + b.length > 1 && c.uniqueSort(j)
								}
								return t && (P = w, D = u), s
							};
						return f ? e(h) : h
					}

					function u(a, b, d) {
						for (var e = 0, f = b.length; f > e; e++) c(a, b[e], d);
						return d
					}

					function v(a, b, c, d) {
						var e, f, g, h, i, j = m(a);
						if (!d && 1 === j.length) {
							if (f = j[0] = j[0].slice(0), f.length > 2 && "ID" === (g = f[0]).type && x.getById && 9 === b.nodeType && I && z.relative[f[1].type]) {
								if (b = (z.find.ID(g.matches[0].replace(xa, ya), b) || [])[0], !b) return c;
								a = a.slice(f.shift().value.length)
							}
							for (e = ra.needsContext.test(a) ? 0 : f.length; e-- && (g = f[e], !z.relative[h = g.type]);)
								if ((i = z.find[h]) && (d = i(g.matches[0].replace(xa, ya), na.test(f[0].type) && b.parentNode || b))) {
									if (f.splice(e, 1), a = d.length && n(f), !a) return aa.apply(c, d), c;
									break
								}
						}
						return C(a, j)(d, b, !I, c, na.test(a)), c
					}
					var w, x, y, z, A, B, C, D, E, F, G, H, I, J, K, L, M, N = "sizzle" + -new Date,
						O = a.document,
						P = 0,
						Q = 0,
						R = d(),
						S = d(),
						T = d(),
						U = !1,
						V = function(a, b) {
							return a === b ? (U = !0, 0) : 0
						},
						W = typeof b,
						X = 1 << 31,
						Y = {}.hasOwnProperty,
						Z = [],
						$ = Z.pop,
						_ = Z.push,
						aa = Z.push,
						ba = Z.slice,
						ca = Z.indexOf || function(a) {
							for (var b = 0, c = this.length; c > b; b++)
								if (this[b] === a) return b;
							return -1
						},
						da = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
						ea = "[\\x20\\t\\r\\n\\f]",
						ga = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
						ha = ga.replace("w", "w#"),
						ia = "\\[" + ea + "*(" + ga + ")" + ea + "*(?:([*^$|!~]?=)" + ea + "*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|(" + ha + ")|)|)" + ea + "*\\]",
						ja = ":(" + ga + ")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|" + ia.replace(3, 8) + ")*)|.*)\\)|)",
						ka = new RegExp("^" + ea + "+|((?:^|[^\\\\])(?:\\\\.)*)" + ea + "+$", "g"),
						la = new RegExp("^" + ea + "*," + ea + "*"),
						ma = new RegExp("^" + ea + "*([>+~]|" + ea + ")" + ea + "*"),
						na = new RegExp(ea + "*[+~]"),
						oa = new RegExp("=" + ea + "*([^\\]'\"]*)" + ea + "*\\]", "g"),
						pa = new RegExp(ja),
						qa = new RegExp("^" + ha + "$"),
						ra = {
							ID: new RegExp("^#(" + ga + ")"),
							CLASS: new RegExp("^\\.(" + ga + ")"),
							TAG: new RegExp("^(" + ga.replace("w", "w*") + ")"),
							ATTR: new RegExp("^" + ia),
							PSEUDO: new RegExp("^" + ja),
							CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + ea + "*(even|odd|(([+-]|)(\\d*)n|)" + ea + "*(?:([+-]|)" + ea + "*(\\d+)|))" + ea + "*\\)|)", "i"),
							bool: new RegExp("^(?:" + da + ")$", "i"),
							needsContext: new RegExp("^" + ea + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + ea + "*((?:-\\d)?\\d*)" + ea + "*\\)|)(?=[^-]|$)", "i")
						},
						sa = /^[^{]+\{\s*\[native \w/,
						ta = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
						ua = /^(?:input|select|textarea|button)$/i,
						va = /^h\d$/i,
						wa = /'|\\/g,
						xa = new RegExp("\\\\([\\da-f]{1,6}" + ea + "?|(" + ea + ")|.)", "ig"),
						ya = function(a, b, c) {
							var d = "0x" + b - 65536;
							return d !== d || c ? b : 0 > d ? String.fromCharCode(d + 65536) : String.fromCharCode(d >> 10 | 55296, 1023 & d | 56320)
						};
					try {
						aa.apply(Z = ba.call(O.childNodes), O.childNodes), Z[O.childNodes.length].nodeType
					} catch (za) {
						aa = {
							apply: Z.length ? function(a, b) {
								_.apply(a, ba.call(b))
							} : function(a, b) {
								for (var c = a.length, d = 0; a[c++] = b[d++];);
								a.length = c - 1
							}
						}
					}
					B = c.isXML = function(a) {
						var b = a && (a.ownerDocument || a).documentElement;
						return b ? "HTML" !== b.nodeName : !1
					}, x = c.support = {}, F = c.setDocument = function(a) {
						var b = a ? a.ownerDocument || a : O,
							c = b.defaultView;
						return b !== G && 9 === b.nodeType && b.documentElement ? (G = b, H = b.documentElement, I = !B(b), c && c.attachEvent && c !== c.top && c.attachEvent("onbeforeunload", function() {
							F()
						}), x.attributes = f(function(a) {
							return a.className = "i", !a.getAttribute("className")
						}), x.getElementsByTagName = f(function(a) {
							return a.appendChild(b.createComment("")), !a.getElementsByTagName("*").length
						}), x.getElementsByClassName = f(function(a) {
							return a.innerHTML = "<div class='a'></div><div class='a i'></div>", a.firstChild.className = "i", 2 === a.getElementsByClassName("i").length
						}), x.getById = f(function(a) {
							return H.appendChild(a).id = N, !b.getElementsByName || !b.getElementsByName(N).length
						}), x.getById ? (z.find.ID = function(a, b) {
							if (typeof b.getElementById !== W && I) {
								var c = b.getElementById(a);
								return c && c.parentNode ? [c] : []
							}
						}, z.filter.ID = function(a) {
							var b = a.replace(xa, ya);
							return function(a) {
								return a.getAttribute("id") === b
							}
						}) : (delete z.find.ID, z.filter.ID = function(a) {
							var b = a.replace(xa, ya);
							return function(a) {
								var c = typeof a.getAttributeNode !== W && a.getAttributeNode("id");
								return c && c.value === b
							}
						}), z.find.TAG = x.getElementsByTagName ? function(a, b) {
							return typeof b.getElementsByTagName !== W ? b.getElementsByTagName(a) : void 0
						} : function(a, b) {
							var c, d = [],
								e = 0,
								f = b.getElementsByTagName(a);
							if ("*" === a) {
								for (; c = f[e++];) 1 === c.nodeType && d.push(c);
								return d
							}
							return f
						}, z.find.CLASS = x.getElementsByClassName && function(a, b) {
							return typeof b.getElementsByClassName !== W && I ? b.getElementsByClassName(a) : void 0
						}, K = [], J = [], (x.qsa = sa.test(b.querySelectorAll)) && (f(function(a) {
							a.innerHTML = "<select><option selected=''></option></select>", a.querySelectorAll("[selected]").length || J.push("\\[" + ea + "*(?:value|" + da + ")"), a.querySelectorAll(":checked").length || J.push(":checked")
						}), f(function(a) {
							var c = b.createElement("input");
							c.setAttribute("type", "hidden"), a.appendChild(c).setAttribute("t", ""), a.querySelectorAll("[t^='']").length && J.push("[*^$]=" + ea + "*(?:''|\"\")"), a.querySelectorAll(":enabled").length || J.push(":enabled", ":disabled"), a.querySelectorAll("*,:x"), J.push(",.*:")
						})), (x.matchesSelector = sa.test(L = H.webkitMatchesSelector || H.mozMatchesSelector || H.oMatchesSelector || H.msMatchesSelector)) && f(function(a) {
							x.disconnectedMatch = L.call(a, "div"), L.call(a, "[s!='']:x"), K.push("!=", ja)
						}), J = J.length && new RegExp(J.join("|")), K = K.length && new RegExp(K.join("|")), M = sa.test(H.contains) || H.compareDocumentPosition ? function(a, b) {
							var c = 9 === a.nodeType ? a.documentElement : a,
								d = b && b.parentNode;
							return a === d || !(!d || 1 !== d.nodeType || !(c.contains ? c.contains(d) : a.compareDocumentPosition && 16 & a.compareDocumentPosition(d)))
						} : function(a, b) {
							if (b)
								for (; b = b.parentNode;)
									if (b === a) return !0;
							return !1
						}, V = H.compareDocumentPosition ? function(a, c) {
							if (a === c) return U = !0, 0;
							var d = c.compareDocumentPosition && a.compareDocumentPosition && a.compareDocumentPosition(c);
							return d ? 1 & d || !x.sortDetached && c.compareDocumentPosition(a) === d ? a === b || M(O, a) ? -1 : c === b || M(O, c) ? 1 : E ? ca.call(E, a) - ca.call(E, c) : 0 : 4 & d ? -1 : 1 : a.compareDocumentPosition ? -1 : 1
						} : function(a, c) {
							var d, e = 0,
								f = a.parentNode,
								g = c.parentNode,
								i = [a],
								j = [c];
							if (a === c) return U = !0, 0;
							if (!f || !g) return a === b ? -1 : c === b ? 1 : f ? -1 : g ? 1 : E ? ca.call(E, a) - ca.call(E, c) : 0;
							if (f === g) return h(a, c);
							for (d = a; d = d.parentNode;) i.unshift(d);
							for (d = c; d = d.parentNode;) j.unshift(d);
							for (; i[e] === j[e];) e++;
							return e ? h(i[e], j[e]) : i[e] === O ? -1 : j[e] === O ? 1 : 0
						}, b) : G
					}, c.matches = function(a, b) {
						return c(a, null, null, b)
					}, c.matchesSelector = function(a, b) {
						if ((a.ownerDocument || a) !== G && F(a), b = b.replace(oa, "='$1']"), !(!x.matchesSelector || !I || K && K.test(b) || J && J.test(b))) try {
							var d = L.call(a, b);
							if (d || x.disconnectedMatch || a.document && 11 !== a.document.nodeType) return d
						} catch (e) {}
						return c(b, G, null, [a]).length > 0
					}, c.contains = function(a, b) {
						return (a.ownerDocument || a) !== G && F(a), M(a, b)
					}, c.attr = function(a, c) {
						(a.ownerDocument || a) !== G && F(a);
						var d = z.attrHandle[c.toLowerCase()],
							e = d && Y.call(z.attrHandle, c.toLowerCase()) ? d(a, c, !I) : b;
						return e === b ? x.attributes || !I ? a.getAttribute(c) : (e = a.getAttributeNode(c)) && e.specified ? e.value : null : e
					}, c.error = function(a) {
						throw new Error("Syntax error, unrecognized expression: " + a)
					}, c.uniqueSort = function(a) {
						var b, c = [],
							d = 0,
							e = 0;
						if (U = !x.detectDuplicates, E = !x.sortStable && a.slice(0), a.sort(V), U) {
							for (; b = a[e++];) b === a[e] && (d = c.push(e));
							for (; d--;) a.splice(c[d], 1)
						}
						return a
					}, A = c.getText = function(a) {
						var b, c = "",
							d = 0,
							e = a.nodeType;
						if (e) {
							if (1 === e || 9 === e || 11 === e) {
								if ("string" == typeof a.textContent) return a.textContent;
								for (a = a.firstChild; a; a = a.nextSibling) c += A(a)
							} else if (3 === e || 4 === e) return a.nodeValue
						} else
							for (; b = a[d]; d++) c += A(b);
						return c
					}, z = c.selectors = {
						cacheLength: 50,
						createPseudo: e,
						match: ra,
						attrHandle: {},
						find: {},
						relative: {
							">": {
								dir: "parentNode",
								first: !0
							},
							" ": {
								dir: "parentNode"
							},
							"+": {
								dir: "previousSibling",
								first: !0
							},
							"~": {
								dir: "previousSibling"
							}
						},
						preFilter: {
							ATTR: function(a) {
								return a[1] = a[1].replace(xa, ya), a[3] = (a[4] || a[5] || "").replace(xa, ya), "~=" === a[2] && (a[3] = " " + a[3] + " "), a.slice(0, 4)
							},
							CHILD: function(a) {
								return a[1] = a[1].toLowerCase(), "nth" === a[1].slice(0, 3) ? (a[3] || c.error(a[0]), a[4] = +(a[4] ? a[5] + (a[6] || 1) : 2 * ("even" === a[3] || "odd" === a[3])), a[5] = +(a[7] + a[8] || "odd" === a[3])) : a[3] && c.error(a[0]), a
							},
							PSEUDO: function(a) {
								var c, d = !a[5] && a[2];
								return ra.CHILD.test(a[0]) ? null : (a[3] && a[4] !== b ? a[2] = a[4] : d && pa.test(d) && (c = m(d, !0)) && (c = d.indexOf(")", d.length - c) - d.length) && (a[0] = a[0].slice(0, c), a[2] = d.slice(0, c)), a.slice(0, 3))
							}
						},
						filter: {
							TAG: function(a) {
								var b = a.replace(xa, ya).toLowerCase();
								return "*" === a ? function() {
									return !0
								} : function(a) {
									return a.nodeName && a.nodeName.toLowerCase() === b
								}
							},
							CLASS: function(a) {
								var b = R[a + " "];
								return b || (b = new RegExp("(^|" + ea + ")" + a + "(" + ea + "|$)")) && R(a, function(a) {
									return b.test("string" == typeof a.className && a.className || typeof a.getAttribute !== W && a.getAttribute("class") || "")
								})
							},
							ATTR: function(a, b, d) {
								return function(e) {
									var f = c.attr(e, a);
									return null == f ? "!=" === b : b ? (f += "", "=" === b ? f === d : "!=" === b ? f !== d : "^=" === b ? d && 0 === f.indexOf(d) : "*=" === b ? d && f.indexOf(d) > -1 : "$=" === b ? d && f.slice(-d.length) === d : "~=" === b ? (" " + f + " ").indexOf(d) > -1 : "|=" === b ? f === d || f.slice(0, d.length + 1) === d + "-" : !1) : !0
								}
							},
							CHILD: function(a, b, c, d, e) {
								var f = "nth" !== a.slice(0, 3),
									g = "last" !== a.slice(-4),
									h = "of-type" === b;
								return 1 === d && 0 === e ? function(a) {
									return !!a.parentNode
								} : function(b, c, i) {
									var j, k, l, m, n, o, p = f !== g ? "nextSibling" : "previousSibling",
										q = b.parentNode,
										r = h && b.nodeName.toLowerCase(),
										s = !i && !h;
									if (q) {
										if (f) {
											for (; p;) {
												for (l = b; l = l[p];)
													if (h ? l.nodeName.toLowerCase() === r : 1 === l.nodeType) return !1;
												o = p = "only" === a && !o && "nextSibling"
											}
											return !0
										}
										if (o = [g ? q.firstChild : q.lastChild], g && s) {
											for (k = q[N] || (q[N] = {}), j = k[a] || [], n = j[0] === P && j[1], m = j[0] === P && j[2], l = n && q.childNodes[n]; l = ++n && l && l[p] || (m = n = 0) || o.pop();)
												if (1 === l.nodeType && ++m && l === b) {
													k[a] = [P, n, m];
													break
												}
										} else if (s && (j = (b[N] || (b[N] = {}))[a]) && j[0] === P) m = j[1];
										else
											for (;
												(l = ++n && l && l[p] || (m = n = 0) || o.pop()) && ((h ? l.nodeName.toLowerCase() !== r : 1 !== l.nodeType) || !++m || (s && ((l[N] || (l[N] = {}))[a] = [P, m]), l !== b)););
										return m -= e, m === d || m % d === 0 && m / d >= 0
									}
								}
							},
							PSEUDO: function(a, b) {
								var d, f = z.pseudos[a] || z.setFilters[a.toLowerCase()] || c.error("unsupported pseudo: " + a);
								return f[N] ? f(b) : f.length > 1 ? (d = [a, a, "", b], z.setFilters.hasOwnProperty(a.toLowerCase()) ? e(function(a, c) {
									for (var d, e = f(a, b), g = e.length; g--;) d = ca.call(a, e[g]), a[d] = !(c[d] = e[g])
								}) : function(a) {
									return f(a, 0, d)
								}) : f
							}
						},
						pseudos: {
							not: e(function(a) {
								var b = [],
									c = [],
									d = C(a.replace(ka, "$1"));
								return d[N] ? e(function(a, b, c, e) {
									for (var f, g = d(a, null, e, []), h = a.length; h--;)(f = g[h]) && (a[h] = !(b[h] = f))
								}) : function(a, e, f) {
									return b[0] = a, d(b, null, f, c), !c.pop()
								}
							}),
							has: e(function(a) {
								return function(b) {
									return c(a, b).length > 0
								}
							}),
							contains: e(function(a) {
								return function(b) {
									return (b.textContent || b.innerText || A(b)).indexOf(a) > -1
								}
							}),
							lang: e(function(a) {
								return qa.test(a || "") || c.error("unsupported lang: " + a), a = a.replace(xa, ya).toLowerCase(),
									function(b) {
										var c;
										do
											if (c = I ? b.lang : b.getAttribute("xml:lang") || b.getAttribute("lang")) return c = c.toLowerCase(), c === a || 0 === c.indexOf(a + "-");
										while ((b = b.parentNode) && 1 === b.nodeType);
										return !1
									}
							}),
							target: function(b) {
								var c = a.location && a.location.hash;
								return c && c.slice(1) === b.id
							},
							root: function(a) {
								return a === H
							},
							focus: function(a) {
								return a === G.activeElement && (!G.hasFocus || G.hasFocus()) && !!(a.type || a.href || ~a.tabIndex)
							},
							enabled: function(a) {
								return a.disabled === !1
							},
							disabled: function(a) {
								return a.disabled === !0
							},
							checked: function(a) {
								var b = a.nodeName.toLowerCase();
								return "input" === b && !!a.checked || "option" === b && !!a.selected
							},
							selected: function(a) {
								return a.parentNode && a.parentNode.selectedIndex, a.selected === !0
							},
							empty: function(a) {
								for (a = a.firstChild; a; a = a.nextSibling)
									if (a.nodeName > "@" || 3 === a.nodeType || 4 === a.nodeType) return !1;
								return !0
							},
							parent: function(a) {
								return !z.pseudos.empty(a)
							},
							header: function(a) {
								return va.test(a.nodeName)
							},
							input: function(a) {
								return ua.test(a.nodeName)
							},
							button: function(a) {
								var b = a.nodeName.toLowerCase();
								return "input" === b && "button" === a.type || "button" === b
							},
							text: function(a) {
								var b;
								return "input" === a.nodeName.toLowerCase() && "text" === a.type && (null == (b = a.getAttribute("type")) || b.toLowerCase() === a.type)
							},
							first: k(function() {
								return [0]
							}),
							last: k(function(a, b) {
								return [b - 1]
							}),
							eq: k(function(a, b, c) {
								return [0 > c ? c + b : c]
							}),
							even: k(function(a, b) {
								for (var c = 0; b > c; c += 2) a.push(c);
								return a
							}),
							odd: k(function(a, b) {
								for (var c = 1; b > c; c += 2) a.push(c);
								return a
							}),
							lt: k(function(a, b, c) {
								for (var d = 0 > c ? c + b : c; --d >= 0;) a.push(d);
								return a
							}),
							gt: k(function(a, b, c) {
								for (var d = 0 > c ? c + b : c; ++d < b;) a.push(d);
								return a
							})
						}
					}, z.pseudos.nth = z.pseudos.eq;
					for (w in {
							radio: !0,
							checkbox: !0,
							file: !0,
							password: !0,
							image: !0
						}) z.pseudos[w] = i(w);
					for (w in {
							submit: !0,
							reset: !0
						}) z.pseudos[w] = j(w);
					l.prototype = z.filters = z.pseudos, z.setFilters = new l, C = c.compile = function(a, b) {
						var c, d = [],
							e = [],
							f = T[a + " "];
						if (!f) {
							for (b || (b = m(a)), c = b.length; c--;) f = s(b[c]), f[N] ? d.push(f) : e.push(f);
							f = T(a, t(e, d))
						}
						return f
					}, x.sortStable = N.split("").sort(V).join("") === N, x.detectDuplicates = U, F(), x.sortDetached = f(function(a) {
						return 1 & a.compareDocumentPosition(G.createElement("div"))
					}), f(function(a) {
						return a.innerHTML = "<a href='#'></a>", "#" === a.firstChild.getAttribute("href")
					}) || g("type|href|height|width", function(a, b, c) {
						return c ? void 0 : a.getAttribute(b, "type" === b.toLowerCase() ? 1 : 2)
					}), x.attributes && f(function(a) {
						return a.innerHTML = "<input/>", a.firstChild.setAttribute("value", ""), "" === a.firstChild.getAttribute("value")
					}) || g("value", function(a, b, c) {
						return c || "input" !== a.nodeName.toLowerCase() ? void 0 : a.defaultValue
					}), f(function(a) {
						return null == a.getAttribute("disabled")
					}) || g(da, function(a, b, c) {
						var d;
						return c ? void 0 : (d = a.getAttributeNode(b)) && d.specified ? d.value : a[b] === !0 ? b.toLowerCase() : null
					}), fa.find = c, fa.expr = c.selectors, fa.expr[":"] = fa.expr.pseudos, fa.unique = c.uniqueSort, fa.text = c.getText, fa.isXMLDoc = c.isXML, fa.contains = c.contains
				}(a);
			var oa = {};
			fa.Callbacks = function(a) {
				a = "string" == typeof a ? oa[a] || d(a) : fa.extend({}, a);
				var c, e, f, g, h, i, j = [],
					k = !a.once && [],
					l = function(b) {
						for (c = a.memory && b, e = !0, i = g || 0, g = 0, h = j.length, f = !0; j && h > i; i++)
							if (j[i].apply(b[0], b[1]) === !1 && a.stopOnFalse) {
								c = !1;
								break
							}
						f = !1, j && (k ? k.length && l(k.shift()) : c ? j = [] : m.disable())
					},
					m = {
						add: function() {
							if (j) {
								var b = j.length;
								! function d(b) {
									fa.each(b, function(b, c) {
										var e = fa.type(c);
										"function" === e ? a.unique && m.has(c) || j.push(c) : c && c.length && "string" !== e && d(c)
									})
								}(arguments), f ? h = j.length : c && (g = b, l(c))
							}
							return this
						},
						remove: function() {
							return j && fa.each(arguments, function(a, b) {
								for (var c;
									(c = fa.inArray(b, j, c)) > -1;) j.splice(c, 1), f && (h >= c && h--, i >= c && i--)
							}), this
						},
						has: function(a) {
							return a ? fa.inArray(a, j) > -1 : !(!j || !j.length)
						},
						empty: function() {
							return j = [], h = 0, this
						},
						disable: function() {
							return j = k = c = b, this
						},
						disabled: function() {
							return !j
						},
						lock: function() {
							return k = b, c || m.disable(), this
						},
						locked: function() {
							return !k
						},
						fireWith: function(a, b) {
							return !j || e && !k || (b = b || [], b = [a, b.slice ? b.slice() : b], f ? k.push(b) : l(b)), this
						},
						fire: function() {
							return m.fireWith(this, arguments), this
						},
						fired: function() {
							return !!e
						}
					};
				return m
			}, fa.extend({
				Deferred: function(a) {
					var b = [
							["resolve", "done", fa.Callbacks("once memory"), "resolved"],
							["reject", "fail", fa.Callbacks("once memory"), "rejected"],
							["notify", "progress", fa.Callbacks("memory")]
						],
						c = "pending",
						d = {
							state: function() {
								return c
							},
							always: function() {
								return e.done(arguments).fail(arguments), this
							},
							then: function() {
								var a = arguments;
								return fa.Deferred(function(c) {
									fa.each(b, function(b, f) {
										var g = f[0],
											h = fa.isFunction(a[b]) && a[b];
										e[f[1]](function() {
											var a = h && h.apply(this, arguments);
											a && fa.isFunction(a.promise) ? a.promise().done(c.resolve).fail(c.reject).progress(c.notify) : c[g + "With"](this === d ? c.promise() : this, h ? [a] : arguments)
										})
									}), a = null
								}).promise()
							},
							promise: function(a) {
								return null != a ? fa.extend(a, d) : d
							}
						},
						e = {};
					return d.pipe = d.then, fa.each(b, function(a, f) {
						var g = f[2],
							h = f[3];
						d[f[1]] = g.add, h && g.add(function() {
							c = h
						}, b[1 ^ a][2].disable, b[2][2].lock), e[f[0]] = function() {
							return e[f[0] + "With"](this === e ? d : this, arguments), this
						}, e[f[0] + "With"] = g.fireWith
					}), d.promise(e), a && a.call(e, e), e
				},
				when: function(a) {
					var b, c, d, e = 0,
						f = aa.call(arguments),
						g = f.length,
						h = 1 !== g || a && fa.isFunction(a.promise) ? g : 0,
						i = 1 === h ? a : fa.Deferred(),
						j = function(a, c, d) {
							return function(e) {
								c[a] = this, d[a] = arguments.length > 1 ? aa.call(arguments) : e, d === b ? i.notifyWith(c, d) : --h || i.resolveWith(c, d)
							}
						};
					if (g > 1)
						for (b = new Array(g), c = new Array(g), d = new Array(g); g > e; e++) f[e] && fa.isFunction(f[e].promise) ? f[e].promise().done(j(e, d, f)).fail(i.reject).progress(j(e, c, b)) : --h;
					return h || i.resolveWith(d, f), i.promise()
				}
			}), fa.support = function(b) {
				var c = T.createElement("input"),
					d = T.createDocumentFragment(),
					e = T.createElement("div"),
					f = T.createElement("select"),
					g = f.appendChild(T.createElement("option"));
				return c.type ? (c.type = "checkbox", b.checkOn = "" !== c.value, b.optSelected = g.selected, b.reliableMarginRight = !0, b.boxSizingReliable = !0, b.pixelPosition = !1, c.checked = !0, b.noCloneChecked = c.cloneNode(!0).checked, f.disabled = !0, b.optDisabled = !g.disabled, c = T.createElement("input"), c.value = "t", c.type = "radio", b.radioValue = "t" === c.value, c.setAttribute("checked", "t"), c.setAttribute("name", "t"), d.appendChild(c), b.checkClone = d.cloneNode(!0).cloneNode(!0).lastChild.checked, b.focusinBubbles = "onfocusin" in a, e.style.backgroundClip = "content-box", e.cloneNode(!0).style.backgroundClip = "", b.clearCloneStyle = "content-box" === e.style.backgroundClip, fa(function() {
					var c, d, f = "padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",
						g = T.getElementsByTagName("body")[0];
					g && (c = T.createElement("div"), c.style.cssText = "border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px", g.appendChild(c).appendChild(e), e.innerHTML = "", e.style.cssText = "-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%", fa.swap(g, null != g.style.zoom ? {
						zoom: 1
					} : {}, function() {
						b.boxSizing = 4 === e.offsetWidth
					}), a.getComputedStyle && (b.pixelPosition = "1%" !== (a.getComputedStyle(e, null) || {}).top, b.boxSizingReliable = "4px" === (a.getComputedStyle(e, null) || {
						width: "4px"
					}).width, d = e.appendChild(T.createElement("div")), d.style.cssText = e.style.cssText = f, d.style.marginRight = d.style.width = "0", e.style.width = "1px", b.reliableMarginRight = !parseFloat((a.getComputedStyle(d, null) || {}).marginRight)), g.removeChild(c))
				}), b) : b
			}({});
			var pa, qa, ra = /(?:\{[\s\S]*\}|\[[\s\S]*\])$/,
				sa = /([A-Z])/g;
			e.uid = 1, e.accepts = function(a) {
				return a.nodeType ? 1 === a.nodeType || 9 === a.nodeType : !0
			}, e.prototype = {
				key: function(a) {
					if (!e.accepts(a)) return 0;
					var b = {},
						c = a[this.expando];
					if (!c) {
						c = e.uid++;
						try {
							b[this.expando] = {
								value: c
							}, Object.defineProperties(a, b)
						} catch (d) {
							b[this.expando] = c, fa.extend(a, b)
						}
					}
					return this.cache[c] || (this.cache[c] = {}), c
				},
				set: function(a, b, c) {
					var d, e = this.key(a),
						f = this.cache[e];
					if ("string" == typeof b) f[b] = c;
					else if (fa.isEmptyObject(f)) fa.extend(this.cache[e], b);
					else
						for (d in b) f[d] = b[d];
					return f
				},
				get: function(a, c) {
					var d = this.cache[this.key(a)];
					return c === b ? d : d[c]
				},
				access: function(a, c, d) {
					var e;
					return c === b || c && "string" == typeof c && d === b ? (e = this.get(a, c), e !== b ? e : this.get(a, fa.camelCase(c))) : (this.set(a, c, d), d !== b ? d : c)
				},
				remove: function(a, c) {
					var d, e, f, g = this.key(a),
						h = this.cache[g];
					if (c === b) this.cache[g] = {};
					else {
						fa.isArray(c) ? e = c.concat(c.map(fa.camelCase)) : (f = fa.camelCase(c), c in h ? e = [c, f] : (e = f, e = e in h ? [e] : e.match(ha) || [])), d = e.length;
						for (; d--;) delete h[e[d]]
					}
				},
				hasData: function(a) {
					return !fa.isEmptyObject(this.cache[a[this.expando]] || {})
				},
				discard: function(a) {
					a[this.expando] && delete this.cache[a[this.expando]]
				}
			}, pa = new e, qa = new e, fa.extend({
				acceptData: e.accepts,
				hasData: function(a) {
					return pa.hasData(a) || qa.hasData(a)
				},
				data: function(a, b, c) {
					return pa.access(a, b, c)
				},
				removeData: function(a, b) {
					pa.remove(a, b)
				},
				_data: function(a, b, c) {
					return qa.access(a, b, c)
				},
				_removeData: function(a, b) {
					qa.remove(a, b)
				}
			}), fa.fn.extend({
				data: function(a, c) {
					var d, e, g = this[0],
						h = 0,
						i = null;
					if (a === b) {
						if (this.length && (i = pa.get(g), 1 === g.nodeType && !qa.get(g, "hasDataAttrs"))) {
							for (d = g.attributes; h < d.length; h++) e = d[h].name, 0 === e.indexOf("data-") && (e = fa.camelCase(e.slice(5)), f(g, e, i[e]));
							qa.set(g, "hasDataAttrs", !0)
						}
						return i
					}
					return "object" == typeof a ? this.each(function() {
						pa.set(this, a)
					}) : fa.access(this, function(c) {
						var d, e = fa.camelCase(a);
						if (g && c === b) {
							if (d = pa.get(g, a), d !== b) return d;
							if (d = pa.get(g, e), d !== b) return d;
							if (d = f(g, e, b), d !== b) return d
						} else this.each(function() {
							var d = pa.get(this, e);
							pa.set(this, e, c), -1 !== a.indexOf("-") && d !== b && pa.set(this, a, c)
						})
					}, null, c, arguments.length > 1, null, !0)
				},
				removeData: function(a) {
					return this.each(function() {
						pa.remove(this, a)
					})
				}
			}), fa.extend({
				queue: function(a, b, c) {
					var d;
					return a ? (b = (b || "fx") + "queue", d = qa.get(a, b), c && (!d || fa.isArray(c) ? d = qa.access(a, b, fa.makeArray(c)) : d.push(c)), d || []) : void 0
				},
				dequeue: function(a, b) {
					b = b || "fx";
					var c = fa.queue(a, b),
						d = c.length,
						e = c.shift(),
						f = fa._queueHooks(a, b),
						g = function() {
							fa.dequeue(a, b)
						};
					"inprogress" === e && (e = c.shift(), d--), e && ("fx" === b && c.unshift("inprogress"), delete f.stop, e.call(a, g, f)), !d && f && f.empty.fire()
				},
				_queueHooks: function(a, b) {
					var c = b + "queueHooks";
					return qa.get(a, c) || qa.access(a, c, {
						empty: fa.Callbacks("once memory").add(function() {
							qa.remove(a, [b + "queue", c])
						})
					})
				}
			}), fa.fn.extend({
				queue: function(a, c) {
					var d = 2;
					return "string" != typeof a && (c = a, a = "fx", d--), arguments.length < d ? fa.queue(this[0], a) : c === b ? this : this.each(function() {
						var b = fa.queue(this, a, c);
						fa._queueHooks(this, a), "fx" === a && "inprogress" !== b[0] && fa.dequeue(this, a)
					})
				},
				dequeue: function(a) {
					return this.each(function() {
						fa.dequeue(this, a)
					})
				},
				delay: function(a, b) {
					return a = fa.fx ? fa.fx.speeds[a] || a : a, b = b || "fx", this.queue(b, function(b, c) {
						var d = setTimeout(b, a);
						c.stop = function() {
							clearTimeout(d)
						}
					})
				},
				clearQueue: function(a) {
					return this.queue(a || "fx", [])
				},
				promise: function(a, c) {
					var d, e = 1,
						f = fa.Deferred(),
						g = this,
						h = this.length,
						i = function() {
							--e || f.resolveWith(g, [g])
						};
					for ("string" != typeof a && (c = a, a = b), a = a || "fx"; h--;) d = qa.get(g[h], a + "queueHooks"), d && d.empty && (e++, d.empty.add(i));
					return i(), f.promise(c)
				}
			});
			var ta, ua, va = /[\t\r\n\f]/g,
				wa = /\r/g,
				xa = /^(?:input|select|textarea|button)$/i;
			fa.fn.extend({
				attr: function(a, b) {
					return fa.access(this, fa.attr, a, b, arguments.length > 1)
				},
				removeAttr: function(a) {
					return this.each(function() {
						fa.removeAttr(this, a)
					})
				},
				prop: function(a, b) {
					return fa.access(this, fa.prop, a, b, arguments.length > 1)
				},
				removeProp: function(a) {
					return this.each(function() {
						delete this[fa.propFix[a] || a]
					})
				},
				addClass: function(a) {
					var b, c, d, e, f, g = 0,
						h = this.length,
						i = "string" == typeof a && a;
					if (fa.isFunction(a)) return this.each(function(b) {
						fa(this).addClass(a.call(this, b, this.className))
					});
					if (i)
						for (b = (a || "").match(ha) || []; h > g; g++)
							if (c = this[g], d = 1 === c.nodeType && (c.className ? (" " + c.className + " ").replace(va, " ") : " ")) {
								for (f = 0; e = b[f++];) d.indexOf(" " + e + " ") < 0 && (d += e + " ");
								c.className = fa.trim(d)
							}
					return this
				},
				removeClass: function(a) {
					var b, c, d, e, f, g = 0,
						h = this.length,
						i = 0 === arguments.length || "string" == typeof a && a;
					if (fa.isFunction(a)) return this.each(function(b) {
						fa(this).removeClass(a.call(this, b, this.className))
					});
					if (i)
						for (b = (a || "").match(ha) || []; h > g; g++)
							if (c = this[g], d = 1 === c.nodeType && (c.className ? (" " + c.className + " ").replace(va, " ") : "")) {
								for (f = 0; e = b[f++];)
									for (; d.indexOf(" " + e + " ") >= 0;) d = d.replace(" " + e + " ", " ");
								c.className = a ? fa.trim(d) : ""
							}
					return this
				},
				toggleClass: function(a, b) {
					var c = typeof a;
					return "boolean" == typeof b && "string" === c ? b ? this.addClass(a) : this.removeClass(a) : this.each(fa.isFunction(a) ? function(c) {
						fa(this).toggleClass(a.call(this, c, this.className, b), b)
					} : function() {
						if ("string" === c)
							for (var b, d = 0, e = fa(this), f = a.match(ha) || []; b = f[d++];) e.hasClass(b) ? e.removeClass(b) : e.addClass(b);
						else(c === R || "boolean" === c) && (this.className && qa.set(this, "__className__", this.className), this.className = this.className || a === !1 ? "" : qa.get(this, "__className__") || "")
					})
				},
				hasClass: function(a) {
					for (var b = " " + a + " ", c = 0, d = this.length; d > c; c++)
						if (1 === this[c].nodeType && (" " + this[c].className + " ").replace(va, " ").indexOf(b) >= 0) return !0;
					return !1
				},
				val: function(a) {
					var c, d, e, f = this[0]; {
						if (arguments.length) return e = fa.isFunction(a), this.each(function(d) {
							var f;
							1 === this.nodeType && (f = e ? a.call(this, d, fa(this).val()) : a, null == f ? f = "" : "number" == typeof f ? f += "" : fa.isArray(f) && (f = fa.map(f, function(a) {
								return null == a ? "" : a + ""
							})), c = fa.valHooks[this.type] || fa.valHooks[this.nodeName.toLowerCase()], c && "set" in c && c.set(this, f, "value") !== b || (this.value = f))
						});
						if (f) return c = fa.valHooks[f.type] || fa.valHooks[f.nodeName.toLowerCase()], c && "get" in c && (d = c.get(f, "value")) !== b ? d : (d = f.value, "string" == typeof d ? d.replace(wa, "") : null == d ? "" : d)
					}
				}
			}), fa.extend({
				valHooks: {
					option: {
						get: function(a) {
							var b = a.attributes.value;
							return !b || b.specified ? a.value : a.text
						}
					},
					select: {
						get: function(a) {
							for (var b, c, d = a.options, e = a.selectedIndex, f = "select-one" === a.type || 0 > e, g = f ? null : [], h = f ? e + 1 : d.length, i = 0 > e ? h : f ? e : 0; h > i; i++)
								if (c = d[i], !(!c.selected && i !== e || (fa.support.optDisabled ? c.disabled : null !== c.getAttribute("disabled")) || c.parentNode.disabled && fa.nodeName(c.parentNode, "optgroup"))) {
									if (b = fa(c).val(), f) return b;
									g.push(b)
								}
							return g
						},
						set: function(a, b) {
							for (var c, d, e = a.options, f = fa.makeArray(b), g = e.length; g--;) d = e[g], (d.selected = fa.inArray(fa(d).val(), f) >= 0) && (c = !0);
							return c || (a.selectedIndex = -1), f
						}
					}
				},
				attr: function(a, c, d) {
					var e, f, g = a.nodeType;
					if (a && 3 !== g && 8 !== g && 2 !== g) return typeof a.getAttribute === R ? fa.prop(a, c, d) : (1 === g && fa.isXMLDoc(a) || (c = c.toLowerCase(), e = fa.attrHooks[c] || (fa.expr.match.bool.test(c) ? ua : ta)), d === b ? e && "get" in e && null !== (f = e.get(a, c)) ? f : (f = fa.find.attr(a, c), null == f ? b : f) : null !== d ? e && "set" in e && (f = e.set(a, d, c)) !== b ? f : (a.setAttribute(c, d + ""), d) : void fa.removeAttr(a, c))
				},
				removeAttr: function(a, b) {
					var c, d, e = 0,
						f = b && b.match(ha);
					if (f && 1 === a.nodeType)
						for (; c = f[e++];) d = fa.propFix[c] || c, fa.expr.match.bool.test(c) && (a[d] = !1), a.removeAttribute(c)
				},
				attrHooks: {
					type: {
						set: function(a, b) {
							if (!fa.support.radioValue && "radio" === b && fa.nodeName(a, "input")) {
								var c = a.value;
								return a.setAttribute("type", b), c && (a.value = c), b
							}
						}
					}
				},
				propFix: {
					"for": "htmlFor",
					"class": "className"
				},
				prop: function(a, c, d) {
					var e, f, g, h = a.nodeType;
					if (a && 3 !== h && 8 !== h && 2 !== h) return g = 1 !== h || !fa.isXMLDoc(a), g && (c = fa.propFix[c] || c, f = fa.propHooks[c]), d !== b ? f && "set" in f && (e = f.set(a, d, c)) !== b ? e : a[c] = d : f && "get" in f && null !== (e = f.get(a, c)) ? e : a[c]
				},
				propHooks: {
					tabIndex: {
						get: function(a) {
							return a.hasAttribute("tabindex") || xa.test(a.nodeName) || a.href ? a.tabIndex : -1
						}
					}
				}
			}), ua = {
				set: function(a, b, c) {
					return b === !1 ? fa.removeAttr(a, c) : a.setAttribute(c, c), c
				}
			}, fa.each(fa.expr.match.bool.source.match(/\w+/g), function(a, c) {
				var d = fa.expr.attrHandle[c] || fa.find.attr;
				fa.expr.attrHandle[c] = function(a, c, e) {
					var f = fa.expr.attrHandle[c],
						g = e ? b : (fa.expr.attrHandle[c] = b) != d(a, c, e) ? c.toLowerCase() : null;
					return fa.expr.attrHandle[c] = f, g
				}
			}), fa.support.optSelected || (fa.propHooks.selected = {
				get: function(a) {
					var b = a.parentNode;
					return b && b.parentNode && b.parentNode.selectedIndex, null
				}
			}), fa.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
				fa.propFix[this.toLowerCase()] = this
			}), fa.each(["radio", "checkbox"], function() {
				fa.valHooks[this] = {
					set: function(a, b) {
						return fa.isArray(b) ? a.checked = fa.inArray(fa(a).val(), b) >= 0 : void 0
					}
				}, fa.support.checkOn || (fa.valHooks[this].get = function(a) {
					return null === a.getAttribute("value") ? "on" : a.value
				})
			});
			var ya = /^key/,
				za = /^(?:mouse|contextmenu)|click/,
				Aa = /^(?:focusinfocus|focusoutblur)$/,
				Ba = /^([^.]*)(?:\.(.+)|)$/;
			fa.event = {
				global: {},
				add: function(a, c, d, e, f) {
					var g, h, i, j, k, l, m, n, o, p, q, r = qa.get(a);
					if (r) {
						for (d.handler && (g = d, d = g.handler, f = g.selector), d.guid || (d.guid = fa.guid++), (j = r.events) || (j = r.events = {}), (h = r.handle) || (h = r.handle = function(a) {
								return typeof fa === R || a && fa.event.triggered === a.type ? b : fa.event.dispatch.apply(h.elem, arguments)
							}, h.elem = a), c = (c || "").match(ha) || [""], k = c.length; k--;) i = Ba.exec(c[k]) || [], o = q = i[1], p = (i[2] || "").split(".").sort(), o && (m = fa.event.special[o] || {}, o = (f ? m.delegateType : m.bindType) || o, m = fa.event.special[o] || {}, l = fa.extend({
							type: o,
							origType: q,
							data: e,
							handler: d,
							guid: d.guid,
							selector: f,
							needsContext: f && fa.expr.match.needsContext.test(f),
							namespace: p.join(".")
						}, g), (n = j[o]) || (n = j[o] = [], n.delegateCount = 0, m.setup && m.setup.call(a, e, p, h) !== !1 || a.addEventListener && a.addEventListener(o, h, !1)), m.add && (m.add.call(a, l), l.handler.guid || (l.handler.guid = d.guid)), f ? n.splice(n.delegateCount++, 0, l) : n.push(l), fa.event.global[o] = !0);
						a = null
					}
				},
				remove: function(a, b, c, d, e) {
					var f, g, h, i, j, k, l, m, n, o, p, q = qa.hasData(a) && qa.get(a);
					if (q && (i = q.events)) {
						for (b = (b || "").match(ha) || [""], j = b.length; j--;)
							if (h = Ba.exec(b[j]) || [], n = p = h[1], o = (h[2] || "").split(".").sort(), n) {
								for (l = fa.event.special[n] || {}, n = (d ? l.delegateType : l.bindType) || n, m = i[n] || [], h = h[2] && new RegExp("(^|\\.)" + o.join("\\.(?:.*\\.|)") + "(\\.|$)"), g = f = m.length; f--;) k = m[f], !e && p !== k.origType || c && c.guid !== k.guid || h && !h.test(k.namespace) || d && d !== k.selector && ("**" !== d || !k.selector) || (m.splice(f, 1), k.selector && m.delegateCount--, l.remove && l.remove.call(a, k));
								g && !m.length && (l.teardown && l.teardown.call(a, o, q.handle) !== !1 || fa.removeEvent(a, n, q.handle), delete i[n])
							} else
								for (n in i) fa.event.remove(a, n + b[j], c, d, !0);
						fa.isEmptyObject(i) && (delete q.handle, qa.remove(a, "events"))
					}
				},
				trigger: function(c, d, e, f) {
					var g, h, i, j, k, l, m, n = [e || T],
						o = da.call(c, "type") ? c.type : c,
						p = da.call(c, "namespace") ? c.namespace.split(".") : [];
					if (h = i = e = e || T, 3 !== e.nodeType && 8 !== e.nodeType && !Aa.test(o + fa.event.triggered) && (o.indexOf(".") >= 0 && (p = o.split("."), o = p.shift(), p.sort()), k = o.indexOf(":") < 0 && "on" + o, c = c[fa.expando] ? c : new fa.Event(o, "object" == typeof c && c), c.isTrigger = f ? 2 : 3, c.namespace = p.join("."), c.namespace_re = c.namespace ? new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, c.result = b, c.target || (c.target = e), d = null == d ? [c] : fa.makeArray(d, [c]), m = fa.event.special[o] || {}, f || !m.trigger || m.trigger.apply(e, d) !== !1)) {
						if (!f && !m.noBubble && !fa.isWindow(e)) {
							for (j = m.delegateType || o, Aa.test(j + o) || (h = h.parentNode); h; h = h.parentNode) n.push(h), i = h;
							i === (e.ownerDocument || T) && n.push(i.defaultView || i.parentWindow || a)
						}
						for (g = 0;
							(h = n[g++]) && !c.isPropagationStopped();) c.type = g > 1 ? j : m.bindType || o, l = (qa.get(h, "events") || {})[c.type] && qa.get(h, "handle"), l && l.apply(h, d), l = k && h[k], l && fa.acceptData(h) && l.apply && l.apply(h, d) === !1 && c.preventDefault();
						return c.type = o, f || c.isDefaultPrevented() || m._default && m._default.apply(n.pop(), d) !== !1 || !fa.acceptData(e) || k && fa.isFunction(e[o]) && !fa.isWindow(e) && (i = e[k], i && (e[k] = null), fa.event.triggered = o, e[o](), fa.event.triggered = b, i && (e[k] = i)), c.result
					}
				},
				dispatch: function(a) {
					a = fa.event.fix(a);
					var c, d, e, f, g, h = [],
						i = aa.call(arguments),
						j = (qa.get(this, "events") || {})[a.type] || [],
						k = fa.event.special[a.type] || {};
					if (i[0] = a, a.delegateTarget = this, !k.preDispatch || k.preDispatch.call(this, a) !== !1) {
						for (h = fa.event.handlers.call(this, a, j), c = 0;
							(f = h[c++]) && !a.isPropagationStopped();)
							for (a.currentTarget = f.elem, d = 0;
								(g = f.handlers[d++]) && !a.isImmediatePropagationStopped();)(!a.namespace_re || a.namespace_re.test(g.namespace)) && (a.handleObj = g, a.data = g.data, e = ((fa.event.special[g.origType] || {}).handle || g.handler).apply(f.elem, i), e !== b && (a.result = e) === !1 && (a.preventDefault(), a.stopPropagation()));
						return k.postDispatch && k.postDispatch.call(this, a), a.result
					}
				},
				handlers: function(a, c) {
					var d, e, f, g, h = [],
						i = c.delegateCount,
						j = a.target;
					if (i && j.nodeType && (!a.button || "click" !== a.type))
						for (; j !== this; j = j.parentNode || this)
							if (j.disabled !== !0 || "click" !== a.type) {
								for (e = [], d = 0; i > d; d++) g = c[d], f = g.selector + " ", e[f] === b && (e[f] = g.needsContext ? fa(f, this).index(j) >= 0 : fa.find(f, this, null, [j]).length), e[f] && e.push(g);
								e.length && h.push({
									elem: j,
									handlers: e
								})
							}
					return i < c.length && h.push({
						elem: this,
						handlers: c.slice(i)
					}), h
				},
				props: "altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
				fixHooks: {},
				keyHooks: {
					props: "char charCode key keyCode".split(" "),
					filter: function(a, b) {
						return null == a.which && (a.which = null != b.charCode ? b.charCode : b.keyCode), a
					}
				},
				mouseHooks: {
					props: "button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
					filter: function(a, c) {
						var d, e, f, g = c.button;
						return null == a.pageX && null != c.clientX && (d = a.target.ownerDocument || T, e = d.documentElement, f = d.body, a.pageX = c.clientX + (e && e.scrollLeft || f && f.scrollLeft || 0) - (e && e.clientLeft || f && f.clientLeft || 0), a.pageY = c.clientY + (e && e.scrollTop || f && f.scrollTop || 0) - (e && e.clientTop || f && f.clientTop || 0)), a.which || g === b || (a.which = 1 & g ? 1 : 2 & g ? 3 : 4 & g ? 2 : 0), a
					}
				},
				fix: function(a) {
					if (a[fa.expando]) return a;
					var b, c, d, e = a.type,
						f = a,
						g = this.fixHooks[e];
					for (g || (this.fixHooks[e] = g = za.test(e) ? this.mouseHooks : ya.test(e) ? this.keyHooks : {}), d = g.props ? this.props.concat(g.props) : this.props, a = new fa.Event(f), b = d.length; b--;) c = d[b], a[c] = f[c];
					return a.target || (a.target = T), 3 === a.target.nodeType && (a.target = a.target.parentNode), g.filter ? g.filter(a, f) : a
				},
				special: {
					load: {
						noBubble: !0
					},
					focus: {
						trigger: function() {
							return this !== i() && this.focus ? (this.focus(), !1) : void 0
						},
						delegateType: "focusin"
					},
					blur: {
						trigger: function() {
							return this === i() && this.blur ? (this.blur(), !1) : void 0
						},
						delegateType: "focusout"
					},
					click: {
						trigger: function() {
							return "checkbox" === this.type && this.click && fa.nodeName(this, "input") ? (this.click(), !1) : void 0
						},
						_default: function(a) {
							return fa.nodeName(a.target, "a")
						}
					},
					beforeunload: {
						postDispatch: function(a) {
							a.result !== b && (a.originalEvent.returnValue = a.result)
						}
					}
				},
				simulate: function(a, b, c, d) {
					var e = fa.extend(new fa.Event, c, {
						type: a,
						isSimulated: !0,
						originalEvent: {}
					});
					d ? fa.event.trigger(e, null, b) : fa.event.dispatch.call(b, e), e.isDefaultPrevented() && c.preventDefault()
				}
			}, fa.removeEvent = function(a, b, c) {
				a.removeEventListener && a.removeEventListener(b, c, !1)
			}, fa.Event = function(a, b) {
				return this instanceof fa.Event ? (a && a.type ? (this.originalEvent = a, this.type = a.type, this.isDefaultPrevented = a.defaultPrevented || a.getPreventDefault && a.getPreventDefault() ? g : h) : this.type = a, b && fa.extend(this, b), this.timeStamp = a && a.timeStamp || fa.now(),
					void(this[fa.expando] = !0)) : new fa.Event(a, b)
			}, fa.Event.prototype = {
				isDefaultPrevented: h,
				isPropagationStopped: h,
				isImmediatePropagationStopped: h,
				preventDefault: function() {
					var a = this.originalEvent;
					this.isDefaultPrevented = g, a && a.preventDefault && a.preventDefault()
				},
				stopPropagation: function() {
					var a = this.originalEvent;
					this.isPropagationStopped = g, a && a.stopPropagation && a.stopPropagation()
				},
				stopImmediatePropagation: function() {
					this.isImmediatePropagationStopped = g, this.stopPropagation()
				}
			}, fa.each({
				mouseenter: "mouseover",
				mouseleave: "mouseout"
			}, function(a, b) {
				fa.event.special[a] = {
					delegateType: b,
					bindType: b,
					handle: function(a) {
						var c, d = this,
							e = a.relatedTarget,
							f = a.handleObj;
						return (!e || e !== d && !fa.contains(d, e)) && (a.type = f.origType, c = f.handler.apply(this, arguments), a.type = b), c
					}
				}
			}), fa.support.focusinBubbles || fa.each({
				focus: "focusin",
				blur: "focusout"
			}, function(a, b) {
				var c = 0,
					d = function(a) {
						fa.event.simulate(b, a.target, fa.event.fix(a), !0)
					};
				fa.event.special[b] = {
					setup: function() {
						0 === c++ && T.addEventListener(a, d, !0)
					},
					teardown: function() {
						0 === --c && T.removeEventListener(a, d, !0)
					}
				}
			}), fa.fn.extend({
				on: function(a, c, d, e, f) {
					var g, i;
					if ("object" == typeof a) {
						"string" != typeof c && (d = d || c, c = b);
						for (i in a) this.on(i, c, d, a[i], f);
						return this
					}
					if (null == d && null == e ? (e = c, d = c = b) : null == e && ("string" == typeof c ? (e = d, d = b) : (e = d, d = c, c = b)), e === !1) e = h;
					else if (!e) return this;
					return 1 === f && (g = e, e = function(a) {
						return fa().off(a), g.apply(this, arguments)
					}, e.guid = g.guid || (g.guid = fa.guid++)), this.each(function() {
						fa.event.add(this, a, e, d, c)
					})
				},
				one: function(a, b, c, d) {
					return this.on(a, b, c, d, 1)
				},
				off: function(a, c, d) {
					var e, f;
					if (a && a.preventDefault && a.handleObj) return e = a.handleObj, fa(a.delegateTarget).off(e.namespace ? e.origType + "." + e.namespace : e.origType, e.selector, e.handler), this;
					if ("object" == typeof a) {
						for (f in a) this.off(f, c, a[f]);
						return this
					}
					return (c === !1 || "function" == typeof c) && (d = c, c = b), d === !1 && (d = h), this.each(function() {
						fa.event.remove(this, a, d, c)
					})
				},
				trigger: function(a, b) {
					return this.each(function() {
						fa.event.trigger(a, b, this)
					})
				},
				triggerHandler: function(a, b) {
					var c = this[0];
					return c ? fa.event.trigger(a, b, c, !0) : void 0
				}
			});
			var Ca = /^.[^:#\[\.,]*$/,
				Da = /^(?:parents|prev(?:Until|All))/,
				Ea = fa.expr.match.needsContext,
				Fa = {
					children: !0,
					contents: !0,
					next: !0,
					prev: !0
				};
			fa.fn.extend({
				find: function(a) {
					var b, c = [],
						d = this,
						e = d.length;
					if ("string" != typeof a) return this.pushStack(fa(a).filter(function() {
						for (b = 0; e > b; b++)
							if (fa.contains(d[b], this)) return !0
					}));
					for (b = 0; e > b; b++) fa.find(a, d[b], c);
					return c = this.pushStack(e > 1 ? fa.unique(c) : c), c.selector = this.selector ? this.selector + " " + a : a, c
				},
				has: function(a) {
					var b = fa(a, this),
						c = b.length;
					return this.filter(function() {
						for (var a = 0; c > a; a++)
							if (fa.contains(this, b[a])) return !0
					})
				},
				not: function(a) {
					return this.pushStack(k(this, a || [], !0))
				},
				filter: function(a) {
					return this.pushStack(k(this, a || [], !1))
				},
				is: function(a) {
					return !!k(this, "string" == typeof a && Ea.test(a) ? fa(a) : a || [], !1).length
				},
				closest: function(a, b) {
					for (var c, d = 0, e = this.length, f = [], g = Ea.test(a) || "string" != typeof a ? fa(a, b || this.context) : 0; e > d; d++)
						for (c = this[d]; c && c !== b; c = c.parentNode)
							if (c.nodeType < 11 && (g ? g.index(c) > -1 : 1 === c.nodeType && fa.find.matchesSelector(c, a))) {
								c = f.push(c);
								break
							}
					return this.pushStack(f.length > 1 ? fa.unique(f) : f)
				},
				index: function(a) {
					return a ? "string" == typeof a ? ba.call(fa(a), this[0]) : ba.call(this, a.jquery ? a[0] : a) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
				},
				add: function(a, b) {
					var c = "string" == typeof a ? fa(a, b) : fa.makeArray(a && a.nodeType ? [a] : a),
						d = fa.merge(this.get(), c);
					return this.pushStack(fa.unique(d))
				},
				addBack: function(a) {
					return this.add(null == a ? this.prevObject : this.prevObject.filter(a))
				}
			}), fa.each({
				parent: function(a) {
					var b = a.parentNode;
					return b && 11 !== b.nodeType ? b : null
				},
				parents: function(a) {
					return fa.dir(a, "parentNode")
				},
				parentsUntil: function(a, b, c) {
					return fa.dir(a, "parentNode", c)
				},
				next: function(a) {
					return j(a, "nextSibling")
				},
				prev: function(a) {
					return j(a, "previousSibling")
				},
				nextAll: function(a) {
					return fa.dir(a, "nextSibling")
				},
				prevAll: function(a) {
					return fa.dir(a, "previousSibling")
				},
				nextUntil: function(a, b, c) {
					return fa.dir(a, "nextSibling", c)
				},
				prevUntil: function(a, b, c) {
					return fa.dir(a, "previousSibling", c)
				},
				siblings: function(a) {
					return fa.sibling((a.parentNode || {}).firstChild, a)
				},
				children: function(a) {
					return fa.sibling(a.firstChild)
				},
				contents: function(a) {
					return a.contentDocument || fa.merge([], a.childNodes)
				}
			}, function(a, b) {
				fa.fn[a] = function(c, d) {
					var e = fa.map(this, b, c);
					return "Until" !== a.slice(-5) && (d = c), d && "string" == typeof d && (e = fa.filter(d, e)), this.length > 1 && (Fa[a] || fa.unique(e), Da.test(a) && e.reverse()), this.pushStack(e)
				}
			}), fa.extend({
				filter: function(a, b, c) {
					var d = b[0];
					return c && (a = ":not(" + a + ")"), 1 === b.length && 1 === d.nodeType ? fa.find.matchesSelector(d, a) ? [d] : [] : fa.find.matches(a, fa.grep(b, function(a) {
						return 1 === a.nodeType
					}))
				},
				dir: function(a, c, d) {
					for (var e = [], f = d !== b;
						(a = a[c]) && 9 !== a.nodeType;)
						if (1 === a.nodeType) {
							if (f && fa(a).is(d)) break;
							e.push(a)
						}
					return e
				},
				sibling: function(a, b) {
					for (var c = []; a; a = a.nextSibling) 1 === a.nodeType && a !== b && c.push(a);
					return c
				}
			});
			var Ga = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,
				Ha = /<([\w:]+)/,
				Ia = /<|&#?\w+;/,
				Ja = /<(?:script|style|link)/i,
				Ka = /^(?:checkbox|radio)$/i,
				La = /checked\s*(?:[^=]|=\s*.checked.)/i,
				Ma = /^$|\/(?:java|ecma)script/i,
				Na = /^true\/(.*)/,
				Oa = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
				Pa = {
					option: [1, "<select multiple='multiple'>", "</select>"],
					thead: [1, "<table>", "</table>"],
					col: [2, "<table><colgroup>", "</colgroup></table>"],
					tr: [2, "<table><tbody>", "</tbody></table>"],
					td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
					_default: [0, "", ""]
				};
			Pa.optgroup = Pa.option, Pa.tbody = Pa.tfoot = Pa.colgroup = Pa.caption = Pa.thead, Pa.th = Pa.td, fa.fn.extend({
				text: function(a) {
					return fa.access(this, function(a) {
						return a === b ? fa.text(this) : this.empty().append((this[0] && this[0].ownerDocument || T).createTextNode(a))
					}, null, a, arguments.length)
				},
				append: function() {
					return this.domManip(arguments, function(a) {
						if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
							var b = l(this, a);
							b.appendChild(a)
						}
					})
				},
				prepend: function() {
					return this.domManip(arguments, function(a) {
						if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
							var b = l(this, a);
							b.insertBefore(a, b.firstChild)
						}
					})
				},
				before: function() {
					return this.domManip(arguments, function(a) {
						this.parentNode && this.parentNode.insertBefore(a, this)
					})
				},
				after: function() {
					return this.domManip(arguments, function(a) {
						this.parentNode && this.parentNode.insertBefore(a, this.nextSibling)
					})
				},
				remove: function(a, b) {
					for (var c, d = a ? fa.filter(a, this) : this, e = 0; null != (c = d[e]); e++) b || 1 !== c.nodeType || fa.cleanData(q(c)), c.parentNode && (b && fa.contains(c.ownerDocument, c) && o(q(c, "script")), c.parentNode.removeChild(c));
					return this
				},
				empty: function() {
					for (var a, b = 0; null != (a = this[b]); b++) 1 === a.nodeType && (fa.cleanData(q(a, !1)), a.textContent = "");
					return this
				},
				clone: function(a, b) {
					return a = null == a ? !1 : a, b = null == b ? a : b, this.map(function() {
						return fa.clone(this, a, b)
					})
				},
				html: function(a) {
					return fa.access(this, function(a) {
						var c = this[0] || {},
							d = 0,
							e = this.length;
						if (a === b && 1 === c.nodeType) return c.innerHTML;
						if ("string" == typeof a && !Ja.test(a) && !Pa[(Ha.exec(a) || ["", ""])[1].toLowerCase()]) {
							a = a.replace(Ga, "<$1></$2>");
							try {
								for (; e > d; d++) c = this[d] || {}, 1 === c.nodeType && (fa.cleanData(q(c, !1)), c.innerHTML = a);
								c = 0
							} catch (f) {}
						}
						c && this.empty().append(a)
					}, null, a, arguments.length)
				},
				replaceWith: function() {
					var a = fa.map(this, function(a) {
							return [a.nextSibling, a.parentNode]
						}),
						b = 0;
					return this.domManip(arguments, function(c) {
						var d = a[b++],
							e = a[b++];
						e && (d && d.parentNode !== e && (d = this.nextSibling), fa(this).remove(), e.insertBefore(c, d))
					}, !0), b ? this : this.remove()
				},
				detach: function(a) {
					return this.remove(a, !0)
				},
				domManip: function(a, b, c) {
					a = $.apply([], a);
					var d, e, f, g, h, i, j = 0,
						k = this.length,
						l = this,
						o = k - 1,
						p = a[0],
						r = fa.isFunction(p);
					if (r || !(1 >= k || "string" != typeof p || fa.support.checkClone) && La.test(p)) return this.each(function(d) {
						var e = l.eq(d);
						r && (a[0] = p.call(this, d, e.html())), e.domManip(a, b, c)
					});
					if (k && (d = fa.buildFragment(a, this[0].ownerDocument, !1, !c && this), e = d.firstChild, 1 === d.childNodes.length && (d = e), e)) {
						for (f = fa.map(q(d, "script"), m), g = f.length; k > j; j++) h = d, j !== o && (h = fa.clone(h, !0, !0), g && fa.merge(f, q(h, "script"))), b.call(this[j], h, j);
						if (g)
							for (i = f[f.length - 1].ownerDocument, fa.map(f, n), j = 0; g > j; j++) h = f[j], Ma.test(h.type || "") && !qa.access(h, "globalEval") && fa.contains(i, h) && (h.src ? fa._evalUrl(h.src) : fa.globalEval(h.textContent.replace(Oa, "")))
					}
					return this
				}
			}), fa.each({
				appendTo: "append",
				prependTo: "prepend",
				insertBefore: "before",
				insertAfter: "after",
				replaceAll: "replaceWith"
			}, function(a, b) {
				fa.fn[a] = function(a) {
					for (var c, d = [], e = fa(a), f = e.length - 1, g = 0; f >= g; g++) c = g === f ? this : this.clone(!0), fa(e[g])[b](c), _.apply(d, c.get());
					return this.pushStack(d)
				}
			}), fa.extend({
				clone: function(a, b, c) {
					var d, e, f, g, h = a.cloneNode(!0),
						i = fa.contains(a.ownerDocument, a);
					if (!(fa.support.noCloneChecked || 1 !== a.nodeType && 11 !== a.nodeType || fa.isXMLDoc(a)))
						for (g = q(h), f = q(a), d = 0, e = f.length; e > d; d++) r(f[d], g[d]);
					if (b)
						if (c)
							for (f = f || q(a), g = g || q(h), d = 0, e = f.length; e > d; d++) p(f[d], g[d]);
						else p(a, h);
					return g = q(h, "script"), g.length > 0 && o(g, !i && q(a, "script")), h
				},
				buildFragment: function(a, b, c, d) {
					for (var e, f, g, h, i, j, k = 0, l = a.length, m = b.createDocumentFragment(), n = []; l > k; k++)
						if (e = a[k], e || 0 === e)
							if ("object" === fa.type(e)) fa.merge(n, e.nodeType ? [e] : e);
							else if (Ia.test(e)) {
						for (f = f || m.appendChild(b.createElement("div")), g = (Ha.exec(e) || ["", ""])[1].toLowerCase(), h = Pa[g] || Pa._default, f.innerHTML = h[1] + e.replace(Ga, "<$1></$2>") + h[2], j = h[0]; j--;) f = f.lastChild;
						fa.merge(n, f.childNodes), f = m.firstChild, f.textContent = ""
					} else n.push(b.createTextNode(e));
					for (m.textContent = "", k = 0; e = n[k++];)
						if ((!d || -1 === fa.inArray(e, d)) && (i = fa.contains(e.ownerDocument, e), f = q(m.appendChild(e), "script"), i && o(f), c))
							for (j = 0; e = f[j++];) Ma.test(e.type || "") && c.push(e);
					return m
				},
				cleanData: function(a) {
					for (var c, d, f, g, h, i, j = fa.event.special, k = 0;
						(d = a[k]) !== b; k++) {
						if (e.accepts(d) && (h = d[qa.expando], h && (c = qa.cache[h]))) {
							if (f = Object.keys(c.events || {}), f.length)
								for (i = 0;
									(g = f[i]) !== b; i++) j[g] ? fa.event.remove(d, g) : fa.removeEvent(d, g, c.handle);
							qa.cache[h] && delete qa.cache[h]
						}
						delete pa.cache[d[pa.expando]]
					}
				},
				_evalUrl: function(a) {
					return fa.ajax({
						url: a,
						type: "GET",
						dataType: "script",
						async: !1,
						global: !1,
						"throws": !0
					})
				}
			}), fa.fn.extend({
				wrapAll: function(a) {
					var b;
					return fa.isFunction(a) ? this.each(function(b) {
						fa(this).wrapAll(a.call(this, b))
					}) : (this[0] && (b = fa(a, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && b.insertBefore(this[0]), b.map(function() {
						for (var a = this; a.firstElementChild;) a = a.firstElementChild;
						return a
					}).append(this)), this)
				},
				wrapInner: function(a) {
					return this.each(fa.isFunction(a) ? function(b) {
						fa(this).wrapInner(a.call(this, b))
					} : function() {
						var b = fa(this),
							c = b.contents();
						c.length ? c.wrapAll(a) : b.append(a)
					})
				},
				wrap: function(a) {
					var b = fa.isFunction(a);
					return this.each(function(c) {
						fa(this).wrapAll(b ? a.call(this, c) : a)
					})
				},
				unwrap: function() {
					return this.parent().each(function() {
						fa.nodeName(this, "body") || fa(this).replaceWith(this.childNodes)
					}).end()
				}
			});
			var Qa, Ra, Sa = /^(none|table(?!-c[ea]).+)/,
				Ta = /^margin/,
				Ua = new RegExp("^(" + ga + ")(.*)$", "i"),
				Va = new RegExp("^(" + ga + ")(?!px)[a-z%]+$", "i"),
				Wa = new RegExp("^([+-])=(" + ga + ")", "i"),
				Xa = {
					BODY: "block"
				},
				Ya = {
					position: "absolute",
					visibility: "hidden",
					display: "block"
				},
				Za = {
					letterSpacing: 0,
					fontWeight: 400
				},
				$a = ["Top", "Right", "Bottom", "Left"],
				_a = ["Webkit", "O", "Moz", "ms"];
			fa.fn.extend({
				css: function(a, c) {
					return fa.access(this, function(a, c, d) {
						var e, f, g = {},
							h = 0;
						if (fa.isArray(c)) {
							for (e = u(a), f = c.length; f > h; h++) g[c[h]] = fa.css(a, c[h], !1, e);
							return g
						}
						return d !== b ? fa.style(a, c, d) : fa.css(a, c)
					}, a, c, arguments.length > 1)
				},
				show: function() {
					return v(this, !0)
				},
				hide: function() {
					return v(this)
				},
				toggle: function(a) {
					return "boolean" == typeof a ? a ? this.show() : this.hide() : this.each(function() {
						t(this) ? fa(this).show() : fa(this).hide()
					})
				}
			}), fa.extend({
				cssHooks: {
					opacity: {
						get: function(a, b) {
							if (b) {
								var c = Qa(a, "opacity");
								return "" === c ? "1" : c
							}
						}
					}
				},
				cssNumber: {
					columnCount: !0,
					fillOpacity: !0,
					fontWeight: !0,
					lineHeight: !0,
					opacity: !0,
					order: !0,
					orphans: !0,
					widows: !0,
					zIndex: !0,
					zoom: !0
				},
				cssProps: {
					"float": "cssFloat"
				},
				style: function(a, c, d, e) {
					if (a && 3 !== a.nodeType && 8 !== a.nodeType && a.style) {
						var f, g, h, i = fa.camelCase(c),
							j = a.style;
						return c = fa.cssProps[i] || (fa.cssProps[i] = s(j, i)), h = fa.cssHooks[c] || fa.cssHooks[i], d === b ? h && "get" in h && (f = h.get(a, !1, e)) !== b ? f : j[c] : (g = typeof d, "string" === g && (f = Wa.exec(d)) && (d = (f[1] + 1) * f[2] + parseFloat(fa.css(a, c)), g = "number"), null == d || "number" === g && isNaN(d) || ("number" !== g || fa.cssNumber[i] || (d += "px"), fa.support.clearCloneStyle || "" !== d || 0 !== c.indexOf("background") || (j[c] = "inherit"), h && "set" in h && (d = h.set(a, d, e)) === b || (j[c] = d)), void 0)
					}
				},
				css: function(a, c, d, e) {
					var f, g, h, i = fa.camelCase(c);
					return c = fa.cssProps[i] || (fa.cssProps[i] = s(a.style, i)), h = fa.cssHooks[c] || fa.cssHooks[i], h && "get" in h && (f = h.get(a, !0, d)), f === b && (f = Qa(a, c, e)), "normal" === f && c in Za && (f = Za[c]), "" === d || d ? (g = parseFloat(f), d === !0 || fa.isNumeric(g) ? g || 0 : f) : f
				}
			}), Qa = function(a, c, d) {
				var e, f, g, h = d || u(a),
					i = h ? h.getPropertyValue(c) || h[c] : b,
					j = a.style;
				return h && ("" !== i || fa.contains(a.ownerDocument, a) || (i = fa.style(a, c)), Va.test(i) && Ta.test(c) && (e = j.width, f = j.minWidth, g = j.maxWidth, j.minWidth = j.maxWidth = j.width = i, i = h.width, j.width = e, j.minWidth = f, j.maxWidth = g)), i
			}, fa.each(["height", "width"], function(a, b) {
				fa.cssHooks[b] = {
					get: function(a, c, d) {
						return c ? 0 === a.offsetWidth && Sa.test(fa.css(a, "display")) ? fa.swap(a, Ya, function() {
							return y(a, b, d)
						}) : y(a, b, d) : void 0
					},
					set: function(a, c, d) {
						var e = d && u(a);
						return w(a, c, d ? x(a, b, d, fa.support.boxSizing && "border-box" === fa.css(a, "boxSizing", !1, e), e) : 0)
					}
				}
			}), fa(function() {
				fa.support.reliableMarginRight || (fa.cssHooks.marginRight = {
					get: function(a, b) {
						return b ? fa.swap(a, {
							display: "inline-block"
						}, Qa, [a, "marginRight"]) : void 0
					}
				}), !fa.support.pixelPosition && fa.fn.position && fa.each(["top", "left"], function(a, b) {
					fa.cssHooks[b] = {
						get: function(a, c) {
							return c ? (c = Qa(a, b), Va.test(c) ? fa(a).position()[b] + "px" : c) : void 0
						}
					}
				})
			}), fa.expr && fa.expr.filters && (fa.expr.filters.hidden = function(a) {
				return a.offsetWidth <= 0 && a.offsetHeight <= 0
			}, fa.expr.filters.visible = function(a) {
				return !fa.expr.filters.hidden(a)
			}), fa.each({
				margin: "",
				padding: "",
				border: "Width"
			}, function(a, b) {
				fa.cssHooks[a + b] = {
					expand: function(c) {
						for (var d = 0, e = {}, f = "string" == typeof c ? c.split(" ") : [c]; 4 > d; d++) e[a + $a[d] + b] = f[d] || f[d - 2] || f[0];
						return e
					}
				}, Ta.test(a) || (fa.cssHooks[a + b].set = w)
			});
			var ab = /%20/g,
				bb = /\[\]$/,
				cb = /\r?\n/g,
				db = /^(?:submit|button|image|reset|file)$/i,
				eb = /^(?:input|select|textarea|keygen)/i;
			fa.fn.extend({
				serialize: function() {
					return fa.param(this.serializeArray())
				},
				serializeArray: function() {
					return this.map(function() {
						var a = fa.prop(this, "elements");
						return a ? fa.makeArray(a) : this
					}).filter(function() {
						var a = this.type;
						return this.name && !fa(this).is(":disabled") && eb.test(this.nodeName) && !db.test(a) && (this.checked || !Ka.test(a))
					}).map(function(a, b) {
						var c = fa(this).val();
						return null == c ? null : fa.isArray(c) ? fa.map(c, function(a) {
							return {
								name: b.name,
								value: a.replace(cb, "\r\n")
							}
						}) : {
							name: b.name,
							value: c.replace(cb, "\r\n")
						}
					}).get()
				}
			}), fa.param = function(a, c) {
				var d, e = [],
					f = function(a, b) {
						b = fa.isFunction(b) ? b() : null == b ? "" : b, e[e.length] = encodeURIComponent(a) + "=" + encodeURIComponent(b)
					};
				if (c === b && (c = fa.ajaxSettings && fa.ajaxSettings.traditional), fa.isArray(a) || a.jquery && !fa.isPlainObject(a)) fa.each(a, function() {
					f(this.name, this.value)
				});
				else
					for (d in a) B(d, a[d], c, f);
				return e.join("&").replace(ab, "+")
			}, fa.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(a, b) {
				fa.fn[b] = function(a, c) {
					return arguments.length > 0 ? this.on(b, null, a, c) : this.trigger(b)
				}
			}), fa.fn.extend({
				hover: function(a, b) {
					return this.mouseenter(a).mouseleave(b || a)
				},
				bind: function(a, b, c) {
					return this.on(a, null, b, c)
				},
				unbind: function(a, b) {
					return this.off(a, null, b)
				},
				delegate: function(a, b, c, d) {
					return this.on(b, a, c, d)
				},
				undelegate: function(a, b, c) {
					return 1 === arguments.length ? this.off(a, "**") : this.off(b, a || "**", c)
				}
			});
			var fb, gb, hb = fa.now(),
				ib = /\?/,
				jb = /#.*$/,
				kb = /([?&])_=[^&]*/,
				lb = /^(.*?):[ \t]*([^\r\n]*)$/gm,
				mb = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
				nb = /^(?:GET|HEAD)$/,
				ob = /^\/\//,
				pb = /^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,
				qb = fa.fn.load,
				rb = {},
				sb = {},
				tb = "*/".concat("*");
			try {
				gb = S.href
			} catch (ub) {
				gb = T.createElement("a"), gb.href = "", gb = gb.href
			}
			fb = pb.exec(gb.toLowerCase()) || [], fa.fn.load = function(a, c, d) {
				if ("string" != typeof a && qb) return qb.apply(this, arguments);
				var e, f, g, h = this,
					i = a.indexOf(" ");
				return i >= 0 && (e = a.slice(i), a = a.slice(0, i)), fa.isFunction(c) ? (d = c, c = b) : c && "object" == typeof c && (f = "POST"), h.length > 0 && fa.ajax({
					url: a,
					type: f,
					dataType: "html",
					data: c
				}).done(function(a) {
					g = arguments, h.html(e ? fa("<div>").append(fa.parseHTML(a)).find(e) : a)
				}).complete(d && function(a, b) {
					h.each(d, g || [a.responseText, b, a])
				}), this
			}, fa.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(a, b) {
				fa.fn[b] = function(a) {
					return this.on(b, a)
				}
			}), fa.extend({
				active: 0,
				lastModified: {},
				etag: {},
				ajaxSettings: {
					url: gb,
					type: "GET",
					isLocal: mb.test(fb[1]),
					global: !0,
					processData: !0,
					async: !0,
					contentType: "application/x-www-form-urlencoded; charset=UTF-8",
					accepts: {
						"*": tb,
						text: "text/plain",
						html: "text/html",
						xml: "application/xml, text/xml",
						json: "application/json, text/javascript"
					},
					contents: {
						xml: /xml/,
						html: /html/,
						json: /json/
					},
					responseFields: {
						xml: "responseXML",
						text: "responseText",
						json: "responseJSON"
					},
					converters: {
						"* text": String,
						"text html": !0,
						"text json": fa.parseJSON,
						"text xml": fa.parseXML
					},
					flatOptions: {
						url: !0,
						context: !0
					}
				},
				ajaxSetup: function(a, b) {
					return b ? E(E(a, fa.ajaxSettings), b) : E(fa.ajaxSettings, a)
				},
				ajaxPrefilter: C(rb),
				ajaxTransport: C(sb),
				ajax: function(a, c) {
					function d(a, c, d, h) {
						var j, l, s, t, v, x = c;
						2 !== u && (u = 2, i && clearTimeout(i), e = b, g = h || "", w.readyState = a > 0 ? 4 : 0, j = a >= 200 && 300 > a || 304 === a, d && (t = F(m, w, d)), t = G(m, t, w, j), j ? (m.ifModified && (v = w.getResponseHeader("Last-Modified"), v && (fa.lastModified[f] = v), v = w.getResponseHeader("etag"), v && (fa.etag[f] = v)), 204 === a || "HEAD" === m.type ? x = "nocontent" : 304 === a ? x = "notmodified" : (x = t.state, l = t.data, s = t.error, j = !s)) : (s = x, (a || !x) && (x = "error", 0 > a && (a = 0))), w.status = a, w.statusText = (c || x) + "", j ? p.resolveWith(n, [l, x, w]) : p.rejectWith(n, [w, x, s]), w.statusCode(r), r = b, k && o.trigger(j ? "ajaxSuccess" : "ajaxError", [w, m, j ? l : s]), q.fireWith(n, [w, x]), k && (o.trigger("ajaxComplete", [w, m]), --fa.active || fa.event.trigger("ajaxStop")))
					}
					"object" == typeof a && (c = a, a = b), c = c || {};
					var e, f, g, h, i, j, k, l, m = fa.ajaxSetup({}, c),
						n = m.context || m,
						o = m.context && (n.nodeType || n.jquery) ? fa(n) : fa.event,
						p = fa.Deferred(),
						q = fa.Callbacks("once memory"),
						r = m.statusCode || {},
						s = {},
						t = {},
						u = 0,
						v = "canceled",
						w = {
							readyState: 0,
							getResponseHeader: function(a) {
								var b;
								if (2 === u) {
									if (!h)
										for (h = {}; b = lb.exec(g);) h[b[1].toLowerCase()] = b[2];
									b = h[a.toLowerCase()]
								}
								return null == b ? null : b
							},
							getAllResponseHeaders: function() {
								return 2 === u ? g : null
							},
							setRequestHeader: function(a, b) {
								var c = a.toLowerCase();
								return u || (a = t[c] = t[c] || a, s[a] = b), this
							},
							overrideMimeType: function(a) {
								return u || (m.mimeType = a), this
							},
							statusCode: function(a) {
								var b;
								if (a)
									if (2 > u)
										for (b in a) r[b] = [r[b], a[b]];
									else w.always(a[w.status]);
								return this
							},
							abort: function(a) {
								var b = a || v;
								return e && e.abort(b), d(0, b), this
							}
						};
					if (p.promise(w).complete = q.add, w.success = w.done, w.error = w.fail, m.url = ((a || m.url || gb) + "").replace(jb, "").replace(ob, fb[1] + "//"), m.type = c.method || c.type || m.method || m.type, m.dataTypes = fa.trim(m.dataType || "*").toLowerCase().match(ha) || [""], null == m.crossDomain && (j = pb.exec(m.url.toLowerCase()), m.crossDomain = !(!j || j[1] === fb[1] && j[2] === fb[2] && (j[3] || ("http:" === j[1] ? "80" : "443")) === (fb[3] || ("http:" === fb[1] ? "80" : "443")))), m.data && m.processData && "string" != typeof m.data && (m.data = fa.param(m.data, m.traditional)), D(rb, m, c, w), 2 === u) return w;
					k = m.global, k && 0 === fa.active++ && fa.event.trigger("ajaxStart"), m.type = m.type.toUpperCase(), m.hasContent = !nb.test(m.type), f = m.url, m.hasContent || (m.data && (f = m.url += (ib.test(f) ? "&" : "?") + m.data, delete m.data), m.cache === !1 && (m.url = kb.test(f) ? f.replace(kb, "$1_=" + hb++) : f + (ib.test(f) ? "&" : "?") + "_=" + hb++)), m.ifModified && (fa.lastModified[f] && w.setRequestHeader("If-Modified-Since", fa.lastModified[f]), fa.etag[f] && w.setRequestHeader("If-None-Match", fa.etag[f])), (m.data && m.hasContent && m.contentType !== !1 || c.contentType) && w.setRequestHeader("Content-Type", m.contentType), w.setRequestHeader("Accept", m.dataTypes[0] && m.accepts[m.dataTypes[0]] ? m.accepts[m.dataTypes[0]] + ("*" !== m.dataTypes[0] ? ", " + tb + "; q=0.01" : "") : m.accepts["*"]);
					for (l in m.headers) w.setRequestHeader(l, m.headers[l]);
					if (m.beforeSend && (m.beforeSend.call(n, w, m) === !1 || 2 === u)) return w.abort();
					v = "abort";
					for (l in {
							success: 1,
							error: 1,
							complete: 1
						}) w[l](m[l]);
					if (e = D(sb, m, c, w)) {
						w.readyState = 1, k && o.trigger("ajaxSend", [w, m]), m.async && m.timeout > 0 && (i = setTimeout(function() {
							w.abort("timeout")
						}, m.timeout));
						try {
							u = 1, e.send(s, d)
						} catch (x) {
							if (!(2 > u)) throw x;
							d(-1, x)
						}
					} else d(-1, "No Transport");
					return w
				},
				getJSON: function(a, b, c) {
					return fa.get(a, b, c, "json")
				},
				getScript: function(a, c) {
					return fa.get(a, b, c, "script")
				}
			}), fa.each(["get", "post"], function(a, c) {
				fa[c] = function(a, d, e, f) {
					return fa.isFunction(d) && (f = f || e, e = d, d = b), fa.ajax({
						url: a,
						type: c,
						dataType: f,
						data: d,
						success: e
					})
				}
			}), fa.ajaxSetup({
				accepts: {
					script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
				},
				contents: {
					script: /(?:java|ecma)script/
				},
				converters: {
					"text script": function(a) {
						return fa.globalEval(a), a
					}
				}
			}), fa.ajaxPrefilter("script", function(a) {
				a.cache === b && (a.cache = !1), a.crossDomain && (a.type = "GET")
			}), fa.ajaxTransport("script", function(a) {
				if (a.crossDomain) {
					var b, c;
					return {
						send: function(d, e) {
							b = fa("<script>").prop({
								async: !0,
								charset: a.scriptCharset,
								src: a.url
							}).on("load error", c = function(a) {
								b.remove(), c = null, a && e("error" === a.type ? 404 : 200, a.type)
							}), T.head.appendChild(b[0])
						},
						abort: function() {
							c && c()
						}
					}
				}
			});
			var vb = [],
				wb = /(=)\?(?=&|$)|\?\?/;
			fa.ajaxSetup({
				jsonp: "callback",
				jsonpCallback: function() {
					var a = vb.pop() || fa.expando + "_" + hb++;
					return this[a] = !0, a
				}
			}), fa.ajaxPrefilter("json jsonp", function(c, d, e) {
				var f, g, h, i = c.jsonp !== !1 && (wb.test(c.url) ? "url" : "string" == typeof c.data && !(c.contentType || "").indexOf("application/x-www-form-urlencoded") && wb.test(c.data) && "data");
				return i || "jsonp" === c.dataTypes[0] ? (f = c.jsonpCallback = fa.isFunction(c.jsonpCallback) ? c.jsonpCallback() : c.jsonpCallback, i ? c[i] = c[i].replace(wb, "$1" + f) : c.jsonp !== !1 && (c.url += (ib.test(c.url) ? "&" : "?") + c.jsonp + "=" + f), c.converters["script json"] = function() {
					return h || fa.error(f + " was not called"), h[0]
				}, c.dataTypes[0] = "json", g = a[f], a[f] = function() {
					h = arguments
				}, e.always(function() {
					a[f] = g, c[f] && (c.jsonpCallback = d.jsonpCallback, vb.push(f)), h && fa.isFunction(g) && g(h[0]), h = g = b
				}), "script") : void 0
			}), fa.ajaxSettings.xhr = function() {
				try {
					return new XMLHttpRequest
				} catch (a) {}
			};
			var xb = fa.ajaxSettings.xhr(),
				yb = {
					0: 200,
					1223: 204
				},
				zb = 0,
				Ab = {};
			a.ActiveXObject && fa(a).on("unload", function() {
				for (var a in Ab) Ab[a]();
				Ab = b
			}), fa.support.cors = !!xb && "withCredentials" in xb, fa.support.ajax = xb = !!xb, fa.ajaxTransport(function(a) {
				var c;
				return fa.support.cors || xb && !a.crossDomain ? {
					send: function(d, e) {
						var f, g, h = a.xhr();
						if (h.open(a.type, a.url, a.async, a.username, a.password), a.xhrFields)
							for (f in a.xhrFields) h[f] = a.xhrFields[f];
						a.mimeType && h.overrideMimeType && h.overrideMimeType(a.mimeType), a.crossDomain || d["X-Requested-With"] || (d["X-Requested-With"] = "XMLHttpRequest");
						for (f in d) h.setRequestHeader(f, d[f]);
						c = function(a) {
							return function() {
								c && (delete Ab[g], c = h.onload = h.onerror = null, "abort" === a ? h.abort() : "error" === a ? e(h.status || 404, h.statusText) : e(yb[h.status] || h.status, h.statusText, "string" == typeof h.responseText ? {
									text: h.responseText
								} : b, h.getAllResponseHeaders()))
							}
						}, h.onload = c(), h.onerror = c("error"), c = Ab[g = zb++] = c("abort"), h.send(a.hasContent && a.data || null)
					},
					abort: function() {
						c && c()
					}
				} : void 0
			});
			var Bb, Cb, Db = /^(?:toggle|show|hide)$/,
				Eb = new RegExp("^(?:([+-])=|)(" + ga + ")([a-z%]*)$", "i"),
				Fb = /queueHooks$/,
				Gb = [L],
				Hb = {
					"*": [function(a, b) {
						var c = this.createTween(a, b),
							d = c.cur(),
							e = Eb.exec(b),
							f = e && e[3] || (fa.cssNumber[a] ? "" : "px"),
							g = (fa.cssNumber[a] || "px" !== f && +d) && Eb.exec(fa.css(c.elem, a)),
							h = 1,
							i = 20;
						if (g && g[3] !== f) {
							f = f || g[3], e = e || [], g = +d || 1;
							do h = h || ".5", g /= h, fa.style(c.elem, a, g + f); while (h !== (h = c.cur() / d) && 1 !== h && --i)
						}
						return e && (g = c.start = +g || +d || 0, c.unit = f, c.end = e[1] ? g + (e[1] + 1) * e[2] : +e[2]), c
					}]
				};
			fa.Animation = fa.extend(J, {
				tweener: function(a, b) {
					fa.isFunction(a) ? (b = a, a = ["*"]) : a = a.split(" ");
					for (var c, d = 0, e = a.length; e > d; d++) c = a[d], Hb[c] = Hb[c] || [], Hb[c].unshift(b)
				},
				prefilter: function(a, b) {
					b ? Gb.unshift(a) : Gb.push(a)
				}
			}), fa.Tween = M, M.prototype = {
				constructor: M,
				init: function(a, b, c, d, e, f) {
					this.elem = a, this.prop = c, this.easing = e || "swing", this.options = b, this.start = this.now = this.cur(), this.end = d, this.unit = f || (fa.cssNumber[c] ? "" : "px")
				},
				cur: function() {
					var a = M.propHooks[this.prop];
					return a && a.get ? a.get(this) : M.propHooks._default.get(this)
				},
				run: function(a) {
					var b, c = M.propHooks[this.prop];
					return this.pos = b = this.options.duration ? fa.easing[this.easing](a, this.options.duration * a, 0, 1, this.options.duration) : a, this.now = (this.end - this.start) * b + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), c && c.set ? c.set(this) : M.propHooks._default.set(this), this
				}
			}, M.prototype.init.prototype = M.prototype, M.propHooks = {
				_default: {
					get: function(a) {
						var b;
						return null == a.elem[a.prop] || a.elem.style && null != a.elem.style[a.prop] ? (b = fa.css(a.elem, a.prop, ""), b && "auto" !== b ? b : 0) : a.elem[a.prop]
					},
					set: function(a) {
						fa.fx.step[a.prop] ? fa.fx.step[a.prop](a) : a.elem.style && (null != a.elem.style[fa.cssProps[a.prop]] || fa.cssHooks[a.prop]) ? fa.style(a.elem, a.prop, a.now + a.unit) : a.elem[a.prop] = a.now
					}
				}
			}, M.propHooks.scrollTop = M.propHooks.scrollLeft = {
				set: function(a) {
					a.elem.nodeType && a.elem.parentNode && (a.elem[a.prop] = a.now)
				}
			}, fa.each(["toggle", "show", "hide"], function(a, b) {
				var c = fa.fn[b];
				fa.fn[b] = function(a, d, e) {
					return null == a || "boolean" == typeof a ? c.apply(this, arguments) : this.animate(N(b, !0), a, d, e)
				}
			}), fa.fn.extend({
				fadeTo: function(a, b, c, d) {
					return this.filter(t).css("opacity", 0).show().end().animate({
						opacity: b
					}, a, c, d)
				},
				animate: function(a, b, c, d) {
					var e = fa.isEmptyObject(a),
						f = fa.speed(b, c, d),
						g = function() {
							var b = J(this, fa.extend({}, a), f);
							(e || qa.get(this, "finish")) && b.stop(!0)
						};
					return g.finish = g, e || f.queue === !1 ? this.each(g) : this.queue(f.queue, g)
				},
				stop: function(a, c, d) {
					var e = function(a) {
						var b = a.stop;
						delete a.stop, b(d)
					};
					return "string" != typeof a && (d = c, c = a, a = b), c && a !== !1 && this.queue(a || "fx", []), this.each(function() {
						var b = !0,
							c = null != a && a + "queueHooks",
							f = fa.timers,
							g = qa.get(this);
						if (c) g[c] && g[c].stop && e(g[c]);
						else
							for (c in g) g[c] && g[c].stop && Fb.test(c) && e(g[c]);
						for (c = f.length; c--;) f[c].elem !== this || null != a && f[c].queue !== a || (f[c].anim.stop(d), b = !1, f.splice(c, 1));
						(b || !d) && fa.dequeue(this, a)
					})
				},
				finish: function(a) {
					return a !== !1 && (a = a || "fx"), this.each(function() {
						var b, c = qa.get(this),
							d = c[a + "queue"],
							e = c[a + "queueHooks"],
							f = fa.timers,
							g = d ? d.length : 0;
						for (c.finish = !0, fa.queue(this, a, []), e && e.stop && e.stop.call(this, !0), b = f.length; b--;) f[b].elem === this && f[b].queue === a && (f[b].anim.stop(!0), f.splice(b, 1));
						for (b = 0; g > b; b++) d[b] && d[b].finish && d[b].finish.call(this);
						delete c.finish
					})
				}
			}), fa.each({
				slideDown: N("show"),
				slideUp: N("hide"),
				slideToggle: N("toggle"),
				fadeIn: {
					opacity: "show"
				},
				fadeOut: {
					opacity: "hide"
				},
				fadeToggle: {
					opacity: "toggle"
				}
			}, function(a, b) {
				fa.fn[a] = function(a, c, d) {
					return this.animate(b, a, c, d)
				}
			}), fa.speed = function(a, b, c) {
				var d = a && "object" == typeof a ? fa.extend({}, a) : {
					complete: c || !c && b || fa.isFunction(a) && a,
					duration: a,
					easing: c && b || b && !fa.isFunction(b) && b
				};
				return d.duration = fa.fx.off ? 0 : "number" == typeof d.duration ? d.duration : d.duration in fa.fx.speeds ? fa.fx.speeds[d.duration] : fa.fx.speeds._default, (null == d.queue || d.queue === !0) && (d.queue = "fx"), d.old = d.complete, d.complete = function() {
					fa.isFunction(d.old) && d.old.call(this), d.queue && fa.dequeue(this, d.queue)
				}, d
			}, fa.easing = {
				linear: function(a) {
					return a
				},
				swing: function(a) {
					return .5 - Math.cos(a * Math.PI) / 2
				}
			}, fa.timers = [], fa.fx = M.prototype.init, fa.fx.tick = function() {
				var a, c = fa.timers,
					d = 0;
				for (Bb = fa.now(); d < c.length; d++) a = c[d], a() || c[d] !== a || c.splice(d--, 1);
				c.length || fa.fx.stop(), Bb = b
			}, fa.fx.timer = function(a) {
				a() && fa.timers.push(a) && fa.fx.start()
			}, fa.fx.interval = 13, fa.fx.start = function() {
				Cb || (Cb = setInterval(fa.fx.tick, fa.fx.interval))
			}, fa.fx.stop = function() {
				clearInterval(Cb), Cb = null
			}, fa.fx.speeds = {
				slow: 600,
				fast: 200,
				_default: 400
			}, fa.fx.step = {}, fa.expr && fa.expr.filters && (fa.expr.filters.animated = function(a) {
				return fa.grep(fa.timers, function(b) {
					return a === b.elem
				}).length
			}), fa.fn.offset = function(a) {
				if (arguments.length) return a === b ? this : this.each(function(b) {
					fa.offset.setOffset(this, a, b)
				});
				var c, d, e = this[0],
					f = {
						top: 0,
						left: 0
					},
					g = e && e.ownerDocument;
				if (g) return c = g.documentElement, fa.contains(c, e) ? (typeof e.getBoundingClientRect !== R && (f = e.getBoundingClientRect()), d = O(g), {
					top: f.top + d.pageYOffset - c.clientTop,
					left: f.left + d.pageXOffset - c.clientLeft
				}) : f
			}, fa.offset = {
				setOffset: function(a, b, c) {
					var d, e, f, g, h, i, j, k = fa.css(a, "position"),
						l = fa(a),
						m = {};
					"static" === k && (a.style.position = "relative"), h = l.offset(), f = fa.css(a, "top"), i = fa.css(a, "left"), j = ("absolute" === k || "fixed" === k) && (f + i).indexOf("auto") > -1, j ? (d = l.position(), g = d.top, e = d.left) : (g = parseFloat(f) || 0, e = parseFloat(i) || 0), fa.isFunction(b) && (b = b.call(a, c, h)), null != b.top && (m.top = b.top - h.top + g), null != b.left && (m.left = b.left - h.left + e), "using" in b ? b.using.call(a, m) : l.css(m)
				}
			}, fa.fn.extend({
				position: function() {
					if (this[0]) {
						var a, b, c = this[0],
							d = {
								top: 0,
								left: 0
							};
						return "fixed" === fa.css(c, "position") ? b = c.getBoundingClientRect() : (a = this.offsetParent(), b = this.offset(), fa.nodeName(a[0], "html") || (d = a.offset()), d.top += fa.css(a[0], "borderTopWidth", !0), d.left += fa.css(a[0], "borderLeftWidth", !0)), {
							top: b.top - d.top - fa.css(c, "marginTop", !0),
							left: b.left - d.left - fa.css(c, "marginLeft", !0)
						}
					}
				},
				offsetParent: function() {
					return this.map(function() {
						for (var a = this.offsetParent || U; a && !fa.nodeName(a, "html") && "static" === fa.css(a, "position");) a = a.offsetParent;
						return a || U
					})
				}
			}), fa.each({
				scrollLeft: "pageXOffset",
				scrollTop: "pageYOffset"
			}, function(c, d) {
				var e = "pageYOffset" === d;
				fa.fn[c] = function(f) {
					return fa.access(this, function(c, f, g) {
						var h = O(c);
						return g === b ? h ? h[d] : c[f] : void(h ? h.scrollTo(e ? a.pageXOffset : g, e ? g : a.pageYOffset) : c[f] = g)
					}, c, f, arguments.length, null)
				}
			}), fa.each({
				Height: "height",
				Width: "width"
			}, function(a, c) {
				fa.each({
					padding: "inner" + a,
					content: c,
					"": "outer" + a
				}, function(d, e) {
					fa.fn[e] = function(e, f) {
						var g = arguments.length && (d || "boolean" != typeof e),
							h = d || (e === !0 || f === !0 ? "margin" : "border");
						return fa.access(this, function(c, d, e) {
							var f;
							return fa.isWindow(c) ? c.document.documentElement["client" + a] : 9 === c.nodeType ? (f = c.documentElement, Math.max(c.body["scroll" + a], f["scroll" + a], c.body["offset" + a], f["offset" + a], f["client" + a])) : e === b ? fa.css(c, d, h) : fa.style(c, d, e, h)
						}, c, g ? e : b, g, null)
					}
				})
			}), fa.fn.size = function() {
				return this.length
			}, fa.fn.andSelf = fa.fn.addBack, "object" == typeof module && module && "object" == typeof module.exports ? module.exports = fa : "function" == typeof define && define.amd && define("jquery", [], function() {
				return fa
			}), "object" == typeof a && "object" == typeof a.document && (a.jQuery = a.$ = fa)
		}(window),
		function(a, b, c) {
			function d(a, b, c) {
				for (var d = [], e = 0; e < a.length; e++) {
					var f = tinycolor(a[e]),
						g = f.toHsl().l < .5 ? "sp-thumb-el sp-thumb-dark" : "sp-thumb-el sp-thumb-light";
					g += tinycolor.equals(b, a[e]) ? " sp-thumb-active" : "";
					var h = q ? "background-color:" + f.toRgbString() : "filter:" + f.toFilter();
					d.push('<span title="' + f.toRgbString() + '" data-color="' + f.toRgbString() + '" class="' + g + '"><span class="sp-thumb-inner" style="' + h + ';" /></span>')
				}
				return "<div class='sp-cf " + c + "'>" + d.join("") + "</div>"
			}

			function e() {
				for (var a = 0; a < o.length; a++) o[a] && o[a].hide()
			}

			function f(a, c) {
				var d = b.extend({}, n, a);
				return d.callbacks = {
					move: k(d.move, c),
					change: k(d.change, c),
					show: k(d.show, c),
					hide: k(d.hide, c),
					beforeShow: k(d.beforeShow, c)
				}, d
			}

			function g(g, i) {
				function k() {
					qa.toggleClass("sp-flat", R), qa.toggleClass("sp-input-disabled", !Q.showInput), qa.toggleClass("sp-alpha-enabled", Q.showAlpha), qa.toggleClass("sp-buttons-disabled", !Q.showButtons || R), qa.toggleClass("sp-palette-disabled", !Q.showPalette), qa.toggleClass("sp-palette-only", Q.showPaletteOnly), qa.toggleClass("sp-initial-disabled", !Q.showInitial), qa.addClass(Q.className), L()
				}

				function n() {
					function c(a) {
						return a.data && a.data.ignore ? (E(b(this).data("color")), H()) : (E(b(this).data("color")), K(!0), H(), C()), !1
					}
					if (p && qa.find("*:not(input)").attr("unselectable", "on"), k(), Ea && oa.after(Fa).hide(), R) oa.after(qa).hide();
					else {
						var d = "parent" === Q.appendTo ? oa.parent() : b(Q.appendTo);
						1 !== d.length && (d = b("body")), d.append(qa)
					}
					if (T && a.localStorage) {
						try {
							var e = a.localStorage[T].split(",#");
							e.length > 1 && (delete a.localStorage[T],
								b.each(e, function(a, b) {
									t(b)
								}))
						} catch (f) {}
						try {
							ka = a.localStorage[T].split(";")
						} catch (f) {}
					}
					Ga.bind("click.spectrum touchstart.spectrum", function(a) {
						pa || A(), a.stopPropagation(), b(a.target).is("input") || a.preventDefault()
					}), (oa.is(":disabled") || Q.disabled === !0) && P(), qa.click(j), ya.change(z), ya.bind("paste", function() {
						setTimeout(z, 1)
					}), ya.keydown(function(a) {
						13 == a.keyCode && z()
					}), Ba.text(Q.cancelText), Ba.bind("click.spectrum", function(a) {
						a.stopPropagation(), a.preventDefault(), C("cancel")
					}), Ca.text(Q.chooseText), Ca.bind("click.spectrum", function(a) {
						a.stopPropagation(), a.preventDefault(), G() && (K(!0), C())
					}), l(wa, function(a, b, c) {
						ha = a / ba, c.shiftKey && (ha = Math.round(10 * ha) / 10), H()
					}), l(ta, function(a, b) {
						ea = parseFloat(b / _), H()
					}, x, y), l(ra, function(a, b) {
						fa = parseFloat(a / Y), ga = parseFloat((Z - b) / Z), H()
					}, x, y), Ia ? (E(Ia), I(), La = Ka || tinycolor(Ia).format, t(Ia)) : I(), R && B();
					var g = p ? "mousedown.spectrum" : "click.spectrum touchstart.spectrum";
					za.delegate(".sp-thumb-el", g, c), Aa.delegate(".sp-thumb-el:nth-child(1)", g, {
						ignore: !0
					}, c)
				}

				function t(c) {
					if (S) {
						var d = tinycolor(c).toRgbString();
						if (-1 === b.inArray(d, ka))
							for (ka.push(d); ka.length > la;) ka.shift();
						if (T && a.localStorage) try {
							a.localStorage[T] = ka.join(";")
						} catch (e) {}
					}
				}

				function u() {
					var a, b = [],
						c = ka,
						d = {};
					if (Q.showPalette) {
						for (var e = 0; e < ja.length; e++)
							for (var f = 0; f < ja[e].length; f++) a = tinycolor(ja[e][f]).toRgbString(), d[a] = !0;
						for (e = 0; e < c.length; e++) a = tinycolor(c[e]).toRgbString(), d.hasOwnProperty(a) || (b.push(c[e]), d[a] = !0)
					}
					return b.reverse().slice(0, Q.maxSelectionSize)
				}

				function v() {
					var a = F(),
						c = b.map(ja, function(b, c) {
							return d(b, a, "sp-palette-row sp-palette-row-" + c)
						});
					ka && c.push(d(u(), a, "sp-palette-row sp-palette-row-selection")), za.html(c.join(""))
				}

				function w() {
					if (Q.showInitial) {
						var a = Ja,
							b = F();
						Aa.html(d([a, b], b, "sp-palette-row-initial"))
					}
				}

				function x() {
					(0 >= Z || 0 >= Y || 0 >= _) && L(), qa.addClass(ma)
				}

				function y() {
					qa.removeClass(ma)
				}

				function z() {
					var a = tinycolor(ya.val());
					a.ok ? E(a) : ya.addClass("sp-validation-error")
				}

				function A() {
					X ? C() : B()
				}

				function B() {
					var c = b.Event("beforeShow.spectrum");
					return X ? void L() : (oa.trigger(c, [F()]), void(V.beforeShow(F()) === !1 || c.isDefaultPrevented() || (e(), X = !0, b(na).bind("click.spectrum", C), b(a).bind("resize.spectrum", W), Fa.addClass("sp-active"), qa.removeClass("sp-hidden"), Q.showPalette && v(), L(), I(), Ja = F(), w(), V.show(Ja), oa.trigger("show.spectrum", [Ja]))))
				}

				function C(c) {
					if ((!c || "click" != c.type || 2 != c.button) && X && !R) {
						X = !1, b(na).unbind("click.spectrum", C), b(a).unbind("resize.spectrum", W), Fa.removeClass("sp-active"), qa.addClass("sp-hidden");
						var d = !tinycolor.equals(F(), Ja);
						d && (Ma && "cancel" !== c ? K(!0) : D()), V.hide(F()), oa.trigger("hide.spectrum", [F()])
					}
				}

				function D() {
					E(Ja, !0)
				}

				function E(a, b) {
					if (!tinycolor.equals(a, F())) {
						var c = tinycolor(a),
							d = c.toHsv();
						ea = d.h, fa = d.s, ga = d.v, ha = d.a, I(), c.ok && !b && (La = Ka || c.format)
					}
				}

				function F(a) {
					return a = a || {}, tinycolor.fromRatio({
						h: ea,
						s: fa,
						v: ga,
						a: Math.round(100 * ha) / 100
					}, {
						format: a.format || La
					})
				}

				function G() {
					return !ya.hasClass("sp-validation-error")
				}

				function H() {
					I(), V.move(F()), oa.trigger("move.spectrum", [F()])
				}

				function I() {
					ya.removeClass("sp-validation-error"), J();
					var a = tinycolor.fromRatio({
						h: ea,
						s: 1,
						v: 1
					});
					ra.css("background-color", a.toHexString());
					var b = La;
					1 > ha && ("hex" === b || "hex3" === b || "hex6" === b || "name" === b) && (b = "rgb");
					var c = F({
							format: b
						}),
						d = c.toHexString(),
						e = c.toRgbString();
					if (q || 1 === c.alpha ? Ha.css("background-color", e) : (Ha.css("background-color", "transparent"), Ha.css("filter", c.toFilter())), Q.showAlpha) {
						var f = c.toRgb();
						f.a = 0;
						var g = tinycolor(f).toRgbString(),
							h = "linear-gradient(left, " + g + ", " + d + ")";
						p ? va.css("filter", tinycolor(g).toFilter({
							gradientType: 1
						}, d)) : (va.css("background", "-webkit-" + h), va.css("background", "-moz-" + h), va.css("background", "-ms-" + h), va.css("background", h))
					}
					Q.showInput && ya.val(c.toString(b)), Q.showPalette && v(), w()
				}

				function J() {
					var a = fa,
						b = ga,
						c = a * Y,
						d = Z - b * Z;
					c = Math.max(-$, Math.min(Y - $, c - $)), d = Math.max(-$, Math.min(Z - $, d - $)), sa.css({
						top: d,
						left: c
					});
					var e = ha * ba;
					xa.css({
						left: e - ca / 2
					});
					var f = ea * _;
					ua.css({
						top: f - da
					})
				}

				function K(a) {
					var b = F();
					Da && oa.val(b.toString(La)).change();
					var c = !tinycolor.equals(b, Ja);
					Ja = b, t(b), a && c && (V.change(b), oa.trigger("change.spectrum", [b]))
				}

				function L() {
					Y = ra.width(), Z = ra.height(), $ = sa.height(), aa = ta.width(), _ = ta.height(), da = ua.height(), ba = wa.width(), ca = xa.width(), R || (qa.css("position", "absolute"), qa.offset(h(qa, Ga))), J()
				}

				function M() {
					oa.show(), Ga.unbind("click.spectrum touchstart.spectrum"), qa.remove(), Fa.remove(), o[Na.id] = null
				}

				function N(a, d) {
					return a === c ? b.extend({}, Q) : d === c ? Q[a] : (Q[a] = d, void k())
				}

				function O() {
					pa = !1, oa.attr("disabled", !1), Ga.removeClass("sp-disabled")
				}

				function P() {
					C(), pa = !0, oa.attr("disabled", !0), Ga.addClass("sp-disabled")
				}
				var Q = f(i, g),
					R = Q.flat,
					S = Q.showSelectionPalette,
					T = Q.localStorageKey,
					U = Q.theme,
					V = Q.callbacks,
					W = m(L, 10),
					X = !1,
					Y = 0,
					Z = 0,
					$ = 0,
					_ = 0,
					aa = 0,
					ba = 0,
					ca = 0,
					da = 0,
					ea = 0,
					fa = 0,
					ga = 0,
					ha = 1,
					ia = Q.palette.slice(0),
					ja = b.isArray(ia[0]) ? ia : [ia],
					ka = Q.selectionPalette.slice(0),
					la = Q.maxSelectionSize,
					ma = "sp-dragging",
					na = g.ownerDocument,
					oa = (na.body, b(g)),
					pa = !1,
					qa = b(s, na).addClass(U),
					ra = qa.find(".sp-color"),
					sa = qa.find(".sp-dragger"),
					ta = qa.find(".sp-hue"),
					ua = qa.find(".sp-slider"),
					va = qa.find(".sp-alpha-inner"),
					wa = qa.find(".sp-alpha"),
					xa = qa.find(".sp-alpha-handle"),
					ya = qa.find(".sp-input"),
					za = qa.find(".sp-palette"),
					Aa = qa.find(".sp-initial"),
					Ba = qa.find(".sp-cancel"),
					Ca = qa.find(".sp-choose"),
					Da = oa.is("input"),
					Ea = Da && !R,
					Fa = Ea ? b(r).addClass(U).addClass(Q.className) : b([]),
					Ga = Ea ? Fa : oa,
					Ha = Fa.find(".sp-preview-inner"),
					Ia = Q.color || Da && oa.val(),
					Ja = !1,
					Ka = Q.preferredFormat,
					La = Ka,
					Ma = !Q.showButtons || Q.clickoutFiresChange;
				n();
				var Na = {
					show: B,
					hide: C,
					toggle: A,
					reflow: L,
					option: N,
					enable: O,
					disable: P,
					set: function(a) {
						E(a), K()
					},
					get: F,
					destroy: M,
					container: qa
				};
				return Na.id = o.push(Na) - 1, Na
			}

			function h(a, c) {
				var d = 0,
					e = a.outerWidth(),
					f = a.outerHeight(),
					g = c.outerHeight(),
					h = a[0].ownerDocument,
					i = h.documentElement,
					j = i.clientWidth + b(h).scrollLeft(),
					k = i.clientHeight + b(h).scrollTop(),
					l = c.offset();
				return l.top += g, l.left -= Math.min(l.left, l.left + e > j && j > e ? Math.abs(l.left + e - j) : 0), l.top -= Math.min(l.top, l.top + f > k && k > f ? Math.abs(f + g - d) : d), l
			}

			function i() {}

			function j(a) {
				a.stopPropagation()
			}

			function k(a, b) {
				var c = Array.prototype.slice,
					d = c.call(arguments, 2);
				return function() {
					return a.apply(b, d.concat(c.call(arguments)))
				}
			}

			function l(c, d, e, f) {
				function g(a) {
					a.stopPropagation && a.stopPropagation(), a.preventDefault && a.preventDefault(), a.returnValue = !1
				}

				function h(a) {
					if (l) {
						if (p && document.documentMode < 9 && !a.button) return j();
						var b = a.originalEvent.touches,
							e = b ? b[0].pageX : a.pageX,
							f = b ? b[0].pageY : a.pageY,
							h = Math.max(0, Math.min(e - m.left, o)),
							i = Math.max(0, Math.min(f - m.top, n));
						q && g(a), d.apply(c, [h, i, a])
					}
				}

				function i(a) {
					{
						var d = a.which ? 3 == a.which : 2 == a.button;
						a.originalEvent.touches
					}
					d || l || e.apply(c, arguments) !== !1 && (l = !0, n = b(c).height(), o = b(c).width(), m = b(c).offset(), b(k).bind(r), b(k.body).addClass("sp-dragging"), q || h(a), g(a))
				}

				function j() {
					l && (b(k).unbind(r), b(k.body).removeClass("sp-dragging"), f.apply(c, arguments)), l = !1
				}
				d = d || function() {}, e = e || function() {}, f = f || function() {};
				var k = c.ownerDocument || document,
					l = !1,
					m = {},
					n = 0,
					o = 0,
					q = "ontouchstart" in a,
					r = {};
				r.selectstart = g, r.dragstart = g, r[q ? "touchmove" : "mousemove"] = h, r[q ? "touchend" : "mouseup"] = j, b(c).bind(q ? "touchstart" : "mousedown", i)
			}

			function m(a, b, c) {
				var d;
				return function() {
					var e = this,
						f = arguments,
						g = function() {
							d = null, a.apply(e, f)
						};
					c && clearTimeout(d), (c || !d) && (d = setTimeout(g, b))
				}
			}
			var n = {
					beforeShow: i,
					move: i,
					change: i,
					show: i,
					hide: i,
					color: !1,
					flat: !1,
					showInput: !1,
					showButtons: !0,
					clickoutFiresChange: !1,
					showInitial: !1,
					showPalette: !1,
					showPaletteOnly: !1,
					showSelectionPalette: !0,
					localStorageKey: !1,
					appendTo: "body",
					maxSelectionSize: 7,
					cancelText: "cancel",
					chooseText: "choose",
					preferredFormat: !1,
					className: "",
					showAlpha: !1,
					theme: "sp-light",
					palette: ["fff", "000"],
					selectionPalette: [],
					disabled: !1
				},
				o = [],
				p = !!/msie/i.exec(a.navigator.userAgent),
				q = function() {
					function a(a, b) {
						return !!~("" + a).indexOf(b)
					}
					var b = document.createElement("div"),
						c = b.style;
					return c.cssText = "background-color:rgba(0,0,0,.5)", a(c.backgroundColor, "rgba") || a(c.backgroundColor, "hsla")
				}(),
				r = ["<div class='sp-replacer'>", "<div class='sp-preview'><div class='sp-preview-inner'></div></div>", "<div class='sp-dd'>&#9660;</div>", "</div>"].join(""),
				s = function() {
					var a = "";
					if (p)
						for (var b = 1; 6 >= b; b++) a += "<div class='sp-" + b + "'></div>";
					return ["<div class='sp-container sp-hidden'>", "<div class='sp-palette-container'>", "<div class='sp-palette sp-thumb sp-cf'></div>", "</div>", "<div class='sp-picker-container'>", "<div class='sp-top sp-cf'>", "<div class='sp-fill'></div>", "<div class='sp-top-inner'>", "<div class='sp-color'>", "<div class='sp-sat'>", "<div class='sp-val'>", "<div class='sp-dragger'></div>", "</div>", "</div>", "</div>", "<div class='sp-hue'>", "<div class='sp-slider'></div>", a, "</div>", "</div>", "<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>", "</div>", "<div class='sp-input-container sp-cf'>", "<input class='sp-input' type='text' spellcheck='false'  />", "</div>", "<div class='sp-initial sp-thumb sp-cf'></div>", "</div>", "</div>"].join("")
				}(),
				t = function() {};
			a.console && (t = Function.prototype.bind ? Function.prototype.bind.call(console.log, console) : function() {
				Function.prototype.apply.call(console.log, console, arguments)
			});
			var u = "spectrum.id";
			b.fn.spectrum = function(a) {
					if ("string" == typeof a) {
						var c = this,
							d = Array.prototype.slice.call(arguments, 1);
						return this.each(function() {
							var e = o[b(this).data(u)];
							if (e) {
								var f = e[a];
								if (!f) throw new Error("Spectrum: no such method: '" + a + "'");
								"get" == a ? c = e.get() : "container" == a ? c = e.container : "option" == a ? c = e.option.apply(e, d) : "destroy" == a ? (e.destroy(), b(this).removeData(u)) : f.apply(e, d)
							}
						}), c
					}
					return this.spectrum("destroy").each(function() {
						var c = g(this, a);
						b(this).data(u, c.id)
					})
				}, b.fn.spectrum.load = !0, b.fn.spectrum.loadOpts = {}, b.fn.spectrum.draggable = l, b.fn.spectrum.defaults = n, b.spectrum = {}, b.spectrum.localization = {}, b.spectrum.palettes = {}, b.fn.spectrum.processNativeColorInputs = function() {
					var a = b("<input type='color' value='!' />")[0],
						c = "color" === a.type && "!" != a.value;
					c || b("input[type=color]").spectrum({
						preferredFormat: "hex6"
					})
				},
				function(a) {
					function b(a, d) {
						if (a = a ? a : "", d = d || {}, "object" == typeof a && a.hasOwnProperty("_tc_id")) return a;
						var f = c(a),
							h = f.r,
							j = f.g,
							l = f.b,
							m = f.a,
							n = w(100 * m) / 100,
							o = d.format || f.format;
						return 1 > h && (h = w(h)), 1 > j && (j = w(j)), 1 > l && (l = w(l)), {
							ok: f.ok,
							format: o,
							_tc_id: u++,
							alpha: m,
							toHsv: function() {
								var a = g(h, j, l);
								return {
									h: 360 * a.h,
									s: a.s,
									v: a.v,
									a: m
								}
							},
							toHsvString: function() {
								var a = g(h, j, l),
									b = w(360 * a.h),
									c = w(100 * a.s),
									d = w(100 * a.v);
								return 1 == m ? "hsv(" + b + ", " + c + "%, " + d + "%)" : "hsva(" + b + ", " + c + "%, " + d + "%, " + n + ")"
							},
							toHsl: function() {
								var a = e(h, j, l);
								return {
									h: 360 * a.h,
									s: a.s,
									l: a.l,
									a: m
								}
							},
							toHslString: function() {
								var a = e(h, j, l),
									b = w(360 * a.h),
									c = w(100 * a.s),
									d = w(100 * a.l);
								return 1 == m ? "hsl(" + b + ", " + c + "%, " + d + "%)" : "hsla(" + b + ", " + c + "%, " + d + "%, " + n + ")"
							},
							toHex: function(a) {
								return i(h, j, l, a)
							},
							toHexString: function(a) {
								return "#" + i(h, j, l, a)
							},
							toRgb: function() {
								return {
									r: w(h),
									g: w(j),
									b: w(l),
									a: m
								}
							},
							toRgbString: function() {
								return 1 == m ? "rgb(" + w(h) + ", " + w(j) + ", " + w(l) + ")" : "rgba(" + w(h) + ", " + w(j) + ", " + w(l) + ", " + n + ")"
							},
							toPercentageRgb: function() {
								return {
									r: w(100 * k(h, 255)) + "%",
									g: w(100 * k(j, 255)) + "%",
									b: w(100 * k(l, 255)) + "%",
									a: m
								}
							},
							toPercentageRgbString: function() {
								return 1 == m ? "rgb(" + w(100 * k(h, 255)) + "%, " + w(100 * k(j, 255)) + "%, " + w(100 * k(l, 255)) + "%)" : "rgba(" + w(100 * k(h, 255)) + "%, " + w(100 * k(j, 255)) + "%, " + w(100 * k(l, 255)) + "%, " + n + ")"
							},
							toName: function() {
								return B[i(h, j, l, !0)] || !1
							},
							toFilter: function(a) {
								var c = i(h, j, l),
									e = c,
									f = Math.round(255 * parseFloat(m)).toString(16),
									g = f,
									k = d && d.gradientType ? "GradientType = 1, " : "";
								if (a) {
									var n = b(a);
									e = n.toHex(), g = Math.round(255 * parseFloat(n.alpha)).toString(16)
								}
								return "progid:DXImageTransform.Microsoft.gradient(" + k + "startColorstr=#" + p(f) + c + ",endColorstr=#" + p(g) + e + ")"
							},
							toString: function(a) {
								a = a || this.format;
								var b = !1;
								return "rgb" === a && (b = this.toRgbString()), "prgb" === a && (b = this.toPercentageRgbString()), ("hex" === a || "hex6" === a) && (b = this.toHexString()), "hex3" === a && (b = this.toHexString(!0)), "name" === a && (b = this.toName()), "hsl" === a && (b = this.toHslString()), "hsv" === a && (b = this.toHsvString()), b || this.toHexString()
							}
						}
					}

					function c(a) {
						var b = {
								r: 0,
								g: 0,
								b: 0
							},
							c = 1,
							e = !1,
							g = !1;
						return "string" == typeof a && (a = r(a)), "object" == typeof a && (a.hasOwnProperty("r") && a.hasOwnProperty("g") && a.hasOwnProperty("b") ? (b = d(a.r, a.g, a.b), e = !0, g = "%" === String(a.r).substr(-1) ? "prgb" : "rgb") : a.hasOwnProperty("h") && a.hasOwnProperty("s") && a.hasOwnProperty("v") ? (a.s = q(a.s), a.v = q(a.v), b = h(a.h, a.s, a.v), e = !0, g = "hsv") : a.hasOwnProperty("h") && a.hasOwnProperty("s") && a.hasOwnProperty("l") && (a.s = q(a.s), a.l = q(a.l), b = f(a.h, a.s, a.l), e = !0, g = "hsl"), a.hasOwnProperty("a") && (c = a.a)), c = parseFloat(c), (isNaN(c) || 0 > c || c > 1) && (c = 1), {
							ok: e,
							format: a.format || g,
							r: x(255, y(b.r, 0)),
							g: x(255, y(b.g, 0)),
							b: x(255, y(b.b, 0)),
							a: c
						}
					}

					function d(a, b, c) {
						return {
							r: 255 * k(a, 255),
							g: 255 * k(b, 255),
							b: 255 * k(c, 255)
						}
					}

					function e(a, b, c) {
						a = k(a, 255), b = k(b, 255), c = k(c, 255);
						var d, e, f = y(a, b, c),
							g = x(a, b, c),
							h = (f + g) / 2;
						if (f == g) d = e = 0;
						else {
							var i = f - g;
							switch (e = h > .5 ? i / (2 - f - g) : i / (f + g), f) {
								case a:
									d = (b - c) / i + (c > b ? 6 : 0);
									break;
								case b:
									d = (c - a) / i + 2;
									break;
								case c:
									d = (a - b) / i + 4
							}
							d /= 6
						}
						return {
							h: d,
							s: e,
							l: h
						}
					}

					function f(a, b, c) {
						function d(a, b, c) {
							return 0 > c && (c += 1), c > 1 && (c -= 1), 1 / 6 > c ? a + 6 * (b - a) * c : .5 > c ? b : 2 / 3 > c ? a + (b - a) * (2 / 3 - c) * 6 : a
						}
						var e, f, g;
						if (a = k(a, 360), b = k(b, 100), c = k(c, 100), 0 === b) e = f = g = c;
						else {
							var h = .5 > c ? c * (1 + b) : c + b - c * b,
								i = 2 * c - h;
							e = d(i, h, a + 1 / 3), f = d(i, h, a), g = d(i, h, a - 1 / 3)
						}
						return {
							r: 255 * e,
							g: 255 * f,
							b: 255 * g
						}
					}

					function g(a, b, c) {
						a = k(a, 255), b = k(b, 255), c = k(c, 255);
						var d, e, f = y(a, b, c),
							g = x(a, b, c),
							h = f,
							i = f - g;
						if (e = 0 === f ? 0 : i / f, f == g) d = 0;
						else {
							switch (f) {
								case a:
									d = (b - c) / i + (c > b ? 6 : 0);
									break;
								case b:
									d = (c - a) / i + 2;
									break;
								case c:
									d = (a - b) / i + 4
							}
							d /= 6
						}
						return {
							h: d,
							s: e,
							v: h
						}
					}

					function h(a, b, c) {
						a = 6 * k(a, 360), b = k(b, 100), c = k(c, 100);
						var d = v.floor(a),
							e = a - d,
							f = c * (1 - b),
							g = c * (1 - e * b),
							h = c * (1 - (1 - e) * b),
							i = d % 6,
							j = [c, g, f, f, h, c][i],
							l = [h, c, c, g, f, f][i],
							m = [f, f, h, c, c, g][i];
						return {
							r: 255 * j,
							g: 255 * l,
							b: 255 * m
						}
					}

					function i(a, b, c, d) {
						var e = [p(w(a).toString(16)), p(w(b).toString(16)), p(w(c).toString(16))];
						return d && e[0].charAt(0) == e[0].charAt(1) && e[1].charAt(0) == e[1].charAt(1) && e[2].charAt(0) == e[2].charAt(1) ? e[0].charAt(0) + e[1].charAt(0) + e[2].charAt(0) : e.join("")
					}

					function j(a) {
						var b = {};
						for (var c in a) a.hasOwnProperty(c) && (b[a[c]] = c);
						return b
					}

					function k(a, b) {
						n(a) && (a = "100%");
						var c = o(a);
						return a = x(b, y(0, parseFloat(a))), c && (a = parseInt(a * b, 10) / 100), v.abs(a - b) < 1e-6 ? 1 : a % b / parseFloat(b)
					}

					function l(a) {
						return x(1, y(0, a))
					}

					function m(a) {
						return parseInt(a, 16)
					}

					function n(a) {
						return "string" == typeof a && -1 != a.indexOf(".") && 1 === parseFloat(a)
					}

					function o(a) {
						return "string" == typeof a && -1 != a.indexOf("%")
					}

					function p(a) {
						return 1 == a.length ? "0" + a : "" + a
					}

					function q(a) {
						return 1 >= a && (a = 100 * a + "%"), a
					}

					function r(a) {
						a = a.replace(s, "").replace(t, "").toLowerCase();
						var b = !1;
						if (A[a]) a = A[a], b = !0;
						else if ("transparent" == a) return {
							r: 0,
							g: 0,
							b: 0,
							a: 0
						};
						var c;
						return (c = C.rgb.exec(a)) ? {
							r: c[1],
							g: c[2],
							b: c[3]
						} : (c = C.rgba.exec(a)) ? {
							r: c[1],
							g: c[2],
							b: c[3],
							a: c[4]
						} : (c = C.hsl.exec(a)) ? {
							h: c[1],
							s: c[2],
							l: c[3]
						} : (c = C.hsla.exec(a)) ? {
							h: c[1],
							s: c[2],
							l: c[3],
							a: c[4]
						} : (c = C.hsv.exec(a)) ? {
							h: c[1],
							s: c[2],
							v: c[3]
						} : (c = C.hex6.exec(a)) ? {
							r: m(c[1]),
							g: m(c[2]),
							b: m(c[3]),
							format: b ? "name" : "hex"
						} : (c = C.hex3.exec(a)) ? {
							r: m(c[1] + "" + c[1]),
							g: m(c[2] + "" + c[2]),
							b: m(c[3] + "" + c[3]),
							format: b ? "name" : "hex"
						} : !1
					}
					var s = /^[\s,#]+/,
						t = /\s+$/,
						u = 0,
						v = Math,
						w = v.round,
						x = v.min,
						y = v.max,
						z = v.random;
					b.fromRatio = function(a, c) {
						if ("object" == typeof a) {
							var d = {};
							for (var e in a) a.hasOwnProperty(e) && (d[e] = "a" === e ? a[e] : q(a[e]));
							a = d
						}
						return b(a, c)
					}, b.equals = function(a, c) {
						return a && c ? b(a).toRgbString() == b(c).toRgbString() : !1
					}, b.random = function() {
						return b.fromRatio({
							r: z(),
							g: z(),
							b: z()
						})
					}, b.desaturate = function(a, c) {
						var d = b(a).toHsl();
						return d.s -= (c || 10) / 100, d.s = l(d.s), b(d)
					}, b.saturate = function(a, c) {
						var d = b(a).toHsl();
						return d.s += (c || 10) / 100, d.s = l(d.s), b(d)
					}, b.greyscale = function(a) {
						return b.desaturate(a, 100)
					}, b.lighten = function(a, c) {
						var d = b(a).toHsl();
						return d.l += (c || 10) / 100, d.l = l(d.l), b(d)
					}, b.darken = function(a, c) {
						var d = b(a).toHsl();
						return d.l -= (c || 10) / 100, d.l = l(d.l), b(d)
					}, b.complement = function(a) {
						var c = b(a).toHsl();
						return c.h = (c.h + 180) % 360, b(c)
					}, b.triad = function(a) {
						var c = b(a).toHsl(),
							d = c.h;
						return [b(a), b({
							h: (d + 120) % 360,
							s: c.s,
							l: c.l
						}), b({
							h: (d + 240) % 360,
							s: c.s,
							l: c.l
						})]
					}, b.tetrad = function(a) {
						var c = b(a).toHsl(),
							d = c.h;
						return [b(a), b({
							h: (d + 90) % 360,
							s: c.s,
							l: c.l
						}), b({
							h: (d + 180) % 360,
							s: c.s,
							l: c.l
						}), b({
							h: (d + 270) % 360,
							s: c.s,
							l: c.l
						})]
					}, b.splitcomplement = function(a) {
						var c = b(a).toHsl(),
							d = c.h;
						return [b(a), b({
							h: (d + 72) % 360,
							s: c.s,
							l: c.l
						}), b({
							h: (d + 216) % 360,
							s: c.s,
							l: c.l
						})]
					}, b.analogous = function(a, c, d) {
						c = c || 6, d = d || 30;
						var e = b(a).toHsl(),
							f = 360 / d,
							g = [b(a)];
						for (e.h = (e.h - (f * c >> 1) + 720) % 360; --c;) e.h = (e.h + f) % 360, g.push(b(e));
						return g
					}, b.monochromatic = function(a, c) {
						c = c || 6;
						for (var d = b(a).toHsv(), e = d.h, f = d.s, g = d.v, h = [], i = 1 / c; c--;) h.push(b({
							h: e,
							s: f,
							v: g
						})), g = (g + i) % 1;
						return h
					}, b.readability = function(a, c) {
						var d = b(a).toRgb(),
							e = b(c).toRgb(),
							f = (299 * d.r + 587 * d.g + 114 * d.b) / 1e3,
							g = (299 * e.r + 587 * e.g + 114 * e.b) / 1e3,
							h = Math.max(d.r, e.r) - Math.min(d.r, e.r) + Math.max(d.g, e.g) - Math.min(d.g, e.g) + Math.max(d.b, e.b) - Math.min(d.b, e.b);
						return {
							brightness: Math.abs(f - g),
							color: h
						}
					}, b.readable = function(a, c) {
						var d = b.readability(a, c);
						return d.brightness > 125 && d.color > 500
					}, b.mostReadable = function(a, c) {
						for (var d = null, e = 0, f = !1, g = 0; g < c.length; g++) {
							var h = b.readability(a, c[g]),
								i = h.brightness > 125 && h.color > 500,
								j = 3 * (h.brightness / 125) + h.color / 500;
							(i && !f || i && f && j > e || !i && !f && j > e) && (f = i, e = j, d = b(c[g]))
						}
						return d
					};
					var A = b.names = {
							aliceblue: "f0f8ff",
							antiquewhite: "faebd7",
							aqua: "0ff",
							aquamarine: "7fffd4",
							azure: "f0ffff",
							beige: "f5f5dc",
							bisque: "ffe4c4",
							black: "000",
							blanchedalmond: "ffebcd",
							blue: "00f",
							blueviolet: "8a2be2",
							brown: "a52a2a",
							burlywood: "deb887",
							burntsienna: "ea7e5d",
							cadetblue: "5f9ea0",
							chartreuse: "7fff00",
							chocolate: "d2691e",
							coral: "ff7f50",
							cornflowerblue: "6495ed",
							cornsilk: "fff8dc",
							crimson: "dc143c",
							cyan: "0ff",
							darkblue: "00008b",
							darkcyan: "008b8b",
							darkgoldenrod: "b8860b",
							darkgray: "a9a9a9",
							darkgreen: "006400",
							darkgrey: "a9a9a9",
							darkkhaki: "bdb76b",
							darkmagenta: "8b008b",
							darkolivegreen: "556b2f",
							darkorange: "ff8c00",
							darkorchid: "9932cc",
							darkred: "8b0000",
							darksalmon: "e9967a",
							darkseagreen: "8fbc8f",
							darkslateblue: "483d8b",
							darkslategray: "2f4f4f",
							darkslategrey: "2f4f4f",
							darkturquoise: "00ced1",
							darkviolet: "9400d3",
							deeppink: "ff1493",
							deepskyblue: "00bfff",
							dimgray: "696969",
							dimgrey: "696969",
							dodgerblue: "1e90ff",
							firebrick: "b22222",
							floralwhite: "fffaf0",
							forestgreen: "228b22",
							fuchsia: "f0f",
							gainsboro: "dcdcdc",
							ghostwhite: "f8f8ff",
							gold: "ffd700",
							goldenrod: "daa520",
							gray: "808080",
							green: "008000",
							greenyellow: "adff2f",
							grey: "808080",
							honeydew: "f0fff0",
							hotpink: "ff69b4",
							indianred: "cd5c5c",
							indigo: "4b0082",
							ivory: "fffff0",
							khaki: "f0e68c",
							lavender: "e6e6fa",
							lavenderblush: "fff0f5",
							lawngreen: "7cfc00",
							lemonchiffon: "fffacd",
							lightblue: "add8e6",
							lightcoral: "f08080",
							lightcyan: "e0ffff",
							lightgoldenrodyellow: "fafad2",
							lightgray: "d3d3d3",
							lightgreen: "90ee90",
							lightgrey: "d3d3d3",
							lightpink: "ffb6c1",
							lightsalmon: "ffa07a",
							lightseagreen: "20b2aa",
							lightskyblue: "87cefa",
							lightslategray: "789",
							lightslategrey: "789",
							lightsteelblue: "b0c4de",
							lightyellow: "ffffe0",
							lime: "0f0",
							limegreen: "32cd32",
							linen: "faf0e6",
							magenta: "f0f",
							maroon: "800000",
							mediumaquamarine: "66cdaa",
							mediumblue: "0000cd",
							mediumorchid: "ba55d3",
							mediumpurple: "9370db",
							mediumseagreen: "3cb371",
							mediumslateblue: "7b68ee",
							mediumspringgreen: "00fa9a",
							mediumturquoise: "48d1cc",
							mediumvioletred: "c71585",
							midnightblue: "191970",
							mintcream: "f5fffa",
							mistyrose: "ffe4e1",
							moccasin: "ffe4b5",
							navajowhite: "ffdead",
							navy: "000080",
							oldlace: "fdf5e6",
							olive: "808000",
							olivedrab: "6b8e23",
							orange: "ffa500",
							orangered: "ff4500",
							orchid: "da70d6",
							palegoldenrod: "eee8aa",
							palegreen: "98fb98",
							paleturquoise: "afeeee",
							palevioletred: "db7093",
							papayawhip: "ffefd5",
							peachpuff: "ffdab9",
							peru: "cd853f",
							pink: "ffc0cb",
							plum: "dda0dd",
							powderblue: "b0e0e6",
							purple: "800080",
							red: "f00",
							rosybrown: "bc8f8f",
							royalblue: "4169e1",
							saddlebrown: "8b4513",
							salmon: "fa8072",
							sandybrown: "f4a460",
							seagreen: "2e8b57",
							seashell: "fff5ee",
							sienna: "a0522d",
							silver: "c0c0c0",
							skyblue: "87ceeb",
							slateblue: "6a5acd",
							slategray: "708090",
							slategrey: "708090",
							snow: "fffafa",
							springgreen: "00ff7f",
							steelblue: "4682b4",
							tan: "d2b48c",
							teal: "008080",
							thistle: "d8bfd8",
							tomato: "ff6347",
							turquoise: "40e0d0",
							violet: "ee82ee",
							wheat: "f5deb3",
							white: "fff",
							whitesmoke: "f5f5f5",
							yellow: "ff0",
							yellowgreen: "9acd32"
						},
						B = b.hexNames = j(A),
						C = function() {
							var a = "[-\\+]?\\d+%?",
								b = "[-\\+]?\\d*\\.\\d+%?",
								c = "(?:" + b + ")|(?:" + a + ")",
								d = "[\\s|\\(]+(" + c + ")[,|\\s]+(" + c + ")[,|\\s]+(" + c + ")\\s*\\)?",
								e = "[\\s|\\(]+(" + c + ")[,|\\s]+(" + c + ")[,|\\s]+(" + c + ")[,|\\s]+(" + c + ")\\s*\\)?";
							return {
								rgb: new RegExp("rgb" + d),
								rgba: new RegExp("rgba" + e),
								hsl: new RegExp("hsl" + d),
								hsla: new RegExp("hsla" + e),
								hsv: new RegExp("hsv" + d),
								hex3: /^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
								hex6: /^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/
							}
						}();
					a.tinycolor = b
				}(this), b(function() {
					b.fn.spectrum.load && b.fn.spectrum.processNativeColorInputs()
				})
		}(window, jQuery), define("colorpicker", ["jquery"], function() {}), define("strut/config/config", [], function() {
			var a = {
					slide: {
						size: {
							width: 1024,
							height: 768
						},
						overviewSize: {
							width: 75,
							height: 50
						},
						minSize: {
							height: 200
						},
						scale: 1
					},
					minViewportHeight: 200,
					minStepEditorHeight: 100
				},
				b = localStorage.getItem("Strut_sessionMeta");
			try {
				var c = JSON.parse(b)
			} catch (d) {}
			var c = c || {
				generator_index: 0
			};
			return window.config = a, window.sessionMeta = c, "localstorage" == window.sessionMeta.lastProvider && (window.sessionMeta.lastProvider = "largelocalstorage", window.__requiresStorageConversion = !0), a
		}), define("common/EventEmitter", [], function() {
			function a() {
				return this instanceof a ? (this._events = null, void(this._deferer = "undefined" != typeof process && "undefined" != typeof process.nextTick ? function(a, b, c) {
					process.nextTick(function() {
						a(b, c)
					})
				} : function(a, b, c) {
					setTimeout(function() {
						a(b, c)
					}, 0)
				})) : new a
			}
			return a.prototype = {
				_listeners: function(a) {
					var b = this._events || (this._events = {});
					return b[a] || (b[a] = [])
				},
				_emit: function(a, b) {
					if (a instanceof Array && (a = JSON.stringify(a)), this._events) {
						var c = this._events[a];
						if (c)
							for (var d = c.length; d--;) {
								var e = c[d];
								e && e.cb.apply(e.context, b)
							}
					}
				},
				_splice: function(a, b, c) {
					return a = Array.prototype.slice.call(a), a.splice(b, c)
				},
				_indexOfSub: function(a, b, c) {
					for (var d = 0; d < a.length; ++d)
						if (a[d].cb === b && a[d].context === c) return d;
					return -1
				},
				emit: function(a) {
					var b = arguments.length > 1 ? this._splice(arguments, 1, arguments.length) : [];
					this._emit(a, b)
				},
				trigger: function() {
					this.emit.apply(this, arguments)
				},
				emitDeferred: function(a) {
					var b = arguments.length > 1 ? this._splice(arguments, 1, arguments.length) : [];
					this._deferer(emit, a, b)
				},
				on: function(a, b, c) {
					if (!b) throw "Undefined callback provided";
					a instanceof Array && (a = JSON.stringify(a));
					var d = this._listeners(a),
						e = this._indexOfSub(d, b, c);
					0 > e && (d.push({
						cb: b,
						context: c
					}), e = d.length - 1);
					var f = this;
					return {
						dispose: function() {
							f.removeListener(a, b, c)
						}
					}
				},
				once: function(a, b, c) {
					var d = {
						sub: null
					};
					return d.sub = this.on(a, function() {
						d.sub.dispose(), b.apply(c, arguments)
					}), d.sub
				},
				removeListener: function(a, b, c) {
					var d = this._listeners(a),
						e = this._indexOfSub(d, b, c);
					e >= 0 && d.splice(e, 1), 0 == d.length && delete this._events[a]
				},
				getNumListeners: function(a) {
					var b = 0;
					return this._events[a] && (b = this._events[a].length), b
				},
				off: function(a, b, c) {
					this.removeListener(a, b, c)
				},
				removeAllListeners: function() {
					this._events = null
				}
			}, a
		}), define("common/collections/MultiMap", [], function() {
			"use strict";

			function a() {
				this._map = {}
			}
			return a.prototype = {
				put: function(a, b) {
					var c = this._map[a];
					return null == c && (c = [], this._map[a] = c), c.push(b), this
				},
				putAll: function(a, b) {
					var c = this._map[a];
					return null == c && (c = []), this._map[a] = c.concat(b), this
				},
				get: function(a) {
					var b = this._map[a];
					return b || []
				},
				remove: function(a, b) {
					var c = this._map[a],
						d = c.indexOf(b);
					return d >= 0 ? c.length <= 1 ? (this.removeAll(a), []) : (c.splice(d, 1), c) : void 0
				},
				removeAll: function(a) {
					return delete this._map[a], this
				},
				putIfAbsent: function(a, b) {
					var c = this._map[a];
					return null == c && (c = [], this._map[a] = c), c.indexOf(b) < 0 && c.push(b), this
				}
			}, a
		}),
		function() {
			function a(a, b) {
				return "undefined" == typeof a ? b : a
			}

			function b(a, b) {
				if (a !== b) {
					if (a > b || "undefined" == typeof a) return 1;
					if (b > a || "undefined" == typeof b) return -1
				}
				return 0
			}

			function c(a, b, c) {
				for (var d = (c || 0) - 1, e = a ? a.length : 0; ++d < e;)
					if (a[d] === b) return d;
				return -1
			}

			function d(a, b) {
				return a.has(b) ? 0 : -1
			}

			function e(a) {
				return a.charCodeAt(0)
			}

			function f(a, b) {
				for (var c = -1, d = a.length; ++c < d && !(b.indexOf(a.charAt(c)) < 0););
				return c
			}

			function g(a, b) {
				for (var c = a.length; c-- && !(b.indexOf(a.charAt(c)) < 0););
				return c
			}

			function h(a, c) {
				return b(a.criteria, c.criteria) || a.index - c.index
			}

			function i(a, c) {
				for (var d = -1, e = a.criteria, f = c.criteria, g = e.length; ++d < g;) {
					var h = b(e[d], f[d]);
					if (h) return h
				}
				return a.index - c.index
			}

			function j(a) {
				return function(b) {
					for (var c = -1, d = null != b && String(b).replace(S, k).match(X), e = d ? d.length : 0, f = ""; ++c < e;) f = a(f, d[c], c, d);
					return f
				}
			}

			function k(a) {
				return pa[a]
			}

			function l(a) {
				return na[a]
			}

			function m(a) {
				return "\\" + ra[a]
			}

			function n(a) {
				return "function" != typeof a.toString && "string" == typeof(a + "")
			}

			function o(a, b) {
				return (a = null == a ? "" : String(a)) ? null == b ? a.slice(r(a), s(a) + 1) : (b = String(b), a.slice(f(a, b), g(a, b) + 1)) : a
			}

			function p(a, b) {
				return (a = null == a ? "" : String(a)) ? null == b ? a.slice(r(a)) : (b = String(b), a.slice(f(a, b))) : a
			}

			function q(a, b) {
				return (a = null == a ? "" : String(a)) ? null == b ? a.slice(0, s(a) + 1) : (b = String(b), a.slice(0, g(a, b) + 1)) : a
			}

			function r(a) {
				for (var b = -1, c = a.length; ++b < c;) {
					var d = a.charCodeAt(b);
					if (!(160 >= d && d >= 9 && 13 >= d || 32 == d || 160 == d || 5760 == d || 6158 == d || d >= 8192 && (8202 >= d || 8232 == d || 8233 == d || 8239 == d || 8287 == d || 12288 == d || 65279 == d))) break
				}
				return b
			}

			function s(a) {
				for (var b = a.length; b--;) {
					var c = a.charCodeAt(b);
					if (!(160 >= c && c >= 9 && 13 >= c || 32 == c || 160 == c || 5760 == c || 6158 == c || c >= 8192 && (8202 >= c || 8232 == c || 8233 == c || 8239 == c || 8287 == c || 12288 == c || 65279 == c))) break
				}
				return b
			}

			function t(a) {
				return oa[a]
			}

			function u(b) {
				function f(a) {
					return a && "object" == typeof a && !re(a) && Ed.call(a, "__wrapped__") ? a : new g(a)
				}

				function g(a, b) {
					this.__chain__ = !!b, this.__wrapped__ = a
				}

				function k(a) {
					function b() {
						if (e) {
							for (var a = -1, g = arguments.length, h = fd(g); ++a < g;) h[a] = arguments[a];
							h = Ea(e, f, h)
						}
						if (this instanceof b) {
							var i = s(c.prototype),
								j = c.apply(i, h || arguments);
							return sc(j) ? j : i
						}
						return c.apply(d, h || arguments)
					}
					var c = a[0],
						d = a[3],
						e = a[4],
						f = a[6];
					return ce(b, a), b
				}

				function r(a, b, c, d, e) {
					if (c) {
						var f = c(a);
						if ("undefined" != typeof f) return f
					}
					var g = sc(a);
					if (!g) return a;
					var h = xd.call(a);
					if (!ka[h] || !ae.nodeClass && n(a)) return a;
					var i = $d[h];
					switch (h) {
						case ca:
						case da:
							return new i(+a);
						case ga:
						case ja:
							return new i(a);
						case ia:
							return f = i(a.source, P.exec(a)), f.lastIndex = a.lastIndex, f
					}
					var j = re(a);
					if (b) {
						d || (d = []), e || (e = []);
						for (var k = d.length; k--;)
							if (d[k] == a) return e[k];
						f = j ? i(a.length) : {}
					} else f = j ? ab(a) : Yb({}, a);
					return j && (Ed.call(a, "index") && (f.index = a.index), Ed.call(a, "input") && (f.input = a.input)), b ? (d.push(a), e.push(f), (j ? oa : wa)(a, function(a, g) {
						f[g] = r(a, b, c, d, e)
					}), f) : f
				}

				function s(a) {
					return sc(a) ? Nd(a) : {}
				}

				function S(a, b, c) {
					if ("function" != typeof a) return Wc;
					if ("undefined" == typeof b || !("prototype" in a)) return a;
					var d = a[D];
					if ("undefined" == typeof d && (ae.funcNames && (d = !a.name), d = d || !ae.funcDecomp, !d)) {
						var e = Cd.call(a);
						ae.funcNames || (d = !Q.test(e)), d || (d = V.test(e), ce(a, d))
					}
					if (d === !1 || d !== !0 && d[1] & w) return a;
					switch (c) {
						case 1:
							return function(c) {
								return a.call(b, c)
							};
						case 2:
							return function(c, d) {
								return a.call(b, c, d)
							};
						case 3:
							return function(c, d, e) {
								return a.call(b, c, d, e)
							};
						case 4:
							return function(c, d, e, f) {
								return a.call(b, c, d, e, f)
							}
					}
					return Jb(a, b)
				}

				function X(a) {
					function b() {
						for (var a = -1, p = arguments.length, q = fd(p); ++a < p;) q[a] = arguments[a];
						if (g && (q = Ea(g, i, q)), h && (q = Fa(h, j, q)), m) {
							var r = Ja(q);
							if (p -= r.length, e > p) {
								d |= A, d &= ~B, n || (d &= ~(w | x));
								var t = Sd(e - p, 0);
								return X([c, d, t, f, q, null, r])
							}
						}
						var u = k ? f : this;
						if (l && (c = u[o]), this instanceof b) {
							u = s(c.prototype);
							var v = c.apply(u, q);
							return sc(v) ? v : u
						}
						return c.apply(u, q)
					}
					var c = a[0],
						d = a[1],
						e = a[2],
						f = a[3],
						g = a[4],
						h = a[5],
						i = a[6],
						j = a[7],
						k = d & w,
						l = d & x,
						m = d & y,
						n = d & z,
						o = c;
					return ce(b, a), b
				}

				function na(a, b) {
					var e = a ? a.length : 0;
					if (!e) return [];
					var f = -1,
						g = Ka(),
						h = g === c,
						i = h && be && b && b.length >= 200,
						j = h && !i,
						k = [],
						l = b ? b.length : 0;
					i && (g = d, b = be(b));
					a: for (; ++f < e;) {
						var m = a[f];
						if (j) {
							for (var n = l; n--;)
								if (b[n] === m) continue a;
							k.push(m)
						} else g(b, m) < 0 && k.push(m)
					}
					return k
				}

				function oa(a, b) {
					var c = -1,
						d = a,
						e = a ? a.length : 0;
					if ("number" == typeof e && e > -1 && wd >= e)
						for (ae.unindexedChars && xc(d) && (d = d.split("")); ++c < e && b(d[c], c, a) !== !1;);
					else wa(a, b);
					return a
				}

				function pa(a, b) {
					var c = a,
						d = a ? a.length : 0;
					if ("number" == typeof d && d > -1 && wd >= d)
						for (ae.unindexedChars && xc(c) && (c = c.split("")); d-- && b(c[d], d, a) !== !1;);
					else ya(a, b);
					return a
				}

				function qa(a, b, c, d) {
					var e;
					return c(a, function(a, c, f) {
						return b(a, c, f) ? (e = d ? c : a, !1) : void 0
					}), e
				}

				function ra(a, b, c, d) {
					for (var e = (d || 0) - 1, f = a ? a.length : 0, g = []; ++e < f;) {
						var h = a[e];
						if (h && "object" == typeof h && "number" == typeof h.length && (re(h) || kc(h))) {
							b || (h = ra(h, b, c));
							var i = -1,
								j = h.length,
								k = g.length;
							for (g.length += j; ++i < j;) g[k++] = h[i]
						} else c || g.push(h)
					}
					return g
				}

				function ta(a, b, c) {
					for (var d = -1, e = c(a), f = e.length; ++d < f;) {
						var g = e[d];
						if (b(a[g], g, a) === !1) break
					}
					return a
				}

				function ua(a, b, c) {
					for (var d = c(a), e = d.length; e--;) {
						var f = d[e];
						if (b(a[f], f, a) === !1) break
					}
					return a
				}

				function va(a, b) {
					return ta(a, b, zc)
				}

				function wa(a, b) {
					return ta(a, b, te)
				}

				function ya(a, b) {
					return ua(a, b, te)
				}

				function za(a, b, c, d, e, f) {
					if (c) {
						var g = c(a, b);
						if ("undefined" != typeof g) return !!g
					}
					if (a === b) return 0 !== a || 1 / a == 1 / b;
					var h = typeof a,
						i = typeof b;
					if (a === a && (null == a || null == b || "function" != h && "object" != h && "function" != i && "object" != i)) return !1;
					var j = xd.call(a),
						k = xd.call(b),
						l = j == aa,
						m = k == aa;
					if (l && (j = ha), m && (k = ha), j != k) return !1;
					switch (j) {
						case ca:
						case da:
							return +a == +b;
						case ga:
							return a != +a ? b != +b : 0 == a ? 1 / a == 1 / b : a == +b;
						case ia:
						case ja:
							return a == od(b)
					}
					var o = j == ba;
					if (!o) {
						var p = Ed.call(a, "__wrapped__"),
							q = Ed.call(b, "__wrapped__");
						if (p || q) return za(p ? a.__wrapped__ : a, q ? b.__wrapped__ : b, c, d, e, f);
						if (j != ha || !ae.nodeClass && (n(a) || n(b))) return !1;
						ae.argsObject || (l = kc(a), m = kc(b));
						var r = !l && Ed.call(a, "constructor"),
							s = !m && Ed.call(b, "constructor");
						if (r != s) return !1;
						if (!r) {
							var t = l ? md : a.constructor,
								u = m ? md : b.constructor;
							if (t != u && !(rc(t) && t instanceof t && rc(u) && u instanceof u) && "constructor" in a && "constructor" in b) return !1
						}
					}
					e || (e = []), f || (f = []);
					for (var v = e.length; v--;)
						if (e[v] == a) return f[v] == b;
					var w = 0;
					if (g = !0, e.push(a), f.push(b), o) {
						if (v = a.length, w = b.length, g = w == v, g || d)
							for (; w--;) {
								var x = v,
									y = b[w];
								if (d)
									for (; x-- && !(g = za(a[x], y, c, d, e, f)););
								else if (!(g = za(a[w], y, c, d, e, f))) break
							}
					} else va(b, function(b, h, i) {
						return Ed.call(i, h) ? (w++, g = Ed.call(a, h) && za(a[h], b, c, d, e, f)) : void 0
					}), g && !d && va(a, function(a, b, c) {
						return Ed.call(c, b) ? g = --w > -1 : void 0
					});
					return e.pop(), f.pop(), g
				}

				function Aa(a, b, c, d, e) {
					(re(b) ? oa : wa)(b, function(b, f) {
						var g, h, i = b,
							j = a[f];
						if (b && ((h = re(b)) || se(b))) {
							for (var k = d.length; k--;)
								if (g = d[k] == b) {
									j = e[k];
									break
								}
							if (!g) {
								var l;
								c && (i = c(j, b), (l = "undefined" != typeof i) && (j = i)), l || (j = h ? re(j) ? j : [] : se(j) ? j : {}), d.push(b), e.push(j), l || Aa(j, b, c, d, e)
							}
						} else c && (i = c(j, b), "undefined" == typeof i && (i = b)), "undefined" != typeof i && (j = i);
						a[f] = j
					})
				}

				function Ba(a, b) {
					return a + Bd(Wd() * (b - a + 1))
				}

				function Ca(a, b, e) {
					var f = a ? a.length : 0;
					if (!f) return [];
					var g = -1,
						h = Ka(),
						i = !b && h === c,
						j = i && be && f >= 200,
						k = i && !j,
						l = [];
					if (j) {
						var m = be();
						h = d
					} else m = e && !b ? [] : l;
					a: for (; ++g < f;) {
						var n = a[g],
							o = e ? e(n, g, a) : n;
						if (k) {
							for (var p = m.length; p--;)
								if (m[p] === o) continue a;
							e && m.push(o), l.push(n)
						} else b ? g && m === o || (m = o, l.push(n)) : h(m, o) < 0 && ((e || j) && m.push(o), l.push(n))
					}
					return l
				}

				function Da(a, b) {
					for (var c = -1, d = b(a), e = d.length, f = fd(e); ++c < e;) f[c] = a[d[c]];
					return f
				}

				function Ea(a, b, c) {
					for (var d = b.length, e = -1, f = Sd(c.length - d, 0), g = -1, h = a.length, i = fd(f + h); ++g < h;) i[g] = a[g];
					for (; ++e < d;) i[b[e]] = c[e];
					for (; f--;) i[g++] = c[e++];
					return i
				}

				function Fa(a, b, c) {
					for (var d = -1, e = b.length, f = -1, g = Sd(c.length - e, 0), h = -1, i = a.length, j = fd(g + i); ++f < g;) j[f] = c[f];
					for (var k = f; ++h < i;) j[k + h] = a[h];
					for (; ++d < e;) j[k + b[d]] = c[f++];
					return j
				}

				function Ga(a, b) {
					return function(c, d, e) {
						var g = b ? [
							[],
							[]
						] : {};
						if (d = f.createCallback(d, e, 3), re(c))
							for (var h = -1, i = c.length; ++h < i;) {
								var j = c[h];
								a(g, j, d(j, h, c), c)
							} else oa(c, function(b, c, e) {
								a(g, b, d(b, c, e), e)
							});
						return g
					}
				}

				function Ha(a, b, c) {
					var d = a.length;
					if (b = +b, d >= b || !Pd(b)) return "";
					var e = b - d;
					return c = null == c ? " " : od(c), Pc(c, zd(e / c.length)).slice(0, e)
				}

				function Ia(a, b, c, d, e, f) {
					var g = b & w,
						h = b & x,
						i = b & A,
						j = b & B;
					if (!h && !rc(a)) throw new pd;
					i && !e.length && (b &= ~A, i = e = !1), j && !f.length && (b &= ~B, j = f = !1);
					var l = !h && a[D];
					if (l && l !== !0) {
						l = ab(l), l[4] && (l[4] = ab(l[4])), l[5] && (l[5] = ab(l[5])), "number" == typeof c && (l[2] = c);
						var m = l[1] & w;
						return g && !m && (l[3] = d), !g && m && (b |= z), i && (l[4] ? Fd.apply(l[4], e) : l[4] = e), j && (l[5] ? Kd.apply(l[5], f) : l[5] = f), l[1] |= b, Ia.apply(null, l)
					}
					if (i) var n = Ja(e);
					if (j) var o = Ja(f);
					return null == c && (c = h ? 0 : a.length), c = Sd(c, 0), l = [a, b, c, d, e, f, n, o], b == w || b == (w | A) ? k(l) : X(l)
				}

				function Ja(a) {
					for (var b = -1, c = a.length, d = []; ++b < c;) a[b] === f && d.push(b);
					return d
				}

				function Ka() {
					var a = (a = f.indexOf) === Ua ? c : a;
					return a
				}

				function La(a) {
					return "function" == typeof a && yd.test(Cd.call(a));

				}

				function Ma(a) {
					var b, c;
					return !a || xd.call(a) != ha || !Ed.call(a, "constructor") && (b = a.constructor, rc(b) && !(b instanceof b)) || !ae.argsClass && kc(a) || !ae.nodeClass && n(a) ? !1 : ae.ownLast ? (va(a, function(a, b, d) {
						return c = Ed.call(d, b), !1
					}), c !== !1) : (va(a, function(a, b) {
						c = b
					}), "undefined" == typeof c || Ed.call(a, c))
				}

				function Na(a) {
					for (var b, c = -1, d = zc(a), e = d.length, f = e && a.length, g = f - 1, h = [], i = "number" == typeof f && f > 0 && (re(a) || ae.nonEnumArgs && kc(a) || ae.nonEnumStrings && xc(a)); ++c < e;) {
						var j = d[c];
						(i && (b = +j, b > -1 && g >= b && b % 1 == 0) || Ed.call(a, j)) && h.push(j)
					}
					return h
				}

				function Oa(a) {
					for (var b = -1, c = a ? a.length : 0, d = 0, e = []; ++b < c;) {
						var f = a[b];
						f && (e[d++] = f)
					}
					return e
				}

				function Pa() {
					return na(arguments[0], ra(arguments, !0, !0, 1))
				}

				function Qa(a, b, c) {
					var d = -1,
						e = a ? a.length : 0;
					for (b = f.createCallback(b, c, 3); ++d < e;)
						if (b(a[d], d, a)) return d;
					return -1
				}

				function Ra(a, b, c) {
					var d = a ? a.length : 0;
					for (b = f.createCallback(b, c, 3); d--;)
						if (b(a[d], d, a)) return d;
					return -1
				}

				function Sa(a, b, c) {
					if ("number" != typeof b && null != b) {
						var d = -1,
							e = a ? a.length : 0,
							g = 0;
						for (b = f.createCallback(b, c, 3); ++d < e && b(a[d], d, a);) g++
					} else if (g = b, null == g || c) return a ? a[0] : v;
					return ab(a, 0, 0 > g ? 0 : g)
				}

				function Ta(a, b, c, d) {
					var e = a ? a.length : 0;
					if (!e) return [];
					var f = typeof b;
					return "boolean" != f && null != b && (d = c, c = b, b = !1, "number" != f && "string" != f || !d || d[c] !== a || (c = null)), null != c && (a = wb(a, c, d)), ra(a, b)
				}

				function Ua(a, b, d) {
					var e = a ? a.length : 0;
					if ("number" == typeof d) d = 0 > d ? Sd(e + d, 0) : d || 0;
					else if (d) {
						var f = bb(a, b);
						return e && a[f] === b ? f : -1
					}
					return c(a, b, d)
				}

				function Va(a, b, c) {
					var d = a ? a.length : 0;
					if ("number" != typeof b && null != b) {
						var e = d,
							g = 0;
						for (b = f.createCallback(b, c, 3); e-- && b(a[e], e, a);) g++
					} else g = null == b || c ? 1 : b;
					return g = d - (g || 0), ab(a, 0, 0 > g ? 0 : g)
				}

				function Wa() {
					for (var a = [], b = -1, e = arguments.length, f = [], g = Ka(), h = be && g === c; ++b < e;) {
						var i = arguments[b];
						(re(i) || kc(i)) && (a.push(i), f.push(h && i.length >= 120 && be(b && i)))
					}
					e = a.length;
					var j = a[0],
						k = -1,
						l = j ? j.length : 0,
						m = [],
						n = f[0];
					a: for (; ++k < l;)
						if (i = j[k], (n ? d(n, i) : g(m, i)) < 0) {
							for (b = e; --b;) {
								var o = f[b];
								if ((o ? d(o, i) : g(a[b], i)) < 0) continue a
							}
							n && n.push(i), m.push(i)
						}
					return m
				}

				function Xa(a, b, c) {
					var d = a ? a.length : 0;
					if ("number" != typeof b && null != b) {
						var e = d,
							g = 0;
						for (b = f.createCallback(b, c, 3); e-- && b(a[e], e, a);) g++
					} else if (g = b, null == g || c) return a ? a[d - 1] : v;
					return g = d - (g || 0), ab(a, 0 > g ? 0 : g)
				}

				function Ya(a, b, c) {
					var d = a ? a.length : 0;
					for ("number" == typeof c && (d = (0 > c ? Sd(d + c, 0) : Td(c || 0, d - 1)) + 1); d--;)
						if (a[d] === b) return d;
					return -1
				}

				function Za(a) {
					for (var b = 0, c = arguments.length, d = a ? a.length : 0; ++b < c;)
						for (var e = -1, f = arguments[b]; ++e < d;) a[e] === f && (Jd.call(a, e--, 1), d--);
					return a
				}

				function $a(a, b, c) {
					var d = -1,
						e = a ? a.length : 0,
						g = [];
					for (b = f.createCallback(b, c, 3); ++d < e;) {
						var h = a[d];
						b(h, d, a) && (g.push(h), Jd.call(a, d--, 1), e--)
					}
					return g
				}

				function _a(a, b, c) {
					if ("number" != typeof b && null != b) {
						var d = -1,
							e = a ? a.length : 0,
							g = 0;
						for (b = f.createCallback(b, c, 3); ++d < e && b(a[d], d, a);) g++
					} else g = null == b || c ? 1 : 0 > b ? 0 : b;
					return ab(a, g)
				}

				function ab(a, b, c) {
					var d = -1,
						e = a ? a.length : 0;
					b = "undefined" == typeof b ? 0 : +b || 0, 0 > b ? b = Sd(e + b, 0) : b > e && (b = e), c = "undefined" == typeof c ? e : +c || 0, 0 > c ? c = Sd(e + c, 0) : c > e && (c = e), e = b > c ? 0 : c - b;
					for (var f = fd(e); ++d < e;) f[d] = a[b + d];
					return f
				}

				function bb(a, b, c, d) {
					var e = 0,
						g = a ? a.length : e;
					for (c = c ? f.createCallback(c, d, 1) : Wc, b = c(b); g > e;) {
						var h = e + g >>> 1;
						c(a[h]) < b ? e = h + 1 : g = h
					}
					return e
				}

				function cb() {
					return Ca(ra(arguments, !0, !0))
				}

				function db(a, b, c, d) {
					var e = a ? a.length : 0;
					if (!e) return [];
					var g = typeof b;
					return "boolean" != g && null != b && (d = c, c = b, b = !1, "number" != g && "string" != g || !d || d[c] !== a || (c = null)), null != c && (c = f.createCallback(c, d, 3)), Ca(a, b, c)
				}

				function eb() {
					return na(arguments[0], ab(arguments, 1))
				}

				function fb() {
					for (var a = -1, b = arguments.length; ++a < b;) {
						var c = arguments[a];
						if (re(c) || kc(c)) var d = d ? na(d, c).concat(na(c, d)) : c
					}
					return d ? Ca(d) : []
				}

				function gb() {
					for (var a = arguments.length > 1 ? arguments : arguments[0], b = -1, c = a ? xb(pe(a, "length")) : 0, d = fd(0 > c ? 0 : c); ++b < c;) d[b] = pe(a, b);
					return d
				}

				function hb(a, b) {
					var c = -1,
						d = a ? a.length : 0,
						e = {};
					for (b || !d || re(a[0]) || (b = []); ++c < d;) {
						var f = a[c];
						b ? e[f] = b[c] : f && (e[f[0]] = f[1])
					}
					return e
				}

				function ib(a) {
					return new g(a, !0)
				}

				function jb(a, b, c) {
					return b.call(c, a), a
				}

				function kb() {
					return this.__chain__ = !0, this
				}

				function lb() {
					return od(this.__wrapped__)
				}

				function mb() {
					return this.__wrapped__
				}

				function nb(a, b) {
					var c = arguments,
						d = -1,
						e = ra(c, !0, !1, 1),
						f = e.length,
						g = typeof b;
					"number" != g && "string" != g || !c[2] || c[2][b] !== a || (f = 1), ae.unindexedChars && xc(a) && (a = a.split(""));
					for (var h = fd(f); ++d < f;) h[d] = a[e[d]];
					return h
				}

				function ob(a, b, c) {
					var d = a ? a.length : 0;
					if (c = "number" == typeof c && c || 0, "number" == typeof d && d > -1 && wd >= d) {
						if ("string" == typeof a || !re(a) && xc(a)) return c >= d ? !1 : Md ? Md.call(a, b, c) : a.indexOf(b, c) > -1;
						var e = Ka();
						return c = 0 > c ? Sd(d + c, 0) : c, e(a, b, c) > -1
					}
					var f = -1,
						g = !1;
					return oa(a, function(a) {
						return ++f >= c ? !(g = a === b) : void 0
					}), g
				}

				function pb(a, b, c) {
					var d = !0;
					if (b = f.createCallback(b, c, 3), re(a)) {
						for (var e = -1, g = a.length; ++e < g;)
							if (!b(a[e], e, a)) return !1
					} else oa(a, function(a, c, e) {
						return d = !!b(a, c, e)
					});
					return d
				}

				function qb(a, b, c) {
					var d = [];
					if (b = f.createCallback(b, c, 3), re(a))
						for (var e = -1, g = a.length; ++e < g;) {
							var h = a[e];
							b(h, e, a) && d.push(h)
						} else oa(a, function(a, c, e) {
							b(a, c, e) && d.push(a)
						});
					return d
				}

				function rb(a, b, c) {
					if (re(a)) {
						var d = Qa(a, b, c);
						return d > -1 ? a[d] : v
					}
					return b = f.createCallback(b, c, 3), qa(a, b, oa)
				}

				function sb(a, b, c) {
					return b = f.createCallback(b, c, 3), qa(a, b, pa)
				}

				function tb(a, b, c) {
					if (b && "undefined" == typeof c && re(a))
						for (var d = -1, e = a.length; ++d < e && b(a[d], d, a) !== !1;);
					else oa(a, S(b, c, 3));
					return a
				}

				function ub(a, b, c) {
					if (b && "undefined" == typeof c && re(a))
						for (var d = a.length; d-- && b(a[d], d, a) !== !1;);
					else pa(a, S(b, c, 3));
					return a
				}

				function vb(a, b) {
					var c = ab(arguments, 2),
						d = -1,
						e = "function" == typeof b,
						f = a && a.length,
						g = fd(0 > f ? 0 : f >>> 0);
					return oa(a, function(a) {
						var f = e ? b : null != a && a[b];
						g[++d] = f ? f.apply(a, c) : v
					}), g
				}

				function wb(a, b, c) {
					var d = -1,
						e = a && a.length,
						g = fd(0 > e ? 0 : e >>> 0);
					if (b = f.createCallback(b, c, 3), re(a))
						for (; ++d < e;) g[d] = b(a[d], d, a);
					else oa(a, function(a, c, e) {
						g[++d] = b(a, c, e)
					});
					return g
				}

				function xb(a, b, c) {
					var d = -(1 / 0),
						g = d,
						h = typeof b;
					if ("number" != h && "string" != h || !c || c[b] !== a || (b = null), null == b && re(a))
						for (var i = -1, j = a.length; ++i < j;) {
							var k = a[i];
							k > g && (g = k)
						} else b = null == b && xc(a) ? e : f.createCallback(b, c, 3), oa(a, function(a, c, e) {
							var f = b(a, c, e);
							f > d && (d = f, g = a)
						});
					return g
				}

				function yb(a, b, c) {
					var d = 1 / 0,
						g = d,
						h = typeof b;
					if ("number" != h && "string" != h || !c || c[b] !== a || (b = null), null == b && re(a))
						for (var i = -1, j = a.length; ++i < j;) {
							var k = a[i];
							g > k && (g = k)
						} else b = null == b && xc(a) ? e : f.createCallback(b, c, 3), oa(a, function(a, c, e) {
							var f = b(a, c, e);
							d > f && (d = f, g = a)
						});
					return g
				}

				function zb(a, b, c, d) {
					var e = arguments.length < 3;
					if (b = f.createCallback(b, d, 4), re(a)) {
						var g = -1,
							h = a.length;
						for (e && h && (c = a[++g]); ++g < h;) c = b(c, a[g], g, a)
					} else oa(a, function(a, d, f) {
						c = e ? (e = !1, a) : b(c, a, d, f)
					});
					return c
				}

				function Ab(a, b, c, d) {
					var e = arguments.length < 3;
					return b = f.createCallback(b, d, 4), pa(a, function(a, d, f) {
						c = e ? (e = !1, a) : b(c, a, d, f)
					}), c
				}

				function Bb(a, b, c) {
					return b = f.createCallback(b, c, 3), qb(a, Sb(b))
				}

				function Cb(a, b, c) {
					if (a && "number" != typeof a.length ? a = Gc(a) : ae.unindexedChars && xc(a) && (a = a.split("")), null == b || c) {
						var d = a ? a.length : 0;
						return d > 0 ? a[Ba(0, d - 1)] : v
					}
					var e = Db(a);
					return e.length = Td(0 > b ? 0 : +b || 0, e.length), e
				}

				function Db(a) {
					var b = -1,
						c = a && a.length,
						d = fd(0 > c ? 0 : c >>> 0);
					return oa(a, function(a) {
						var c = Ba(0, ++b);
						d[b] = d[c], d[c] = a
					}), d
				}

				function Eb(a) {
					var b = a ? a.length : 0;
					return "number" == typeof b && b > -1 && wd >= b ? b : te(a).length
				}

				function Fb(a, b, c) {
					var d;
					if (b = f.createCallback(b, c, 3), re(a)) {
						for (var e = -1, g = a.length; ++e < g;)
							if (b(a[e], e, a)) return !0
					} else oa(a, function(a, c, e) {
						return !(d = b(a, c, e))
					});
					return !!d
				}

				function Gb(a, b, c) {
					var d = -1,
						e = a && a.length,
						g = b && re(b),
						j = fd(0 > e ? 0 : e >>> 0);
					for (g || (b = f.createCallback(b, c, 3)), oa(a, function(a, c, e) {
							if (g)
								for (var f = b.length, h = fd(f); f--;) h[f] = a[b[f]];
							else h = b(a, c, e);
							j[++d] = {
								criteria: h,
								index: d,
								value: a
							}
						}), e = j.length, j.sort(g ? i : h); e--;) j[e] = j[e].value;
					return j
				}

				function Hb(a) {
					var b = a && a.length;
					return "number" == typeof b && b > -1 && wd >= b ? ae.unindexedChars && xc(a) ? a.split("") : ab(a) : Gc(a)
				}

				function Ib(a, b) {
					if (!rc(b)) throw new pd;
					return a = Pd(a = +a) ? a : 0,
						function() {
							return --a < 1 ? b.apply(this, arguments) : void 0
						}
				}

				function Jb(a, b) {
					if (arguments.length < 3) return Ia(a, w, null, b);
					if (a) {
						var c = a[D] ? a[D][2] : a.length,
							d = ab(arguments, 2);
						c -= d.length
					}
					return Ia(a, w | A, c, b, d)
				}

				function Kb(a) {
					for (var b = arguments.length > 1 ? ra(arguments, !0, !1, 1) : hc(a), c = -1, d = b.length; ++c < d;) {
						var e = b[c];
						a[e] = Ia(a[e], w, null, a)
					}
					return a
				}

				function Lb(a, b) {
					return arguments.length < 3 ? Ia(b, w | x, null, a) : Ia(b, w | x | A, null, a, ab(arguments, 2))
				}

				function Mb() {
					for (var a = arguments, b = a.length, c = b; c--;)
						if (!rc(a[c])) throw new pd;
					return function() {
						for (var c = b - 1, d = a[c].apply(this, arguments); c--;) d = a[c].call(this, d);
						return d
					}
				}

				function Nb(a, b) {
					return "number" != typeof b && (b = +b || (a ? a.length : 0)), Ia(a, y, b)
				}

				function Ob(a, b, c) {
					var d, e, f, g, h, i, j, k = 0,
						l = !1,
						m = !0;
					if (!rc(a)) throw new pd;
					if (b = 0 > b ? 0 : b, c === !0) {
						var n = !0;
						m = !1
					} else sc(c) && (n = c.leading, l = "maxWait" in c && Sd(b, +c.maxWait || 0), m = "trailing" in c ? c.trailing : m);
					var o = function() {
							var c = b - (Ae() - g);
							if (0 >= c || c > b) {
								e && Ad(e);
								var l = j;
								e = i = j = v, l && (k = Ae(), f = a.apply(h, d), i || e || (d = h = null))
							} else i = Id(o, c)
						},
						p = function() {
							i && Ad(i), e = i = j = v, (m || l !== b) && (k = Ae(), f = a.apply(h, d), i || e || (d = h = null))
						};
					return function() {
						if (d = arguments, g = Ae(), h = this, j = m && (i || !n), l === !1) var c = n && !i;
						else {
							e || n || (k = g);
							var q = l - (g - k),
								r = 0 >= q || q > l;
							r ? (e && (e = Ad(e)), k = g, f = a.apply(h, d)) : e || (e = Id(p, q))
						}
						return r && i ? i = Ad(i) : i || b === l || (i = Id(o, b)), c && (r = !0, f = a.apply(h, d)), !r || i || e || (d = h = null), f
					}
				}

				function Pb(a) {
					if (!rc(a)) throw new pd;
					var b = ab(arguments, 1);
					return Id(function() {
						a.apply(v, b)
					}, 1)
				}

				function Qb(a, b) {
					if (!rc(a)) throw new pd;
					var c = ab(arguments, 2);
					return Id(function() {
						a.apply(v, c)
					}, b)
				}

				function Rb(a, b) {
					if (!rc(a)) throw new pd;
					var c = function() {
						var d = c.cache,
							e = b ? b.apply(this, arguments) : "_" + arguments[0];
						return Ed.call(d, e) ? d[e] : d[e] = a.apply(this, arguments)
					};
					return c.cache = {}, c
				}

				function Sb(a) {
					if (!rc(a)) throw new pd;
					return function() {
						return !a.apply(this, arguments)
					}
				}

				function Tb(a) {
					var b, c;
					if (!rc(a)) throw new pd;
					return function() {
						return b ? c : (b = !0, c = a.apply(this, arguments), a = null, c)
					}
				}

				function Ub(a) {
					if (a) {
						var b = a[D] ? a[D][2] : a.length,
							c = ab(arguments, 1);
						b -= c.length
					}
					return Ia(a, A, b, null, c)
				}

				function Vb(a) {
					if (a) {
						var b = a[D] ? a[D][2] : a.length,
							c = ab(arguments, 1);
						b -= c.length
					}
					return Ia(a, B, b, null, null, c)
				}

				function Wb(a, b, c) {
					var d = !0,
						e = !0;
					if (!rc(a)) throw new pd;
					return c === !1 ? d = !1 : sc(c) && (d = "leading" in c ? !!c.leading : d, e = "trailing" in c ? !!c.trailing : e), la.leading = d, la.maxWait = +b, la.trailing = e, Ob(a, b, la)
				}

				function Xb(a, b) {
					return Ia(b, A, null, null, [a])
				}

				function Yb(a, b, c) {
					var d = arguments;
					if (!a || d.length < 2) return a;
					var e = 0,
						f = d.length,
						g = typeof c;
					if ("number" != g && "string" != g || !d[3] || d[3][c] !== b || (f = 2), f > 3 && "function" == typeof d[f - 2]) var h = S(d[--f - 1], d[f--], 2);
					else f > 2 && "function" == typeof d[f - 1] && (h = d[--f]);
					for (; ++e < f;) {
						b = d[e];
						for (var i = -1, j = te(b), k = j.length; ++i < k;) {
							var l = j[i];
							a[l] = h ? h(a[l], b[l]) : b[l]
						}
					}
					return a
				}

				function Zb(a, b, c, d) {
					var e = typeof b;
					return "boolean" != e && null != b && (d = c, c = b, b = !1, "number" != e && "string" != e || !d || d[c] !== a || (c = null)), c = "function" == typeof c && S(c, d, 1), r(a, b, c)
				}

				function $b(a, b, c) {
					return b = "function" == typeof b && S(b, c, 1), r(a, !0, b)
				}

				function _b(a, b) {
					var c = s(a);
					return b ? Yb(c, b) : c
				}

				function ac(b) {
					if (!b || arguments.length < 2) return b;
					var c = ab(arguments);
					return c.push(a), Yb.apply(null, c)
				}

				function bc(a, b, c) {
					return b = f.createCallback(b, c, 3), qa(a, b, wa, !0)
				}

				function cc(a, b, c) {
					return b = f.createCallback(b, c, 3), qa(a, b, ya, !0)
				}

				function dc(a, b, c) {
					return b = b && "undefined" == typeof c ? b : S(b, c, 3), ta(a, b, zc)
				}

				function ec(a, b, c) {
					return b = S(b, c, 3), ua(a, b, zc)
				}

				function fc(a, b, c) {
					return b = b && "undefined" == typeof c ? b : S(b, c, 3), wa(a, b)
				}

				function gc(a, b, c) {
					return b = S(b, c, 3), ua(a, b, te)
				}

				function hc(a) {
					var b = [];
					return va(a, function(a, c) {
						rc(a) && b.push(c)
					}), b.sort()
				}

				function ic(a, b) {
					return a ? Ed.call(a, b) : !1
				}

				function jc(a, b) {
					for (var c = -1, d = te(a), e = d.length, f = {}; ++c < e;) {
						var g = d[c],
							h = a[g];
						b ? Ed.call(f, h) ? f[h].push(g) : f[h] = [g] : f[h] = g
					}
					return f
				}

				function kc(a) {
					return a && "object" == typeof a && "number" == typeof a.length && xd.call(a) == aa || !1
				}

				function lc(a) {
					return a === !0 || a === !1 || a && "object" == typeof a && xd.call(a) == ca || !1
				}

				function mc(a) {
					return a && "object" == typeof a && xd.call(a) == da || !1
				}

				function nc(a) {
					return a && "object" == typeof a && 1 === a.nodeType && (ae.nodeClass ? xd.call(a).indexOf("Element") > -1 : n(a)) || !1
				}

				function oc(a) {
					var b = !0;
					if (!a) return b;
					var c = xd.call(a),
						d = a.length;
					return d > -1 && wd >= d && (c == ba || c == ja || (ae.argsClass ? c == aa : kc(a)) || c == ha && rc(a.splice)) ? !d : (wa(a, function() {
						return b = !1
					}), b)
				}

				function pc(a, b, c, d) {
					if (c = "function" == typeof c && S(c, d, 2), !c) {
						if (a === b) return 0 !== a || 1 / a == 1 / b;
						var e = typeof a,
							f = typeof b;
						if (a === a && (null == a || null == b || "function" != e && "object" != e && "function" != f && "object" != f)) return !1
					}
					return za(a, b, c)
				}

				function qc(a) {
					return Pd(a) && !Qd(parseFloat(a))
				}

				function rc(a) {
					return "function" == typeof a
				}

				function sc(a) {
					var b = typeof a;
					return a && ("function" == b || "object" == b) || !1
				}

				function tc(a) {
					return vc(a) && a != +a
				}

				function uc(a) {
					return null === a
				}

				function vc(a) {
					var b = typeof a;
					return "number" == b || a && "object" == b && xd.call(a) == ga || !1
				}

				function wc(a) {
					var b = typeof a;
					return a && ("function" == b || "object" == b) && xd.call(a) == ia || !1
				}

				function xc(a) {
					return "string" == typeof a || a && "object" == typeof a && xd.call(a) == ja || !1
				}

				function yc(a) {
					return "undefined" == typeof a
				}

				function zc(a) {
					if (!sc(a)) return [];
					var b = a.length;
					b = ("number" == typeof b && b > 0 && (re(a) || ae.nonEnumStrings && xc(a) || ae.nonEnumArgs && kc(a)) && b) >>> 0;
					for (var c, d = -1, e = b - 1, f = fd(b), g = b > 0, h = ae.enumErrorProps && (a === rd || a instanceof id), i = ae.enumPrototypes && "function" == typeof a; ++d < b;) f[d] = od(d);
					for (var j in a) i && "prototype" == j || h && ("message" == j || "name" == j) || g && (c = +j, c > -1 && e >= c && c % 1 == 0) || f.push(j);
					if (ae.nonEnumShadows && a !== sd) {
						var k = a.constructor;
						if (d = -1, b = $.length, a === (k && k.prototype)) var l = a === td ? ja : a === rd ? ea : xd.call(a),
							m = _d[l];
						for (; ++d < b;) j = $[d], m && m[j] || !Ed.call(a, j) || f.push(j)
					}
					return f
				}

				function Ac(a, b, c) {
					var d = {};
					return b = f.createCallback(b, c, 3), wa(a, function(a, c, e) {
						d[c] = b(a, c, e)
					}), d
				}

				function Bc(a, b, c) {
					if (!a) return a;
					var d = arguments,
						e = d.length,
						f = typeof c;
					if ("number" != f && "string" != f || !d[3] || d[3][c] !== b || (e = 2), e > 3 && "function" == typeof d[e - 2]) var g = S(d[--e - 1], d[e--], 2);
					else e > 2 && "function" == typeof d[e - 1] && (g = d[--e]);
					for (var h = ab(d, 1, e), i = -1, j = [], k = []; ++i < e;) Aa(a, h[i], g, j, k);
					return a
				}

				function Cc(a, b, c) {
					if ("function" == typeof b) return b = f.createCallback(b, c, 3), Ec(a, Sb(b));
					for (var d = ra(arguments, !0, !1, 1), e = d.length; e--;) d[e] = od(d[e]);
					return Ec(a, na(zc(a), d))
				}

				function Dc(a) {
					for (var b = -1, c = te(a), d = c.length, e = fd(d); ++b < d;) {
						var f = c[b];
						e[b] = [f, a[f]]
					}
					return e
				}

				function Ec(a, b, c) {
					var d = {};
					if ("function" != typeof b)
						for (var e = -1, g = ra(arguments, !0, !1, 1), h = sc(a) ? g.length : 0; ++e < h;) {
							var i = g[e];
							i in a && (d[i] = a[i])
						} else b = f.createCallback(b, c, 3), va(a, function(a, c, e) {
							b(a, c, e) && (d[c] = a)
						});
					return d
				}

				function Fc(a, b, c, d) {
					var e = re(a);
					if (null == c)
						if (e) c = [];
						else {
							var g = a && a.constructor,
								h = g && g.prototype;
							c = s(h)
						}
					return b && (b = f.createCallback(b, d, 4), (e ? oa : wa)(a, function(a, d, e) {
						return b(c, a, d, e)
					})), c
				}

				function Gc(a) {
					return Da(a, te)
				}

				function Hc(a) {
					return Da(a, zc)
				}

				function Ic(a) {
					return null == a ? "" : (a = od(a), a.charAt(0).toUpperCase() + a.slice(1))
				}

				function Jc(a, b, c) {
					a = null == a ? "" : od(a), b = od(b);
					var d = a.length;
					return c = ("undefined" == typeof c ? d : Td(0 > c ? 0 : +c || 0, d)) - b.length, c >= 0 && a.indexOf(b, c) == c
				}

				function Kc(a) {
					return null == a ? "" : od(a).replace(K, l)
				}

				function Lc(a) {
					return null == a ? "" : od(a).replace(U, "\\$&")
				}

				function Mc(a, b, c) {
					a = null == a ? "" : od(a), b = +b;
					var d = a.length;
					if (d >= b || !Pd(b)) return a;
					var e = (b - d) / 2,
						f = Bd(e),
						g = zd(e);
					return c = Ha("", g, c), c.slice(0, f) + a + c
				}

				function Nc(a, b, c) {
					return a = null == a ? "" : od(a), Ha(a, b, c) + a
				}

				function Oc(a, b, c) {
					return a = null == a ? "" : od(a), a + Ha(a, b, c)
				}

				function Pc(a, b) {
					var c = "";
					if (b = +b, 1 > b || null == a || !Pd(b)) return c;
					a = od(a);
					do b % 2 && (c += a), b = Bd(b / 2), a += a; while (b);
					return c
				}

				function Qc(a, b, c) {
					return a = null == a ? "" : od(a), c = "undefined" == typeof c ? 0 : Td(0 > c ? 0 : +c || 0, a.length), a.lastIndexOf(b, c) == c
				}

				function Rc(a, b, c) {
					var d = f.templateSettings;
					c = ac({}, c, d), a = od(null == a ? "" : a);
					var e, g, h = ac({}, c.imports, d.imports),
						i = te(h),
						j = Gc(h),
						k = 0,
						l = c.interpolate || T,
						n = "__p += '",
						o = nd((c.escape || T).source + "|" + l.source + "|" + (l === N ? O : T).source + "|" + (c.evaluate || T).source + "|$", "g");
					a.replace(o, function(b, c, d, f, h, i) {
						return d || (d = f), n += a.slice(k, i).replace(W, m), c && (e = !0, n += "' +\n__e(" + c + ") +\n'"), h && (g = !0, n += "';\n" + h + ";\n__p += '"), d && (n += "' +\n((__t = (" + d + ")) == null ? '' : __t) +\n'"), k = i + b.length, b
					}), n += "';\n";
					var p = c.variable;
					p || (n = "with (obj) {\n" + n + "\n}\n"), n = (g ? n.replace(G, "") : n).replace(H, "$1").replace(I, "$1;"), n = "function(" + (p || "obj") + ") {\n" + (p ? "" : "obj || (obj = {});\n") + "var __t, __p = ''" + (e ? ", __e = _.escape" : "") + (g ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n" : ";\n") + n + "return __p\n}";
					var q = "\n/*\n//# sourceURL=" + (c.sourceURL || "/lodash/template/source[" + _++ + "]") + "\n*/";
					try {
						var r = jd(i, "return " + n + q).apply(v, j)
					} catch (s) {
						throw s.source = n, s
					}
					return b ? r(b) : (r.source = n, r)
				}

				function Sc(a, b) {
					var c = 30,
						d = "...";
					if (b && sc(b)) {
						var e = "separator" in b ? b.separator : e;
						c = "length" in b ? +b.length || 0 : c, d = "omission" in b ? od(b.omission) : d
					} else null != b && (c = +b || 0);
					if (a = null == a ? "" : od(a), c >= a.length) return a;
					var f = c - d.length;
					if (1 > f) return d;
					var g = a.slice(0, f);
					if (null == e) return g + d;
					if (wc(e)) {
						if (a.slice(f).search(e)) {
							var h, i, j = a.slice(0, f);
							for (e.global || (e = nd(e.source, (P.exec(e) || "") + "g")), e.lastIndex = 0; h = e.exec(j);) i = h.index;
							g = g.slice(0, null == i ? f : i)
						}
					} else if (a.indexOf(e, f) != f) {
						var k = g.lastIndexOf(e);
						k > -1 && (g = g.slice(0, k))
					}
					return g + d
				}

				function Tc(a) {
					return null == a ? "" : (a = od(a), a.indexOf(";") < 0 ? a : a.replace(J, t))
				}

				function Uc(a) {
					return function() {
						return a
					}
				}

				function Vc(a, b, c) {
					var d = typeof a;
					return "function" == d || null == a ? ("undefined" == typeof b || !("prototype" in a)) && a || S(a, b, c) : "object" != d ? _c(a) : Xc(a)
				}

				function Wc(a) {
					return a
				}

				function Xc(a) {
					a || (a = {});
					var b = te(a),
						c = b.length,
						d = b[0],
						e = a[d];
					return 1 != c || e !== e || sc(e) ? function(d) {
						for (var e = c, f = !1; e--;) {
							var g = b[e];
							if (!(f = Ed.call(d, g) && za(d[g], a[g], null, !0))) break
						}
						return f
					} : function(a) {
						if (!Ed.call(a, d)) return !1;
						var b = a[d];
						return e === b && (0 !== e || 1 / e == 1 / b)
					}
				}

				function Yc(a, b, c) {
					var d = !0,
						e = b && hc(b);
					b && (c || e.length) || (null == c && (c = b), b = a, a = f, e = hc(b)), c === !1 ? d = !1 : sc(c) && "chain" in c && (d = c.chain);
					for (var g = -1, h = rc(a), i = e ? e.length : 0; ++g < i;) {
						var j = e[g],
							k = a[j] = b[j];
						h && (a.prototype[j] = function(b) {
							return function() {
								var c = this.__chain__,
									e = this.__wrapped__,
									f = [e];
								Fd.apply(f, arguments);
								var g = b.apply(a, f);
								if (d || c) {
									if (e === g && sc(g)) return this;
									g = new a(g), g.__chain__ = c
								}
								return g
							}
						}(k))
					}
				}

				function Zc() {
					return b._ = vd, this
				}

				function $c() {}

				function _c(a) {
					return function(b) {
						return null == b ? v : b[a]
					}
				}

				function ad(a, b, c) {
					var d = null == a,
						e = null == b;
					if (null == c && (e && "boolean" == typeof a ? (c = a, a = 1) : "boolean" == typeof b && (c = b, e = !0)), d && e && (b = 1, e = !1), a = +a || 0, e ? (b = a, a = 0) : b = +b || 0, c || a % 1 || b % 1) {
						var f = Wd();
						return Td(a + f * (b - a + parseFloat("1e-" + ((f + "").length - 1))), b)
					}
					return Ba(a, b)
				}

				function bd(a, b, c) {
					a = +a || 0, c = null == c ? 1 : +c || 0, null == b ? (b = a, a = 0) : b = +b || 0;
					for (var d = -1, e = Sd(zd((b - a) / (c || 1)), 0), f = fd(e); ++d < e;) f[d] = a, a += c;
					return f
				}

				function cd(a, b, c) {
					var d = null == a ? v : a[b];
					return "undefined" == typeof d ? c : rc(d) ? a[b]() : d
				}

				function dd(a, b, c) {
					a = 0 > a ? 0 : a >>> 0;
					var d = -1,
						e = fd(a);
					for (b = S(b, c, 1); ++d < a;) e[d] = b(d);
					return e
				}

				function ed(a) {
					var b = ++E;
					return od(null == a ? "" : a) + b
				}
				b = b ? xa.defaults(sa.Object(), b, xa.pick(sa, Z)) : sa;
				var fd = b.Array,
					gd = b.Boolean,
					hd = b.Date,
					id = b.Error,
					jd = b.Function,
					kd = b.Math,
					ld = b.Number,
					md = b.Object,
					nd = b.RegExp,
					od = b.String,
					pd = b.TypeError,
					qd = fd.prototype,
					rd = id.prototype,
					sd = md.prototype,
					td = od.prototype,
					ud = (ud = b.window) && ud.document,
					vd = b._,
					wd = kd.pow(2, 53) - 1,
					xd = sd.toString,
					yd = nd("^" + Lc(xd).replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g, "$1.*?") + "$"),
					zd = kd.ceil,
					Ad = b.clearTimeout,
					Bd = kd.floor,
					Cd = jd.prototype.toString,
					Dd = La(Dd = md.getPrototypeOf) && Dd,
					Ed = sd.hasOwnProperty,
					Fd = qd.push,
					Gd = sd.propertyIsEnumerable,
					Hd = La(Hd = b.Set) && Hd,
					Id = b.setTimeout,
					Jd = qd.splice,
					Kd = qd.unshift,
					Ld = function() {
						try {
							var a = {},
								b = La(b = md.defineProperty) && b,
								c = b(a, a, a) && b
						} catch (d) {}
						return c
					}(),
					Md = La(Md = td.contains) && Md,
					Nd = La(Nd = md.create) && Nd,
					Od = La(Od = fd.isArray) && Od,
					Pd = b.isFinite,
					Qd = b.isNaN,
					Rd = La(Rd = md.keys) && Rd,
					Sd = kd.max,
					Td = kd.min,
					Ud = La(Ud = hd.now) && Ud,
					Vd = b.parseInt,
					Wd = kd.random,
					Xd = La(Xd = td.trim) && !Xd.call(Y) && Xd,
					Yd = La(Yd = td.trimLeft) && !Yd.call(Y) && Yd,
					Zd = La(Zd = td.trimRight) && !Zd.call(Y) && Zd,
					$d = {};
				$d[ba] = fd, $d[ca] = gd, $d[da] = hd, $d[fa] = jd, $d[ha] = md, $d[ga] = ld, $d[ia] = nd, $d[ja] = od;
				var _d = {};
				_d[ba] = _d[da] = _d[ga] = {
						constructor: !0,
						toLocaleString: !0,
						toString: !0,
						valueOf: !0
					}, _d[ca] = _d[ja] = {
						constructor: !0,
						toString: !0,
						valueOf: !0
					}, _d[ea] = _d[fa] = _d[ia] = {
						constructor: !0,
						toString: !0
					}, _d[ha] = {
						constructor: !0
					},
					function() {
						for (var a = $.length; a--;) {
							var b = $[a];
							for (var c in _d) Ed.call(_d, c) && !Ed.call(_d[c], b) && (_d[c][b] = !1)
						}
					}(), g.prototype = f.prototype;
				var ae = f.support = {};
				! function() {
					var a = function() {
							this.x = 1
						},
						c = {
							0: 1,
							length: 1
						},
						d = [];
					a.prototype = {
						valueOf: 1,
						y: 1
					};
					for (var e in new a) d.push(e);
					for (var f in arguments);
					for (var g in "x");
					ae.argsClass = xd.call(arguments) == aa, ae.argsObject = arguments.constructor == md && !(arguments instanceof fd), ae.enumErrorProps = Gd.call(rd, "message") || Gd.call(rd, "name"), ae.enumPrototypes = Gd.call(a, "prototype"), ae.funcDecomp = !La(b.WinRTError) && V.test(u), ae.funcNames = "string" == typeof jd.name, ae.nonEnumStrings = "0" != g, ae.nonEnumShadows = !/valueOf/.test(d), ae.ownLast = "x" != d[0], ae.spliceObjects = (Jd.call(c, 0, 1), !c[0]), ae.unindexedChars = "x" [0] + md("x")[0] != "xx";
					try {
						ae.dom = 11 === ud.createDocumentFragment().nodeType
					} catch (h) {
						ae.dom = !1
					}
					try {
						ae.nodeClass = !(xd.call(ud) == ha && !({
							toString: 0
						} + ""))
					} catch (h) {
						ae.nodeClass = !0
					}
					try {
						ae.nonEnumArgs = !("1" == f && Ed.call(arguments, f) && Gd.call(arguments, f))
					} catch (h) {
						ae.nonEnumArgs = !0
					}
				}(0, 0), f.templateSettings = {
					escape: L,
					evaluate: M,
					interpolate: N,
					variable: "",
					imports: {
						_: f
					}
				}, Nd || (s = function() {
					function a() {}
					return function(c) {
						if (sc(c)) {
							a.prototype = c;
							var d = new a;
							a.prototype = null
						}
						return d || b.Object()
					}
				}());
				var be = Hd && function(a) {
						var b = new Hd,
							c = a ? a.length : 0;
						for (b.push = b.add; c--;) b.push(a[c]);
						return b
					},
					ce = Ld ? function(a, b) {
						ma.value = b, Ld(a, D, ma)
					} : $c,
					de = _a,
					ee = Va,
					fe = Va,
					ge = _a,
					he = Sa,
					ie = Xa,
					je = Xa,
					ke = Sa,
					le = Ga(function(a, b, c) {
						Ed.call(a, c) ? a[c]++ : a[c] = 1
					}),
					me = Ga(function(a, b, c) {
						Ed.call(a, c) ? a[c].push(b) : a[c] = [b]
					}),
					ne = Ga(function(a, b, c) {
						a[c] = b
					}),
					oe = Ga(function(a, b, c) {
						a[c ? 0 : 1].push(b)
					}, !0),
					pe = wb,
					qe = qb;
				ae.argsClass || (kc = function(a) {
					return a && "object" == typeof a && "number" == typeof a.length && Ed.call(a, "callee") && !Gd.call(a, "callee") || !1
				});
				var re = Od || function(a) {
					return a && "object" == typeof a && "number" == typeof a.length && xd.call(a) == ba || !1
				};
				ae.dom || (nc = function(a) {
					return a && "object" == typeof a && 1 === a.nodeType && !se(a) || !1
				}), rc(/x/) && (rc = function(a) {
					return "function" == typeof a && xd.call(a) == fa
				});
				var se = Dd ? function(a) {
						if (!a || xd.call(a) != ha || !ae.argsClass && kc(a)) return !1;
						var b = a.valueOf,
							c = La(b) && (c = Dd(b)) && Dd(c);
						return c ? a == c || Dd(a) == c : Ma(a)
					} : Ma,
					te = Rd ? function(a) {
						var b = a ? a.length : 0;
						return "number" == typeof b && b > 0 ? Na(a) : sc(a) ? Rd(a) : []
					} : Na,
					ue = j(function(a, b, c) {
						return !c && F.test(b) ? a + b.toLowerCase() : a + (b.charAt(0)[c ? "toUpperCase" : "toLowerCase"]() + b.slice(1))
					}),
					ve = j(function(a, b, c) {
						return a + (c ? "-" : "") + b.toLowerCase()
					}),
					we = j(function(a, b, c) {
						return a + (c ? "_" : "") + b.toLowerCase()
					}),
					xe = Xd ? function(a, b) {
						return null == a ? "" : null == b ? Xd.call(a) : o(a, b)
					} : o,
					ye = Yd ? function(a, b) {
						return null == a ? "" : null == b ? Yd.call(a) : p(a, b)
					} : p,
					ze = Zd ? function(a, b) {
						return null == a ? "" : null == b ? Zd.call(a) : q(a, b)
					} : q,
					Ae = Ud || function() {
						return (new hd).getTime()
					},
					Be = 8 == Vd(Y + "08") ? Vd : function(a, b) {
						return a = xe(a), Vd(a, +b || (R.test(a) ? 16 : 10))
					};
				return f.after = Ib, f.assign = Yb, f.at = nb, f.bind = Jb, f.bindAll = Kb, f.bindKey = Lb, f.chain = ib, f.compact = Oa, f.compose = Mb, f.constant = Uc, f.countBy = le, f.create = _b, f.createCallback = Vc, f.curry = Nb, f.debounce = Ob, f.defaults = ac, f.defer = Pb, f.delay = Qb, f.difference = Pa, f.drop = de, f.dropRight = ee, f.dropRightWhile = fe, f.dropWhile = ge, f.filter = qb, f.flatten = Ta, f.forEach = tb, f.forEachRight = ub, f.forIn = dc, f.forInRight = ec, f.forOwn = fc, f.forOwnRight = gc, f.functions = hc, f.groupBy = me, f.indexBy = ne, f.initial = Va, f.intersection = Wa, f.invert = jc, f.invoke = vb, f.keys = te, f.keysIn = zc, f.map = wb, f.mapValues = Ac, f.matches = Xc, f.max = xb, f.memoize = Rb, f.merge = Bc, f.min = yb, f.negate = Sb, f.omit = Cc, f.once = Tb, f.pairs = Dc, f.partial = Ub, f.partialRight = Vb, f.partition = oe, f.pick = Ec, f.pluck = pe, f.property = _c, f.pull = Za, f.range = bd, f.reject = Bb, f.remove = $a, f.rest = _a, f.shuffle = Db, f.slice = ab, f.sortBy = Gb, f.tap = jb, f.throttle = Wb, f.times = dd, f.toArray = Hb, f.transform = Fc, f.union = cb, f.uniq = db, f.values = Gc, f.valuesIn = Hc, f.where = qe, f.without = eb, f.wrap = Xb, f.xor = fb, f.zip = gb, f.zipObject = hb, f.callback = Vc, f.collect = wb, f.each = tb, f.eachRight = ub, f.extend = Yb, f.methods = hc, f.object = hb, f.select = qb, f.tail = _a, f.unique = db, f.unzip = gb, Yc(Yb({}, f)), f.camelCase = ue, f.capitalize = Ic, f.clone = Zb, f.cloneDeep = $b, f.contains = ob, f.endsWith = Jc, f.escape = Kc, f.escapeRegExp = Lc, f.every = pb, f.find = rb, f.findIndex = Qa, f.findKey = bc, f.findLast = sb, f.findLastIndex = Ra, f.findLastKey = cc, f.has = ic, f.identity = Wc, f.indexOf = Ua, f.isArguments = kc, f.isArray = re, f.isBoolean = lc, f.isDate = mc, f.isElement = nc, f.isEmpty = oc, f.isEqual = pc, f.isFinite = qc, f.isFunction = rc, f.isNaN = tc, f.isNull = uc, f.isNumber = vc, f.isObject = sc, f.isPlainObject = se, f.isRegExp = wc, f.isString = xc, f.isUndefined = yc, f.kebabCase = ve, f.lastIndexOf = Ya, f.mixin = Yc, f.noConflict = Zc, f.noop = $c, f.now = Ae, f.pad = Mc, f.padLeft = Nc, f.padRight = Oc, f.parseInt = Be, f.random = ad, f.reduce = zb, f.reduceRight = Ab, f.repeat = Pc, f.result = cd, f.runInContext = u, f.size = Eb, f.some = Fb, f.sortedIndex = bb, f.snakeCase = we, f.startsWith = Qc, f.template = Rc, f.trim = xe, f.trimLeft = ye, f.trimRight = ze, f.truncate = Sc, f.unescape = Tc, f.uniqueId = ed, f.all = pb, f.any = Fb, f.detect = rb, f.findWhere = rb, f.foldl = zb, f.foldr = Ab, f.include = ob, f.inject = zb, Yc(function() {
					var a = {};
					return wa(f, function(b, c) {
						f.prototype[c] || (a[c] = b)
					}), a
				}(), !1), f.first = Sa, f.last = Xa, f.sample = Cb, f.take = he, f.takeRight = ie, f.takeRightWhile = je, f.takeWhile = ke, f.head = Sa, wa(f, function(a, b) {
					var c = "sample" !== b;
					f.prototype[b] || (f.prototype[b] = function(b, d) {
						var e = this.__chain__,
							f = a(this.__wrapped__, b, d);
						return e || null != b && (!d || c && "function" == typeof b) ? new g(f, e) : f
					})
				}), f.VERSION = C, f.prototype.chain = kb, f.prototype.toString = lb, f.prototype.value = mb, f.prototype.valueOf = mb, oa(["join", "pop", "shift"], function(a) {
					var b = qd[a];
					f.prototype[a] = function() {
						var a = this.__chain__,
							c = b.apply(this.__wrapped__, arguments);
						return a ? new g(c, a) : c
					}
				}), oa(["push", "reverse", "sort", "unshift"], function(a) {
					var b = qd[a];
					f.prototype[a] = function() {
						return b.apply(this.__wrapped__, arguments), this
					}
				}), oa(["concat", "splice"], function(a) {
					var b = qd[a];
					f.prototype[a] = function() {
						return new g(b.apply(this.__wrapped__, arguments), this.__chain__)
					}
				}), ae.spliceObjects || oa(["pop", "shift", "splice"], function(a) {
					var b = qd[a],
						c = "splice" == a;
					f.prototype[a] = function() {
						var a = this.__chain__,
							d = this.__wrapped__,
							e = b.apply(d, arguments);
						return 0 === d.length && delete d[0], a || c ? new g(e, a) : e
					}
				}), f
			}
			var v, w = 1,
				x = 2,
				y = 4,
				z = 8,
				A = 16,
				B = 32,
				C = "2.4.1",
				D = "__lodash@" + C + "__",
				E = 0,
				F = /^[A-Z]+$/,
				G = /\b__p \+= '';/g,
				H = /\b(__p \+=) '' \+/g,
				I = /(__e\(.*?\)|\b__t\)) \+\n'';/g,
				J = /&(?:amp|lt|gt|quot|#39);/g,
				K = /[&<>"']/g,
				L = /<%-([\s\S]+?)%>/g,
				M = /<%([\s\S]+?)%>/g,
				N = /<%=([\s\S]+?)%>/g,
				O = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,
				P = /\w*$/,
				Q = /^\s*function[ \n\r\t]+\w/,
				R = /^0[xX]/,
				S = /[\xC0-\xFF]/g,
				T = /($^)/,
				U = /[.*+?^${}()|[\]\\]/g,
				V = /\bthis\b/,
				W = /['\n\r\u2028\u2029\\]/g,
				X = /[A-Z]{2,}(?=[A-Z][a-z]+[0-9]*|\b)|[A-Z]?[a-z]+[0-9]*|[A-Z]|[a-z]+|[0-9]+/g,
				Y = " 	\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000",
				Z = ["Array", "Boolean", "Date", "Error", "Function", "Math", "Number", "Object", "RegExp", "Set", "String", "_", "clearTimeout", "document", "isFinite", "isNaN", "parseInt", "setTimeout", "TypeError", "window", "WinRTError"],
				$ = ["constructor", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "toLocaleString", "toString", "valueOf"],
				_ = 0,
				aa = "[object Arguments]",
				ba = "[object Array]",
				ca = "[object Boolean]",
				da = "[object Date]",
				ea = "[object Error]",
				fa = "[object Function]",
				ga = "[object Number]",
				ha = "[object Object]",
				ia = "[object RegExp]",
				ja = "[object String]",
				ka = {};
			ka[fa] = !1, ka[aa] = ka[ba] = ka[ca] = ka[da] = ka[ga] = ka[ha] = ka[ia] = ka[ja] = !0;
			var la = {
					leading: !1,
					maxWait: 0,
					trailing: !1
				},
				ma = {
					configurable: !1,
					enumerable: !1,
					value: null,
					writable: !1
				},
				na = {
					"&": "&amp;",
					"<": "&lt;",
					">": "&gt;",
					'"': "&quot;",
					"'": "&#39;"
				},
				oa = {
					"&amp;": "&",
					"&lt;": "<",
					"&gt;": ">",
					"&quot;": '"',
					"&#39;": "'"
				},
				pa = {
					"\xc0": "A",
					"\xc1": "A",
					"\xc2": "A",
					"\xc3": "A",
					"\xc4": "A",
					"\xc5": "A",
					"\xe0": "a",
					"\xe1": "a",
					"\xe2": "a",
					"\xe3": "a",
					"\xe4": "a",
					"\xe5": "a",
					"\xc7": "C",
					"\xe7": "c",
					"\xd0": "D",
					"\xf0": "d",
					"\xc8": "E",
					"\xc9": "E",
					"\xca": "E",
					"\xcb": "E",
					"\xe8": "e",
					"\xe9": "e",
					"\xea": "e",
					"\xeb": "e",
					"\xcc": "I",
					"\xcd": "I",
					"\xce": "I",
					"\xcf": "I",
					"\xec": "i",
					"\xed": "i",
					"\xee": "i",
					"\xef": "i",
					"\xd1": "N",
					"\xf1": "n",
					"\xd2": "O",
					"\xd3": "O",
					"\xd4": "O",
					"\xd5": "O",
					"\xd6": "O",
					"\xd8": "O",
					"\xf2": "o",
					"\xf3": "o",
					"\xf4": "o",
					"\xf5": "o",
					"\xf6": "o",
					"\xf8": "o",
					"\xd9": "U",
					"\xda": "U",
					"\xdb": "U",
					"\xdc": "U",
					"\xf9": "u",
					"\xfa": "u",
					"\xfb": "u",
					"\xfc": "u",
					"\xdd": "Y",
					"\xfd": "y",
					"\xff": "y",
					"\xc6": "AE",
					"\xe6": "ae",
					"\xde": "Th",
					"\xfe": "th",
					"\xdf": "ss",
					"\xd7": " ",
					"\xf7": " "
				},
				qa = {
					"function": !0,
					object: !0
				},
				ra = {
					"\\": "\\",
					"'": "'",
					"\n": "n",
					"\r": "r",
					"\u2028": "u2028",
					"\u2029": "u2029"
				},
				sa = qa[typeof window] && window || this,
				ta = qa[typeof exports] && exports && !exports.nodeType && exports,
				ua = qa[typeof module] && module && !module.nodeType && module,
				va = ta && ua && "object" == typeof global && global;
			!va || va.global !== va && va.window !== va && va.self !== va || (sa = va);
			var wa = ua && ua.exports === ta && ta,
				xa = u();
			"function" == typeof define && "object" == typeof define.amd && define.amd ? (sa._ = xa, define("lodash", [], function() {
				return xa
			})) : ta && ua ? wa ? (ua.exports = xa)._ = xa : ta._ = xa : sa._ = xa
		}.call(this), define("framework/ServiceRegistry", ["common/EventEmitter", "common/collections/MultiMap", "lodash"], function(a, b, c) {
			"use strict";

			function d() {
				this._services = new b
			}

			function e(a, b, c) {
				this._interfaces = a, this._meta = b || {}, this._service = c
			}
			var f = 0,
				g = d.prototype = Object.create(a.prototype);
			g.register = function(a, b) {
				null == b.__registryIdentifier && (b.__registryIdentifier = ++f);
				var c;
				Array.isArray(a) ? (c = a, a = {}) : "string" == typeof a ? (c = [a], a = {}) : c = Array.isArray(a.interfaces) ? a.interfaces : [a.interfaces];
				var d = new e(c, a.meta, b);
				return c.forEach(function(a) {
					this._services.put(a, d), this.emit("registered:" + a, d)
				}, this), this.emit("registered", d), this
			}, g.deregister = function(a) {
				return a = this.normalize(a), this._deregister(a), this
			}, g.on = function(b) {
				var c = a.prototype.on.apply(this, arguments),
					d = b.split(":");
				return "registered" == d[0] && (1 == d.length ? console.log("immediate callback for naked registered not implemented.") : this._services.get(d[1]).forEach(function(a) {
					this.emit("registered:" + d[1], a)
				}, this)), c
			}, g._deregister = function(a) {
				var b = [];
				a.interfaces.forEach(function(c) {
					var d = this._services.get(c);
					d.forEach(function(d) {
						d.matches(a) && (this._services.remove(c, d), b.push(d))
					}, this)
				}, this), b.forEach(function(a) {
					this.emit("deregistered", a)
				}, this)
			}, g.getBest = function(a) {
				var b = this.getBestEntry(a);
				return null != b ? b.service() : null
			}, g.getBestEntry = function(a) {
				return this.get(a)[0]
			};
			var h = g.normalize = function(a) {
				var b = {};
				return "string" == typeof a ? b.interfaces = [a] : Array.isArray(a) ? b.interfaces = a : (b = a, Array.isArray(b.interfaces) || (b.interfaces = [b.interfaces])), b
			};
			return g.get = function(a) {
				var b, c = this.normalize(a),
					d = {};
				c.interfaces.some(function(c, e) {
					return b = {}, this._services.get(c).forEach(function(c) {
						c.metaMatches(a.meta) && (0 == e || null != d[c.serviceIdentifier()]) && (b[c.serviceIdentifier()] = c)
					}), d = b, 0 == Object.keys(b).length
				}, this);
				var e = [];
				for (var f in b) e.push(b[f]);
				return e
			}, g.getInvoke = function(a, b, c) {
				var d = this.get(a),
					e = {};
				return d.forEach(function(a) {
					var d = a.service(),
						f = d[b].apply(d, c);
					e[f.id] = f
				}, this), e
			}, e.prototype = {
				equals: function(a) {
					return a._service.__registryIdentifier == this._service.__registryIdentifier
				},
				service: function() {
					return this._service
				},
				meta: function() {
					return this._meta
				},
				matches: function(a) {
					a = h(a);
					var b = {};
					return a.interfaces.forEach(function(a) {
						b[a] = !0
					}), this._interfaces.every(function(a) {
						return b[a]
					})
				},
				metaMatches: function(a) {
					if (null == a) return !0;
					for (var b in a)
						if (!c.isEqual(a[b], this._meta[b])) return !1;
					return !0
				},
				serviceIdentifier: function() {
					return this._service.__registryIdentifier
				}
			}, d
		}), define("libs/backbone", ["lodash", "jquery"], function(a, b) {
			var c = {};
			return c._ = a, c.jQuery = b,
				function() {
					var a, b = this,
						c = b.Backbone,
						d = [],
						e = d.push,
						f = d.slice,
						g = d.splice;
					a = "undefined" != typeof exports ? exports : b.Backbone = {}, a.VERSION = "1.0.0";
					var h = b._;
					a.$ = b.jQuery || b.Zepto || b.ender || b.$, a.noConflict = function() {
						return b.Backbone = c, this
					}, a.emulateHTTP = !1, a.emulateJSON = !1;
					var i = a.Events = {
							on: function(a, b, c) {
								if (!k(this, "on", a, [b, c]) || !b) return this;
								this._events || (this._events = {});
								var d = this._events[a] || (this._events[a] = []);
								return d.push({
									callback: b,
									context: c,
									ctx: c || this
								}), this
							},
							once: function(a, b, c) {
								if (!k(this, "once", a, [b, c]) || !b) return this;

								var d = this,
									e = h.once(function() {
										d.off(a, e), b.apply(this, arguments)
									});
								return e._callback = b, this.on(a, e, c)
							},
							off: function(a, b, c) {
								var d, e, f, g, i, j, l, m;
								if (!this._events || !k(this, "off", a, [b, c])) return this;
								if (!a && !b && !c) return this._events = {}, this;
								for (g = a ? [a] : h.keys(this._events), i = 0, j = g.length; j > i; i++)
									if (a = g[i], f = this._events[a]) {
										if (this._events[a] = d = [], b || c)
											for (l = 0, m = f.length; m > l; l++) e = f[l], (b && b !== e.callback && b !== e.callback._callback || c && c !== e.context) && d.push(e);
										d.length || delete this._events[a]
									}
								return this
							},
							trigger: function(a) {
								if (!this._events) return this;
								var b = f.call(arguments, 1);
								if (!k(this, "trigger", a, b)) return this;
								var c = this._events[a],
									d = this._events.all;
								return c && l(c, b), d && l(d, arguments), this
							},
							stopListening: function(a, b, c) {
								var d = this._listeners;
								if (!d) return this;
								var e = !b && !c;
								"object" == typeof b && (c = this), a && ((d = {})[a._listenerId] = a);
								for (var f in d) d[f].off(b, c, this), e && delete this._listeners[f];
								return this
							}
						},
						j = /\s+/,
						k = function(a, b, c, d) {
							if (!c) return !0;
							if ("object" == typeof c) {
								for (var e in c) a[b].apply(a, [e, c[e]].concat(d));
								return !1
							}
							if (j.test(c)) {
								for (var f = c.split(j), g = 0, h = f.length; h > g; g++) a[b].apply(a, [f[g]].concat(d));
								return !1
							}
							return !0
						},
						l = function(a, b) {
							var c, d = -1,
								e = a.length,
								f = b[0],
								g = b[1],
								h = b[2];
							switch (b.length) {
								case 0:
									for (; ++d < e;)(c = a[d]).callback.call(c.ctx);
									return;
								case 1:
									for (; ++d < e;)(c = a[d]).callback.call(c.ctx, f);
									return;
								case 2:
									for (; ++d < e;)(c = a[d]).callback.call(c.ctx, f, g);
									return;
								case 3:
									for (; ++d < e;)(c = a[d]).callback.call(c.ctx, f, g, h);
									return;
								default:
									for (; ++d < e;)(c = a[d]).callback.apply(c.ctx, b)
							}
						},
						m = {
							listenTo: "on",
							listenToOnce: "once"
						};
					h.each(m, function(a, b) {
						i[b] = function(b, c, d) {
							var e = this._listeners || (this._listeners = {}),
								f = b._listenerId || (b._listenerId = h.uniqueId("l"));
							return e[f] = b, "object" == typeof c && (d = this), b[a](c, d, this), this
						}
					}), i.bind = i.on, i.unbind = i.off, h.extend(a, i);
					var n = a.Model = function(a, b) {
							var c, d = a || {};
							b || (b = {}), this.cid = h.uniqueId("c"), this.attributes = {}, h.extend(this, h.pick(b, o)), b.parse && (d = this.parse(d, b) || {}), (c = h.result(this, "defaults")) && (d = h.defaults({}, d, c)), this.set(d, b), this.changed = {}, this.initialize.apply(this, arguments)
						},
						o = ["url", "urlRoot", "collection"];
					h.extend(n.prototype, i, {
						changed: null,
						validationError: null,
						idAttribute: "id",
						initialize: function() {},
						toJSON: function() {
							return h.clone(this.attributes)
						},
						sync: function() {
							return a.sync.apply(this, arguments)
						},
						get: function(a) {
							return this.attributes[a]
						},
						escape: function(a) {
							return h.escape(this.get(a))
						},
						has: function(a) {
							return null != this.get(a)
						},
						set: function(a, b, c) {
							var d, e, f, g, i, j, k, l;
							if (null == a) return this;
							if ("object" == typeof a ? (e = a, c = b) : (e = {})[a] = b, c || (c = {}), !this._validate(e, c)) return !1;
							f = c.unset, i = c.silent, g = [], j = this._changing, this._changing = !0, j || (this.changed = {}), l = this.attributes, k = this._previousAttributes, this.idAttribute in e && (this.id = e[this.idAttribute]);
							for (d in e) b = e[d], h.isEqual(l[d], b) || g.push(d), f ? delete l[d] : l[d] = b;
							if (!i) {
								g.length && (this._pending = !0), c.changes = g;
								for (var m = 0, n = g.length; n > m; m++) this.trigger("change:" + g[m], this, l[g[m]], c)
							}
							if (j) return this;
							if (!i)
								for (; this._pending;) this._pending = !1, this.trigger("change", this, c);
							return this._pending = !1, this._changing = !1, this
						},
						unset: function(a, b) {
							return this.set(a, void 0, h.extend({}, b, {
								unset: !0
							}))
						},
						clear: function(a) {
							var b = {};
							for (var c in this.attributes) b[c] = void 0;
							return this.set(b, h.extend({}, a, {
								unset: !0
							}))
						},
						hasChanged: function(a) {
							return null == a ? !h.isEmpty(this.changed) : h.has(this.changed, a)
						},
						changedAttributes: function(a) {
							if (!a) return this.hasChanged() ? h.clone(this.changed) : !1;
							var b, c = !1,
								d = this._changing ? this._previousAttributes : this.attributes;
							for (var e in a) h.isEqual(d[e], b = a[e]) || ((c || (c = {}))[e] = b);
							return c
						},
						previous: function(a) {
							return null != a && this._previousAttributes ? this._previousAttributes[a] : null
						},
						previousAttributes: function() {
							return h.clone(this._previousAttributes)
						},
						fetch: function(a) {
							a = a ? h.clone(a) : {}, void 0 === a.parse && (a.parse = !0);
							var b = this,
								c = a.success;
							return a.success = function(d) {
								return b.set(b.parse(d, a), a) ? (c && c(b, d, a), void b.trigger("sync", b, d, a)) : !1
							}, L(this, a), this.sync("read", this, a)
						},
						save: function(a, b, c) {
							var d, e, f, g = this.attributes;
							if (null == a || "object" == typeof a ? (d = a, c = b) : (d = {})[a] = b, !(!d || c && c.wait || this.set(d, c))) return !1;
							if (c = h.extend({
									validate: !0
								}, c), !this._validate(d, c)) return !1;
							d && c.wait && (this.attributes = h.extend({}, g, d)), void 0 === c.parse && (c.parse = !0);
							var i = this,
								j = c.success;
							return c.success = function(a) {
								i.attributes = g;
								var b = i.parse(a, c);
								return c.wait && (b = h.extend(d || {}, b)), h.isObject(b) && !i.set(b, c) ? !1 : (j && j(i, a, c), void i.trigger("sync", i, a, c))
							}, L(this, c), e = this.isNew() ? "create" : c.patch ? "patch" : "update", "patch" === e && (c.attrs = d), f = this.sync(e, this, c), d && c.wait && (this.attributes = g), f
						},
						destroy: function(a) {
							a = a ? h.clone(a) : {};
							var b = this,
								c = a.success,
								d = function() {
									b.trigger("destroy", b, b.collection, a)
								};
							if (a.success = function(e) {
									(a.wait || b.isNew()) && d(), c && c(b, e, a), b.isNew() || b.trigger("sync", b, e, a)
								}, this.isNew()) return a.success(), !1;
							L(this, a);
							var e = this.sync("delete", this, a);
							return a.wait || d(), e
						},
						url: function() {
							var a = h.result(this, "urlRoot") || h.result(this.collection, "url") || K();
							return this.isNew() ? a : a + ("/" === a.charAt(a.length - 1) ? "" : "/") + encodeURIComponent(this.id)
						},
						parse: function(a) {
							return a
						},
						clone: function() {
							return new this.constructor(this.attributes)
						},
						isNew: function() {
							return null == this.id
						},
						isValid: function(a) {
							return this._validate({}, h.extend(a || {}, {
								validate: !0
							}))
						},
						_validate: function(a, b) {
							if (!b.validate || !this.validate) return !0;
							a = h.extend({}, this.attributes, a);
							var c = this.validationError = this.validate(a, b) || null;
							return c ? (this.trigger("invalid", this, c, h.extend(b || {}, {
								validationError: c
							})), !1) : !0
						}
					});
					var p = ["keys", "values", "pairs", "invert", "pick", "omit"];
					h.each(p, function(a) {
						n.prototype[a] = function() {
							var b = f.call(arguments);
							return b.unshift(this.attributes), h[a].apply(h, b)
						}
					});
					var q = a.Collection = function(a, b) {
							b || (b = {}), b.url && (this.url = b.url), b.model && (this.model = b.model), void 0 !== b.comparator && (this.comparator = b.comparator), this._reset(), this.initialize.apply(this, arguments), a && this.reset(a, h.extend({
								silent: !0
							}, b))
						},
						r = {
							add: !0,
							remove: !0,
							merge: !0
						},
						s = {
							add: !0,
							merge: !1,
							remove: !1
						};
					h.extend(q.prototype, i, {
						model: n,
						initialize: function() {},
						toJSON: function(a) {
							return this.map(function(b) {
								return b.toJSON(a)
							})
						},
						sync: function() {
							return a.sync.apply(this, arguments)
						},
						add: function(a, b) {
							return this.set(a, h.defaults(b || {}, s))
						},
						remove: function(a, b) {
							a = h.isArray(a) ? a.slice() : [a], b || (b = {});
							var c, d, e, f;
							for (c = 0, d = a.length; d > c; c++) f = this.get(a[c]), f && (delete this._byId[f.id], delete this._byId[f.cid], e = this.indexOf(f), this.models.splice(e, 1), this.length--, b.silent || (b.index = e, f.trigger("remove", f, this, b)), this._removeReference(f));
							return this
						},
						set: function(a, b) {
							b = h.defaults(b || {}, r), b.parse && (a = this.parse(a, b)), h.isArray(a) || (a = a ? [a] : []);
							var c, d, f, i, j, k = b.at,
								l = this.comparator && null == k && b.sort !== !1,
								m = h.isString(this.comparator) ? this.comparator : null,
								n = [],
								o = [],
								p = {};
							for (c = 0, d = a.length; d > c; c++)(f = this._prepareModel(a[c], b)) && ((i = this.get(f)) ? (b.remove && (p[i.cid] = !0), b.merge && (i.set(f.attributes, b), l && !j && i.hasChanged(m) && (j = !0))) : b.add && (n.push(f), f.on("all", this._onModelEvent, this), this._byId[f.cid] = f, null != f.id && (this._byId[f.id] = f)));
							if (b.remove) {
								for (c = 0, d = this.length; d > c; ++c) p[(f = this.models[c]).cid] || o.push(f);
								o.length && this.remove(o, b)
							}
							if (n.length && (l && (j = !0), this.length += n.length, null != k ? g.apply(this.models, [k, 0].concat(n)) : e.apply(this.models, n)), j && this.sort({
									silent: !0
								}), b.silent) return this;
							for (c = 0, d = n.length; d > c; c++)(f = n[c]).trigger("add", f, this, b);
							return j && this.trigger("sort", this, b), this
						},
						reset: function(a, b) {
							b || (b = {});
							for (var c = 0, d = this.models.length; d > c; c++) this._removeReference(this.models[c]);
							return b.previousModels = this.models, this._reset(), this.add(a, h.extend({
								silent: !0
							}, b)), b.silent || this.trigger("reset", this, b), this
						},
						push: function(a, b) {
							return a = this._prepareModel(a, b), this.add(a, h.extend({
								at: this.length
							}, b)), a
						},
						pop: function(a) {
							var b = this.at(this.length - 1);
							return this.remove(b, a), b
						},
						unshift: function(a, b) {
							return a = this._prepareModel(a, b), this.add(a, h.extend({
								at: 0
							}, b)), a
						},
						shift: function(a) {
							var b = this.at(0);
							return this.remove(b, a), b
						},
						slice: function(a, b) {
							return this.models.slice(a, b)
						},
						get: function(a) {
							return null == a ? void 0 : this._byId[null != a.id ? a.id : a.cid || a]
						},
						at: function(a) {
							return this.models[a]
						},
						where: function(a, b) {
							return h.isEmpty(a) ? b ? void 0 : [] : this[b ? "find" : "filter"](function(b) {
								for (var c in a)
									if (a[c] !== b.get(c)) return !1;
								return !0
							})
						},
						findWhere: function(a) {
							return this.where(a, !0)
						},
						sort: function(a) {
							if (!this.comparator) throw new Error("Cannot sort a set without a comparator");
							return a || (a = {}), h.isString(this.comparator) || 1 === this.comparator.length ? this.models = this.sortBy(this.comparator, this) : this.models.sort(h.bind(this.comparator, this)), a.silent || this.trigger("sort", this, a), this
						},
						sortedIndex: function(a, b, c) {
							b || (b = this.comparator);
							var d = h.isFunction(b) ? b : function(a) {
								return a.get(b)
							};
							return h.sortedIndex(this.models, a, d, c)
						},
						pluck: function(a) {
							return h.invoke(this.models, "get", a)
						},
						fetch: function(a) {
							a = a ? h.clone(a) : {}, void 0 === a.parse && (a.parse = !0);
							var b = a.success,
								c = this;
							return a.success = function(d) {
								var e = a.reset ? "reset" : "set";
								c[e](d, a), b && b(c, d, a), c.trigger("sync", c, d, a)
							}, L(this, a), this.sync("read", this, a)
						},
						create: function(a, b) {
							if (b = b ? h.clone(b) : {}, !(a = this._prepareModel(a, b))) return !1;
							b.wait || this.add(a, b);
							var c = this,
								d = b.success;
							return b.success = function(e) {
								b.wait && c.add(a, b), d && d(a, e, b)
							}, a.save(null, b), a
						},
						parse: function(a) {
							return a
						},
						clone: function() {
							return new this.constructor(this.models)
						},
						_reset: function() {
							this.length = 0, this.models = [], this._byId = {}
						},
						_prepareModel: function(a, b) {
							if (a instanceof n) return a.collection || (a.collection = this), a;
							b || (b = {}), b.collection = this;
							var c = new this.model(a, b);
							return c._validate(a, b) ? c : (this.trigger("invalid", this, a, b), !1)
						},
						_removeReference: function(a) {
							this === a.collection && delete a.collection, a.off("all", this._onModelEvent, this)
						},
						_onModelEvent: function(a, b, c, d) {
							("add" !== a && "remove" !== a || c === this) && ("destroy" === a && this.remove(b, d), b && a === "change:" + b.idAttribute && (delete this._byId[b.previous(b.idAttribute)], null != b.id && (this._byId[b.id] = b)), this.trigger.apply(this, arguments))
						}
					});
					var t = ["forEach", "each", "map", "collect", "reduce", "foldl", "inject", "reduceRight", "foldr", "find", "detect", "filter", "select", "reject", "every", "all", "some", "any", "include", "contains", "invoke", "max", "min", "toArray", "size", "first", "head", "take", "initial", "rest", "tail", "drop", "last", "without", "indexOf", "shuffle", "lastIndexOf", "isEmpty", "chain"];
					h.each(t, function(a) {
						q.prototype[a] = function() {
							var b = f.call(arguments);
							return b.unshift(this.models), h[a].apply(h, b)
						}
					});
					var u = ["groupBy", "countBy", "sortBy"];
					h.each(u, function(a) {
						q.prototype[a] = function(b, c) {
							var d = h.isFunction(b) ? b : function(a) {
								return a.get(b)
							};
							return h[a](this.models, d, c)
						}
					});
					var v = a.View = function(a) {
							this.cid = h.uniqueId("view"), this._configure(a || {}), this._ensureElement(), this.initialize.apply(this, arguments), this.delegateEvents()
						},
						w = /^(\S+)\s*(.*)$/,
						x = ["model", "collection", "el", "id", "attributes", "className", "tagName", "events"];
					h.extend(v.prototype, i, {
						tagName: "div",
						$: function(a) {
							return this.$el.find(a)
						},
						initialize: function() {},
						render: function() {
							return this
						},
						remove: function() {
							return this.$el.remove(), this.stopListening(), this
						},
						setElement: function(b, c) {
							return this.$el && this.undelegateEvents(), this.$el = b instanceof a.$ ? b : a.$(b), this.el = this.$el[0], c !== !1 && this.delegateEvents(), this
						},
						delegateEvents: function(a) {
							if (!a && !(a = h.result(this, "events"))) return this;
							this.undelegateEvents();
							for (var b in a) {
								var c = a[b];
								if (h.isFunction(c) || (c = this[a[b]]), c) {
									var d = b.match(w),
										e = d[1],
										f = d[2];
									c = h.bind(c, this), e += ".delegateEvents" + this.cid, "" === f ? this.$el.on(e, c) : this.$el.on(e, f, c)
								}
							}
							return this
						},
						undelegateEvents: function() {
							return this.$el.off(".delegateEvents" + this.cid), this
						},
						_configure: function(a) {
							this.options && (a = h.extend({}, h.result(this, "options"), a)), h.extend(this, h.pick(a, x)), this.options = a
						},
						_ensureElement: function() {
							if (this.el) this.setElement(h.result(this, "el"), !1);
							else {
								var b = h.extend({}, h.result(this, "attributes"));
								this.id && (b.id = h.result(this, "id")), this.className && (b["class"] = h.result(this, "className"));
								var c = a.$("<" + h.result(this, "tagName") + ">").attr(b);
								this.setElement(c, !1)
							}
						}
					}), a.sync = function(b, c, d) {
						var e = y[b];
						h.defaults(d || (d = {}), {
							emulateHTTP: a.emulateHTTP,
							emulateJSON: a.emulateJSON
						});
						var f = {
							type: e,
							dataType: "json"
						};
						if (d.url || (f.url = h.result(c, "url") || K()), null != d.data || !c || "create" !== b && "update" !== b && "patch" !== b || (f.contentType = "application/json", f.data = JSON.stringify(d.attrs || c.toJSON(d))), d.emulateJSON && (f.contentType = "application/x-www-form-urlencoded", f.data = f.data ? {
								model: f.data
							} : {}), d.emulateHTTP && ("PUT" === e || "DELETE" === e || "PATCH" === e)) {
							f.type = "POST", d.emulateJSON && (f.data._method = e);
							var g = d.beforeSend;
							d.beforeSend = function(a) {
								return a.setRequestHeader("X-HTTP-Method-Override", e), g ? g.apply(this, arguments) : void 0
							}
						}
						"GET" === f.type || d.emulateJSON || (f.processData = !1), "PATCH" !== f.type || !window.ActiveXObject || window.external && window.external.msActiveXFilteringEnabled || (f.xhr = function() {
							return new ActiveXObject("Microsoft.XMLHTTP")
						});
						var i = d.xhr = a.ajax(h.extend(f, d));
						return c.trigger("request", c, i, d), i
					};
					var y = {
						create: "POST",
						update: "PUT",
						patch: "PATCH",
						"delete": "DELETE",
						read: "GET"
					};
					a.ajax = function() {
						return a.$.ajax.apply(a.$, arguments)
					};
					var z = a.Router = function(a) {
							a || (a = {}), a.routes && (this.routes = a.routes), this._bindRoutes(), this.initialize.apply(this, arguments)
						},
						A = /\((.*?)\)/g,
						B = /(\(\?)?:\w+/g,
						C = /\*\w+/g,
						D = /[\-{}\[\]+?.,\\\^$|#\s]/g;
					h.extend(z.prototype, i, {
						initialize: function() {},
						route: function(b, c, d) {
							h.isRegExp(b) || (b = this._routeToRegExp(b)), h.isFunction(c) && (d = c, c = ""), d || (d = this[c]);
							var e = this;
							return a.history.route(b, function(f) {
								var g = e._extractParameters(b, f);
								d && d.apply(e, g), e.trigger.apply(e, ["route:" + c].concat(g)), e.trigger("route", c, g), a.history.trigger("route", e, c, g)
							}), this
						},
						navigate: function(b, c) {
							return a.history.navigate(b, c), this
						},
						_bindRoutes: function() {
							if (this.routes) {
								this.routes = h.result(this, "routes");
								for (var a, b = h.keys(this.routes); null != (a = b.pop());) this.route(a, this.routes[a])
							}
						},
						_routeToRegExp: function(a) {
							return a = a.replace(D, "\\$&").replace(A, "(?:$1)?").replace(B, function(a, b) {
								return b ? a : "([^/]+)"
							}).replace(C, "(.*?)"), new RegExp("^" + a + "$")
						},
						_extractParameters: function(a, b) {
							var c = a.exec(b).slice(1);
							return h.map(c, function(a) {
								return a ? decodeURIComponent(a) : null
							})
						}
					});
					var E = a.History = function() {
							this.handlers = [], h.bindAll(this, "checkUrl"), "undefined" != typeof window && (this.location = window.location, this.history = window.history)
						},
						F = /^[#\/]|\s+$/g,
						G = /^\/+|\/+$/g,
						H = /msie [\w.]+/,
						I = /\/$/;
					E.started = !1, h.extend(E.prototype, i, {
						interval: 50,
						getHash: function(a) {
							var b = (a || this).location.href.match(/#(.*)$/);
							return b ? b[1] : ""
						},
						getFragment: function(a, b) {
							if (null == a)
								if (this._hasPushState || !this._wantsHashChange || b) {
									a = this.location.pathname;
									var c = this.root.replace(I, "");
									a.indexOf(c) || (a = a.substr(c.length))
								} else a = this.getHash();
							return a.replace(F, "")
						},
						start: function(b) {
							if (E.started) throw new Error("Backbone.history has already been started");
							E.started = !0, this.options = h.extend({}, {
								root: "/"
							}, this.options, b), this.root = this.options.root, this._wantsHashChange = this.options.hashChange !== !1, this._wantsPushState = !!this.options.pushState, this._hasPushState = !!(this.options.pushState && this.history && this.history.pushState);
							var c = this.getFragment(),
								d = document.documentMode,
								e = H.exec(navigator.userAgent.toLowerCase()) && (!d || 7 >= d);
							this.root = ("/" + this.root + "/").replace(G, "/"), e && this._wantsHashChange && (this.iframe = a.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow, this.navigate(c)), this._hasPushState ? a.$(window).on("popstate", this.checkUrl) : this._wantsHashChange && "onhashchange" in window && !e ? a.$(window).on("hashchange", this.checkUrl) : this._wantsHashChange && (this._checkUrlInterval = setInterval(this.checkUrl, this.interval)), this.fragment = c;
							var f = this.location,
								g = f.pathname.replace(/[^\/]$/, "$&/") === this.root;
							return this._wantsHashChange && this._wantsPushState && !this._hasPushState && !g ? (this.fragment = this.getFragment(null, !0), this.location.replace(this.root + this.location.search + "#" + this.fragment), !0) : (this._wantsPushState && this._hasPushState && g && f.hash && (this.fragment = this.getHash().replace(F, ""), this.history.replaceState({}, document.title, this.root + this.fragment + f.search)), this.options.silent ? void 0 : this.loadUrl())
						},
						stop: function() {
							a.$(window).off("popstate", this.checkUrl).off("hashchange", this.checkUrl), clearInterval(this._checkUrlInterval), E.started = !1
						},
						route: function(a, b) {
							this.handlers.unshift({
								route: a,
								callback: b
							})
						},
						checkUrl: function() {
							var a = this.getFragment();
							return a === this.fragment && this.iframe && (a = this.getFragment(this.getHash(this.iframe))), a === this.fragment ? !1 : (this.iframe && this.navigate(a), void(this.loadUrl() || this.loadUrl(this.getHash())))
						},
						loadUrl: function(a) {
							var b = this.fragment = this.getFragment(a),
								c = h.any(this.handlers, function(a) {
									return a.route.test(b) ? (a.callback(b), !0) : void 0
								});
							return c
						},
						navigate: function(a, b) {
							if (!E.started) return !1;
							if (b && b !== !0 || (b = {
									trigger: b
								}), a = this.getFragment(a || ""), this.fragment !== a) {
								this.fragment = a;
								var c = this.root + a;
								if (this._hasPushState) this.history[b.replace ? "replaceState" : "pushState"]({}, document.title, c);
								else {
									if (!this._wantsHashChange) return this.location.assign(c);
									this._updateHash(this.location, a, b.replace), this.iframe && a !== this.getFragment(this.getHash(this.iframe)) && (b.replace || this.iframe.document.open().close(), this._updateHash(this.iframe.location, a, b.replace))
								}
								b.trigger && this.loadUrl(a)
							}
						},
						_updateHash: function(a, b, c) {
							if (c) {
								var d = a.href.replace(/(javascript:|#).*$/, "");
								a.replace(d + "#" + b)
							} else a.hash = "#" + b
						}
					}), a.history = new E;
					var J = function(a, b) {
						var c, d = this;
						c = a && h.has(a, "constructor") ? a.constructor : function() {
							return d.apply(this, arguments)
						}, h.extend(c, d, b);
						var e = function() {
							this.constructor = c
						};
						return e.prototype = d.prototype, c.prototype = new e, a && h.extend(c.prototype, a), c.__super__ = d.prototype, c
					};
					n.extend = q.extend = z.extend = v.extend = E.extend = J;
					var K = function() {
							throw new Error('A "url" property or function must be specified')
						},
						L = function(a, b) {
							var c = b.error;
							b.error = function(d) {
								c && c(a, d, b), a.trigger("error", a, d, b)
							}
						}
				}.call(c), c.Backbone
		}), define("libs/etch", ["libs/backbone"], function(b) {
			"use strict";

			function c(a) {
				var b = a.target.dataset.value;
				return null == b && ($target = $(a.target), b = $target.parent()[0].dataset.value), b
			}
			var d = {},
				e = {},
				f = {},
				g = {};
			return g.VERSION = "0.6.2", g.config = {
				selector: ".editable",
				buttonClasses: {
					"default": ["save"],
					all: ["bold", "italic", "underline", "unordered-list", "ordered-list", "link", "clear-formatting", "save"],
					title: ["bold", "italic", "underline", "save"]
				}
			}, d.Editor = b.Model.extend({
				constructor: function() {
					b.Model.prototype.constructor.apply(this, arguments)
				}
			}), e.Editor = b.View.extend({
				constructor: function() {
					b.View.prototype.constructor.apply(this, arguments)
				},
				initialize: function() {
					this.$el = $(this.el), _.bindAll(this, "changeButtons", "changePosition", "changeEditable", "insertImage", "_editableModelChanged"), this.model.bind("change:buttons", this.changeButtons, this), this.model.bind("change:position", this.changePosition, this), this.model.bind("change:editable", this.changeEditable, this), this.model.bind("caretUpdated", this._caretUpdated, this), this.model.bind("spectrum:hide", this._hideSpectrum, this), this.model.on("change:editableModel", this._editableModelChanged, this), this._editableModelChanged(this.model, this.model.get("editableModel")), this.changeEditable()
				},
				events: {
					"click .etch-bold": "toggleBold",
					"click .etch-italic": "toggleItalic",
					"click .etch-underline": "toggleUnderline",
					"click .etch-heading": "toggleHeading",
					"click .etch-unordered-list": "toggleUnorderedList",
					"click .etch-justify-left": "justifyLeft",
					"click .etch-justify-center": "justifyCenter",
					"click .etch-justify-right": "justifyRight",
					"click .etch-ordered-list": "toggleOrderedList",
					"click .etch-link": "toggleLink",
					"click .etch-image": "getImage",
					"click .etch-save": "save",
					"click .etch-clear-formatting": "clearFormatting",
					'click [data-option="fontSize"]': "setFontSize",
					'click [data-option="lineHeight"]': "setLineHeight",
					'click [data-option="fontFamily"]': "setFontFamily"
				},
				_editableModelChanged: function(a, b) {
					null != this._lastEditableModel && this._lastEditableModel.off(null, null, this), this._lastEditableModel = b, b.on("change:size", this._fontSizeChanged, this), b.on("change:lineHeight", this._lineHeightChanged, this)
				},
				_hideSpectrum: function() {
					this.$colorChooser.spectrum("hide")
				},
				_caretUpdated: function() {
					var b = $(a(window)),
						c = b.attr("color"),
						d = b.attr("face");
					c = c || b.parents("font").attr("color") || "#333", d = d || b.parents("font").attr("face") || "\u5b8b\u4f53", d && (d = d.split(",")[0]), this.$fontFamilyReadout.html(d), this.$colorChooser.spectrum("set", c), this._lastEditableModel.trigger("change:state")
				},
				_fontSizeChanged: function(a, b) {
					this.$fontSizeReadout.text(b)
				},
				_lineHeightChanged: function(a, b) {
					b && this.$lineHeightReadout.text(b)
				},
				changeEditable: function() {
					this.setButtonClass()
				},
				setButtonClass: function() {
					var a = this.model,
						b = a.get("editable").attr("data-button-class") || "default";
					a.set({
						buttons: g.config.buttonClasses[b]
					})
				},
				changeButtons: function() {
					this.$el.empty();
					var a = this,
						c = this.model.get("buttons");
					if (!c.length) return void $(this.el).hide();
					var d = a.$el;
					_.each(this.model.get("buttons"), function(b) {
						if ("<group>" == b) d = g.groupElFactory(), a.$el.append(d);
						else if ("</group>" == b) d = a.$el;
						else {
							var c = g.buttonElFactory(b);
							d.append(c)
						}
					}), $(this.el).show("fast");
					var e = this.$el.find(".color-chooser");
					if (e.length > 0) {
						var f = "333";
						e.spectrum({
							color: "#" + f,
							showSelectionPalette: !0,
							localStorageKey: "strut.colorChooser",
							showPalette: !0,
							showInitial: !0,
							showInput: !0,
							palette: [],
							clickoutFiresChange: !0,
							theme: "sp-dark",
							move: function(a) {
								document.execCommand("foreColor", !1, a.toHexString())
							},
							change: function(a) {
								b.trigger("etch:state", {
									color: a.toHexString()
								})
							}
						});
						var h = function(a) {
							a.preventDefault()
						};
						$(".sp-replacer").mousedown(h), $(".sp-container").mousedown(h), e.mousedown(h), e.find("div").css("backgroundColor", "#" + f)
					}
					var i = this.$el.find(".dropdown-toggle");
					i.dropdown(), this.$fontSizeReadout = this.$el.find(".fontSizeReadout"), this.$lineHeightReadout = this.$el.find(".lineHeightReadout"), this.$colorChooser = e, this.$fontFamilyReadout = this.$el.find(".fontFamilyBtn > .text")
				},
				changePosition: function() {
					var a = this.model.get("position");
					this.$el.animate({
						top: a.y - 50,
						left: a.x
					}, {
						queue: !1,
						duration: 300
					})
				},
				wrapSelection: function(a, b) {
					var c = a === Range ? a : a.getRangeAt(0),
						d = document.createElement(b);
					c.surroundContents(d), this._lastEditableModel.trigger("change:state")
				},
				clearFormatting: function(a) {
					a.preventDefault(), document.execCommand("removeFormat", !1, null), this._lastEditableModel.trigger("change:state")
				},
				setFontFamily: function(a) {
					a.preventDefault();
					var d = c(a);
					document.execCommand("fontName", !1, d), d = d.split(",")[0], this.$fontFamilyReadout.text(d), b.trigger("etch:state", {
						face: d
					}), this._lastEditableModel.trigger("change:state")
				},
				setFontSize: function(a) {
					var d = this.model.get("editableModel"),
						e = c(a);
					d.set("size", e |= 0), this._fontSizeChanged(this._lastEditableModel, e), b.trigger("etch:state", {
						size: e
					}), this._lastEditableModel.trigger("change:state")
				},
				setLineHeight: function(a) {
					var b = c(a),
						d = this.model.get("editableModel");
					d.set("lineHeight", b), this._lastEditableModel.trigger("change:state"), this._lineHeightChanged(this._lastEditableModel, b)
				},
				toggleBold: function(a) {
					a.preventDefault(), document.execCommand("bold", !1, null), this._lastEditableModel.trigger("change:state")
				},
				toggleItalic: function(a) {
					a.preventDefault(), document.execCommand("italic", !1, null), this._lastEditableModel.trigger("change:state")
				},
				toggleUnderline: function(a) {
					a.preventDefault(), document.execCommand("underline", !1, null), this._lastEditableModel.trigger("change:state")
				},
				toggleHeading: function(a) {
					a.preventDefault();
					var b = window.getSelection().getRangeAt(0),
						c = b.commonAncestorContainer.parentElement;
					if ($(c).is("h3")) return void $(c).replaceWith(c.textContent);
					var d = document.createElement("h3");
					b.surroundContents(d), this._lastEditableModel.trigger("change:state")
				},
				urlPrompt: function(a) {
					var b = prompt("Enter a url", "http://");
					a(/^((http|https)...)/.test(b) ? b : "http://" + b), this._lastEditableModel.trigger("change:state")
				},
				toggleLink: function(a) {
					a.preventDefault();
					var b = window.getSelection().getRangeAt(0);
					"A" === b.startContainer.parentNode.tagName || "A" === b.endContainer.parentNode.tagName ? document.execCommand("unlink", !1, null) : this.urlPrompt(function(a) {
						document.execCommand("createLink", !1, a)
					}), this._lastEditableModel.trigger("change:state")
				},
				toggleUnorderedList: function(a) {
					a.preventDefault(), document.execCommand("insertUnorderedList", !1, null), this._lastEditableModel.trigger("change:state")
				},
				toggleOrderedList: function(a) {
					a.preventDefault(), document.execCommand("insertOrderedList", !1, null), this._lastEditableModel.trigger("change:state")
				},
				justifyLeft: function(a) {
					a.preventDefault(), document.execCommand("justifyLeft", !1, null), this._lastEditableModel.trigger("change:state")
				},
				justifyCenter: function(a) {
					a.preventDefault(), document.execCommand("justifyCenter", !1, null), this._lastEditableModel.trigger("change:state")
				},
				justifyRight: function(a) {
					a.preventDefault(), document.execCommand("justifyRight", !1, null), this._lastEditableModel.trigger("change:state")
				},
				getImage: function(a) {
					a.preventDefault(), this.startUploader(this.insertImage)
				},
				startUploader: function(a) {
					var b = new d.ImageUploader,
						c = new e.ImageUploader({
							model: b
						});
					b._imageCallback = function(b) {
						c.startCropper(b, a)
					}, this._savedRange = window.getSelection().getRangeAt(0), $("body").append(c.render().el)
				},
				insertImage: function(a) {
					var b = window.getSelection();
					b.removeAllRanges(), b.addRange(this._savedRange);
					var c = {
						editable: this.model.get("editable"),
						editableModel: this.model.get("editableModel")
					};
					_.extend(c, a);
					var f = new d.EditableImage(c),
						g = new e.EditableImage({
							model: f
						});
					this._savedRange.insertNode($(g.render().el).addClass("etch-float-left")[0])
				},
				save: function(a) {
					a.preventDefault();
					var b = this.model.get("editableModel");
					b.trigger("save")
				}
			}), _.extend(g, {
				models: d,
				views: e,
				collections: f,
				triggerCaret: function() {
					var a = $(".etch-editor-panel").data("model");
					a.trigger("caretUpdated")
				},
				editableInit: function(a, b) {
					a.stopPropagation();
					var c = a.target || a.srcElement,
						f = $(c).etchFindEditable(),
						h = $(".etch-editor-panel"),
						i = h.data("model");
					if (h.size()) f[0] !== i.get("editable")[0] ? (i.set({
						editable: f,
						editableModel: this.model
					}), h.css("display", "block")) : h.css("display", "block");
					else {
						h = $('<div class="etch-editor-panel">');
						var j = {
							editable: f,
							editableModel: this.model
						};
						document.body.appendChild(h[0]), h.etchInstantiate({
							classType: "Editor",
							attrs: j
						}), i = h.data("model")
					}
					try {
						document.execCommand("StyleWithCSS", !1, !1)
					} catch (k) {
						"Invalid argument." !== k.message
					}
					if (d.EditableImage) {
						var l = f.find("img");
						if (l.size()) {
							var m = {
								editable: f,
								editableModel: this.model
							};
							l.each(function() {
								var a = $(this);
								if (!a.data("editableImageModel")) {
									{
										var b = new d.EditableImage(m);
										new e.EditableImage({
											model: b,
											el: this,
											tagName: this.tagName
										})
									}
									a.data("editableImageModel", b)
								}
							})
						}
					}
					$("body").bind("mousedown.editor", function(a) {
						var b = a.target || a.srcElement;
						$(b).not(".sp-container *, .colorpicker *, .etch-editor-panel, .etch-editor-panel *, .etch-image-tools, .etch-image-tools *").size() && (h.css("display", "none"), i.trigger("spectrum:hide", null), d.EditableImage && (f.find("img").unbind("mouseenter"), $(g.config.selector + " img").data("editableImageModel", !1)), $(this).unbind("mousedown.editor"))
					}), this.model.trigger("change:size", this.model, this.model.get("size"), {}), this.model.trigger("change:lineHeight", this.model, this.model.get("lineHeight"), {}), i.set({
						position: {
							x: a.pageX - 15,
							y: b || a.pageY - 80
						}
					})
				}
			}), $.fn.etchInstantiate = function(a, b) {
				return this.each(function() {
					var c = $(this);
					a || (a = {});
					var f = {
						el: this,
						attrs: {}
					};
					_.extend(f, a);
					var g = new d[f.classType](f.attrs, f);
					if (_.isFunction(e[f.classType])) var h = new e[f.classType]({
						model: g,
						el: this,
						tagName: this.tagName
					});
					c.data({
						model: g
					}), c.data({
						view: h
					}), _.isFunction(b) && b({
						model: g,
						view: h
					})
				})
			}, g.buttonElFactory = function(a) {
				return $('<a href="#" class="etch-editor-button etch-' + a + '" title="' + a.replace("-", " ") + '"><span></span></a>')
			}, $.fn.etchFindEditable = function() {
				var a = $(this);
				return a.is(g.config.selector) ? a : a.closest(g.config.selector)
			}, g
		}), define("css", [], function() {
			function a(a) {
				if ("undefined" == typeof document) return void b(a);
				if (!isOptimized) {
					var c = document.createElement("link");
					c.type = "text/css", c.rel = "stylesheet", c.href = a, document.getElementsByTagName("head")[0].appendChild(c)
				}
			}

			function b(a) {
				var b = d.readFileSync("app/" + a, "utf8");
				d.appendFileSync(e, b + "\n")
			}
			var c = void 0;
			if ("undefined" != typeof process && "undefined" != typeof nodeRequire) {
				var d = nodeRequire("fs");
				c = nodeRequire("path");
				var e = null
			}
			return {
				load: function(b, f, g) {
					c && !e && (d.existsSync(".tmp") || d.mkdirSync(".tmp"), e = ".tmp/built.css"), a(b), g(null)
				}
			}
		}), define("strut/etch_extension/main", ["libs/etch", "css!styles/etch_extension/EtchOverrides.css"], function(a) {
			"use strict";
			_.extend(a.config.buttonClasses, {
				"default": ["<group>", "bold", "italic", "</group>", "<group>", "justify-left", "justify-center", "justify-right", "</group>", "<group>", "link", "</group>", "font-family", "font-size", "line-height", "<group>", "color", "</group>", "<group>", "clear-formatting", "</group>"]
			});
			var b = ["link", "clear-formatting", "ordered-list", "unordered-list"];
			return a.buttonElFactory = function(a) {
				var c = {
					button: a,
					title: a.replace("-", " "),
					display: a.substring(0, 1).toUpperCase()
				};
				switch (b.indexOf(a) > -1 && (c.display = ""), a) {
					case "font-size":
						return JST["strut.etch_extension/fontSizeSelection"](c);
					case "font-family":
						return JST["strut.etch_extension/fontFamilySelection"](c);
					case "line-height":
						return JST["strut.etch_extension/lineHeightSelection"](c);
					case "color":
						return JST["strut.etch_extension/colorChooser"](c);
					default:
						return -1 !== a.indexOf("justify") ? (c.icon = a.substring(a.indexOf("-") + 1, a.length), JST["strut.etch_extension/align"](c)) : JST["strut.etch_extension/defaultButton"](c)
				}
			}, a.groupElFactory = function() {
				return $('<div class="btn-group">')
			}, {
				initialize: function() {}
			}
		}),
		function(a) {
			"use strict";
			if ("function" == typeof bootstrap) bootstrap("promise", a);
			else if ("object" == typeof exports && "object" == typeof module) module.exports = a();
			else if ("function" == typeof define && define.amd) define("Q", a);
			else if ("undefined" != typeof ses) {
				if (!ses.ok()) return;
				ses.makeQ = a
			} else {
				if ("undefined" == typeof self) throw new Error("This environment was not anticipated by Q. Please file a bug.");
				self.Q = a()
			}
		}(function() {
			function a(a) {
				return function() {
					return W.apply(a, arguments)
				}
			}

			function b(a) {
				return a === Object(a)
			}

			function c(a) {
				return "[object StopIteration]" === ca(a) || a instanceof S
			}

			function d(a, b) {
				if (P && b.stack && "object" == typeof a && null !== a && a.stack && -1 === a.stack.indexOf(da)) {
					for (var c = [], d = b; d; d = d.source) d.stack && c.unshift(d.stack);
					c.unshift(a.stack);
					var f = c.join("\n" + da + "\n");
					a.stack = e(f)
				}
			}

			function e(a) {
				for (var b = a.split("\n"), c = [], d = 0; d < b.length; ++d) {
					var e = b[d];
					h(e) || f(e) || !e || c.push(e)
				}
				return c.join("\n")
			}

			function f(a) {
				return -1 !== a.indexOf("(module.js:") || -1 !== a.indexOf("(node.js:")
			}

			function g(a) {
				var b = /at .+ \((.+):(\d+):(?:\d+)\)$/.exec(a);
				if (b) return [b[1], Number(b[2])];
				var c = /at ([^ ]+):(\d+):(?:\d+)$/.exec(a);
				if (c) return [c[1], Number(c[2])];
				var d = /.*@(.+):(\d+)$/.exec(a);
				return d ? [d[1], Number(d[2])] : void 0
			}

			function h(a) {
				var b = g(a);
				if (!b) return !1;
				var c = b[0],
					d = b[1];
				return c === R && d >= T && ha >= d
			}

			function i() {
				if (P) try {
					throw new Error
				} catch (a) {
					var b = a.stack.split("\n"),
						c = b[0].indexOf("@") > 0 ? b[1] : b[2],
						d = g(c);
					if (!d) return;
					return R = d[0], d[1]
				}
			}

			function j(a, b, c) {
				return function() {
					return "undefined" != typeof console && "function" == typeof console.warn && console.warn(b + " is deprecated, use " + c + " instead.", new Error("").stack), a.apply(a, arguments)
				}
			}

			function k(a) {
				return a instanceof o ? a : s(a) ? B(a) : A(a)
			}

			function l() {
				function a(a) {
					b = a, f.source = a, Y(c, function(b, c) {
						k.nextTick(function() {
							a.promiseDispatch.apply(a, c)
						})
					}, void 0), c = void 0, d = void 0
				}
				var b, c = [],
					d = [],
					e = _(l.prototype),
					f = _(o.prototype);
				if (f.promiseDispatch = function(a, e, f) {
						var g = X(arguments);
						c ? (c.push(g), "when" === e && f[1] && d.push(f[1])) : k.nextTick(function() {
							b.promiseDispatch.apply(b, g)
						})
					}, f.valueOf = function() {
						if (c) return f;
						var a = q(b);
						return r(a) && (b = a), a
					}, f.inspect = function() {
						return b ? b.inspect() : {
							state: "pending"
						}
					}, k.longStackSupport && P) try {
					throw new Error
				} catch (g) {
					f.stack = g.stack.substring(g.stack.indexOf("\n") + 1)
				}
				return e.promise = f, e.resolve = function(c) {
					b || a(k(c))
				}, e.fulfill = function(c) {
					b || a(A(c));

				}, e.reject = function(c) {
					b || a(z(c))
				}, e.notify = function(a) {
					b || Y(d, function(b, c) {
						k.nextTick(function() {
							c(a)
						})
					}, void 0)
				}, e
			}

			function m(a) {
				if ("function" != typeof a) throw new TypeError("resolver must be a function.");
				var b = l();
				try {
					a(b.resolve, b.reject, b.notify)
				} catch (c) {
					b.reject(c)
				}
				return b.promise
			}

			function n(a) {
				return m(function(b, c) {
					for (var d = 0, e = a.length; e > d; d++) k(a[d]).then(b, c)
				})
			}

			function o(a, b, c) {
				void 0 === b && (b = function(a) {
					return z(new Error("Promise does not support operation: " + a))
				}), void 0 === c && (c = function() {
					return {
						state: "unknown"
					}
				});
				var d = _(o.prototype);
				if (d.promiseDispatch = function(c, e, f) {
						var g;
						try {
							g = a[e] ? a[e].apply(d, f) : b.call(d, e, f)
						} catch (h) {
							g = z(h)
						}
						c && c(g)
					}, d.inspect = c, c) {
					var e = c();
					"rejected" === e.state && (d.exception = e.reason), d.valueOf = function() {
						var a = c();
						return "pending" === a.state || "rejected" === a.state ? d : a.value
					}
				}
				return d
			}

			function p(a, b, c, d) {
				return k(a).then(b, c, d)
			}

			function q(a) {
				if (r(a)) {
					var b = a.inspect();
					if ("fulfilled" === b.state) return b.value
				}
				return a
			}

			function r(a) {
				return a instanceof o
			}

			function s(a) {
				return b(a) && "function" == typeof a.then
			}

			function t(a) {
				return r(a) && "pending" === a.inspect().state
			}

			function u(a) {
				return !r(a) || "fulfilled" === a.inspect().state
			}

			function v(a) {
				return r(a) && "rejected" === a.inspect().state
			}

			function w() {
				ea.length = 0, fa.length = 0, ga || (ga = !0)
			}

			function x(a, b) {
				ga && (fa.push(a), ea.push(b && "undefined" != typeof b.stack ? b.stack : "(no stack) " + b))
			}

			function y(a) {
				if (ga) {
					var b = Z(fa, a); - 1 !== b && (fa.splice(b, 1), ea.splice(b, 1))
				}
			}

			function z(a) {
				var b = o({
					when: function(b) {
						return b && y(this), b ? b(a) : this
					}
				}, function() {
					return this
				}, function() {
					return {
						state: "rejected",
						reason: a
					}
				});
				return x(b, a), b
			}

			function A(a) {
				return o({
					when: function() {
						return a
					},
					get: function(b) {
						return a[b]
					},
					set: function(b, c) {
						a[b] = c
					},
					"delete": function(b) {
						delete a[b]
					},
					post: function(b, c) {
						return null === b || void 0 === b ? a.apply(void 0, c) : a[b].apply(a, c)
					},
					apply: function(b, c) {
						return a.apply(b, c)
					},
					keys: function() {
						return ba(a)
					}
				}, void 0, function() {
					return {
						state: "fulfilled",
						value: a
					}
				})
			}

			function B(a) {
				var b = l();
				return k.nextTick(function() {
					try {
						a.then(b.resolve, b.reject, b.notify)
					} catch (c) {
						b.reject(c)
					}
				}), b.promise
			}

			function C(a) {
				return o({
					isDef: function() {}
				}, function(b, c) {
					return I(a, b, c)
				}, function() {
					return k(a).inspect()
				})
			}

			function D(a, b, c) {
				return k(a).spread(b, c)
			}

			function E(a) {
				return function() {
					function b(a, b) {
						var g;
						if ("undefined" == typeof StopIteration) {
							try {
								g = d[a](b)
							} catch (h) {
								return z(h)
							}
							return g.done ? k(g.value) : p(g.value, e, f)
						}
						try {
							g = d[a](b)
						} catch (h) {
							return c(h) ? k(h.value) : z(h)
						}
						return p(g, e, f)
					}
					var d = a.apply(this, arguments),
						e = b.bind(b, "next"),
						f = b.bind(b, "throw");
					return e()
				}
			}

			function F(a) {
				k.done(k.async(a)())
			}

			function G(a) {
				throw new S(a)
			}

			function H(a) {
				return function() {
					return D([this, J(arguments)], function(b, c) {
						return a.apply(b, c)
					})
				}
			}

			function I(a, b, c) {
				return k(a).dispatch(b, c)
			}

			function J(a) {
				return p(a, function(a) {
					var b = 0,
						c = l();
					return Y(a, function(d, e, f) {
						var g;
						r(e) && "fulfilled" === (g = e.inspect()).state ? a[f] = g.value : (++b, p(e, function(d) {
							a[f] = d, 0 === --b && c.resolve(a)
						}, c.reject, function(a) {
							c.notify({
								index: f,
								value: a
							})
						}))
					}, void 0), 0 === b && c.resolve(a), c.promise
				})
			}

			function K(a) {
				if (0 === a.length) return k.resolve();
				var b = k.defer(),
					c = 0;
				return Y(a, function(d, e, f) {
					function g(a) {
						b.resolve(a)
					}

					function h() {
						c--, 0 === c && b.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))
					}

					function i(a) {
						b.notify({
							index: f,
							value: a
						})
					}
					var j = a[f];
					c++, p(j, g, h, i)
				}, void 0), b.promise
			}

			function L(a) {
				return p(a, function(a) {
					return a = $(a, k), p(J($(a, function(a) {
						return p(a, U, U)
					})), function() {
						return a
					})
				})
			}

			function M(a) {
				return k(a).allSettled()
			}

			function N(a, b) {
				return k(a).then(void 0, void 0, b)
			}

			function O(a, b) {
				return k(a).nodeify(b)
			}
			var P = !1;
			try {
				throw new Error
			} catch (Q) {
				P = !!Q.stack
			}
			var R, S, T = i(),
				U = function() {},
				V = function() {
					function a() {
						for (; b.next;) {
							b = b.next;
							var c = b.task;
							b.task = void 0;
							var e = b.domain;
							e && (b.domain = void 0, e.enter());
							try {
								c()
							} catch (g) {
								if (f) throw e && e.exit(), setTimeout(a, 0), e && e.enter(), g;
								setTimeout(function() {
									throw g
								}, 0)
							}
							e && e.exit()
						}
						d = !1
					}
					var b = {
							task: void 0,
							next: null
						},
						c = b,
						d = !1,
						e = void 0,
						f = !1;
					if (V = function(a) {
							c = c.next = {
								task: a,
								domain: f && process.domain,
								next: null
							}, d || (d = !0, e())
						}, "undefined" != typeof process && process.nextTick) f = !0, e = function() {
						process.nextTick(a)
					};
					else if ("function" == typeof setImmediate) e = "undefined" != typeof window ? setImmediate.bind(window, a) : function() {
						setImmediate(a)
					};
					else if ("undefined" != typeof MessageChannel) {
						var g = new MessageChannel;
						g.port1.onmessage = function() {
							e = h, g.port1.onmessage = a, a()
						};
						var h = function() {
							g.port2.postMessage(0)
						};
						e = function() {
							setTimeout(a, 0), h()
						}
					} else e = function() {
						setTimeout(a, 0)
					};
					return V
				}(),
				W = Function.call,
				X = a(Array.prototype.slice),
				Y = a(Array.prototype.reduce || function(a, b) {
					var c = 0,
						d = this.length;
					if (1 === arguments.length)
						for (;;) {
							if (c in this) {
								b = this[c++];
								break
							}
							if (++c >= d) throw new TypeError
						}
					for (; d > c; c++) c in this && (b = a(b, this[c], c));
					return b
				}),
				Z = a(Array.prototype.indexOf || function(a) {
					for (var b = 0; b < this.length; b++)
						if (this[b] === a) return b;
					return -1
				}),
				$ = a(Array.prototype.map || function(a, b) {
					var c = this,
						d = [];
					return Y(c, function(e, f, g) {
						d.push(a.call(b, f, g, c))
					}, void 0), d
				}),
				_ = Object.create || function(a) {
					function b() {}
					return b.prototype = a, new b
				},
				aa = a(Object.prototype.hasOwnProperty),
				ba = Object.keys || function(a) {
					var b = [];
					for (var c in a) aa(a, c) && b.push(c);
					return b
				},
				ca = a(Object.prototype.toString);
			S = "undefined" != typeof ReturnValue ? ReturnValue : function(a) {
				this.value = a
			};
			var da = "From previous event:";
			k.resolve = k, k.nextTick = V, k.longStackSupport = !1, "object" == typeof process && process && process.env && process.env.Q_DEBUG && (k.longStackSupport = !0), k.defer = l, l.prototype.makeNodeResolver = function() {
				var a = this;
				return function(b, c) {
					b ? a.reject(b) : a.resolve(arguments.length > 2 ? X(arguments, 1) : c)
				}
			}, k.Promise = m, k.promise = m, m.race = n, m.all = J, m.reject = z, m.resolve = k, k.passByCopy = function(a) {
				return a
			}, o.prototype.passByCopy = function() {
				return this
			}, k.join = function(a, b) {
				return k(a).join(b)
			}, o.prototype.join = function(a) {
				return k([this, a]).spread(function(a, b) {
					if (a === b) return a;
					throw new Error("Can't join: not the same: " + a + " " + b)
				})
			}, k.race = n, o.prototype.race = function() {
				return this.then(k.race)
			}, k.makePromise = o, o.prototype.toString = function() {
				return "[object Promise]"
			}, o.prototype.then = function(a, b, c) {
				function e(b) {
					try {
						return "function" == typeof a ? a(b) : b
					} catch (c) {
						return z(c)
					}
				}

				function f(a) {
					if ("function" == typeof b) {
						d(a, h);
						try {
							return b(a)
						} catch (c) {
							return z(c)
						}
					}
					return z(a)
				}

				function g(a) {
					return "function" == typeof c ? c(a) : a
				}
				var h = this,
					i = l(),
					j = !1;
				return k.nextTick(function() {
					h.promiseDispatch(function(a) {
						j || (j = !0, i.resolve(e(a)))
					}, "when", [function(a) {
						j || (j = !0, i.resolve(f(a)))
					}])
				}), h.promiseDispatch(void 0, "when", [void 0, function(a) {
					var b, c = !1;
					try {
						b = g(a)
					} catch (d) {
						if (c = !0, !k.onerror) throw d;
						k.onerror(d)
					}
					c || i.notify(b)
				}]), i.promise
			}, k.tap = function(a, b) {
				return k(a).tap(b)
			}, o.prototype.tap = function(a) {
				return a = k(a), this.then(function(b) {
					return a.fcall(b).thenResolve(b)
				})
			}, k.when = p, o.prototype.thenResolve = function(a) {
				return this.then(function() {
					return a
				})
			}, k.thenResolve = function(a, b) {
				return k(a).thenResolve(b)
			}, o.prototype.thenReject = function(a) {
				return this.then(function() {
					throw a
				})
			}, k.thenReject = function(a, b) {
				return k(a).thenReject(b)
			}, k.nearer = q, k.isPromise = r, k.isPromiseAlike = s, k.isPending = t, o.prototype.isPending = function() {
				return "pending" === this.inspect().state
			}, k.isFulfilled = u, o.prototype.isFulfilled = function() {
				return "fulfilled" === this.inspect().state
			}, k.isRejected = v, o.prototype.isRejected = function() {
				return "rejected" === this.inspect().state
			};
			var ea = [],
				fa = [],
				ga = !0;
			k.resetUnhandledRejections = w, k.getUnhandledReasons = function() {
				return ea.slice()
			}, k.stopUnhandledRejectionTracking = function() {
				w(), ga = !1
			}, w(), k.reject = z, k.fulfill = A, k.master = C, k.spread = D, o.prototype.spread = function(a, b) {
				return this.all().then(function(b) {
					return a.apply(void 0, b)
				}, b)
			}, k.async = E, k.spawn = F, k["return"] = G, k.promised = H, k.dispatch = I, o.prototype.dispatch = function(a, b) {
				var c = this,
					d = l();
				return k.nextTick(function() {
					c.promiseDispatch(d.resolve, a, b)
				}), d.promise
			}, k.get = function(a, b) {
				return k(a).dispatch("get", [b])
			}, o.prototype.get = function(a) {
				return this.dispatch("get", [a])
			}, k.set = function(a, b, c) {
				return k(a).dispatch("set", [b, c])
			}, o.prototype.set = function(a, b) {
				return this.dispatch("set", [a, b])
			}, k.del = k["delete"] = function(a, b) {
				return k(a).dispatch("delete", [b])
			}, o.prototype.del = o.prototype["delete"] = function(a) {
				return this.dispatch("delete", [a])
			}, k.mapply = k.post = function(a, b, c) {
				return k(a).dispatch("post", [b, c])
			}, o.prototype.mapply = o.prototype.post = function(a, b) {
				return this.dispatch("post", [a, b])
			}, k.send = k.mcall = k.invoke = function(a, b) {
				return k(a).dispatch("post", [b, X(arguments, 2)])
			}, o.prototype.send = o.prototype.mcall = o.prototype.invoke = function(a) {
				return this.dispatch("post", [a, X(arguments, 1)])
			}, k.fapply = function(a, b) {
				return k(a).dispatch("apply", [void 0, b])
			}, o.prototype.fapply = function(a) {
				return this.dispatch("apply", [void 0, a])
			}, k["try"] = k.fcall = function(a) {
				return k(a).dispatch("apply", [void 0, X(arguments, 1)])
			}, o.prototype.fcall = function() {
				return this.dispatch("apply", [void 0, X(arguments)])
			}, k.fbind = function(a) {
				var b = k(a),
					c = X(arguments, 1);
				return function() {
					return b.dispatch("apply", [this, c.concat(X(arguments))])
				}
			}, o.prototype.fbind = function() {
				var a = this,
					b = X(arguments);
				return function() {
					return a.dispatch("apply", [this, b.concat(X(arguments))])
				}
			}, k.keys = function(a) {
				return k(a).dispatch("keys", [])
			}, o.prototype.keys = function() {
				return this.dispatch("keys", [])
			}, k.all = J, o.prototype.all = function() {
				return J(this)
			}, k.any = K, o.prototype.any = function() {
				return K(this)
			}, k.allResolved = j(L, "allResolved", "allSettled"), o.prototype.allResolved = function() {
				return L(this)
			}, k.allSettled = M, o.prototype.allSettled = function() {
				return this.then(function(a) {
					return J($(a, function(a) {
						function b() {
							return a.inspect()
						}
						return a = k(a), a.then(b, b)
					}))
				})
			}, k.fail = k["catch"] = function(a, b) {
				return k(a).then(void 0, b)
			}, o.prototype.fail = o.prototype["catch"] = function(a) {
				return this.then(void 0, a)
			}, k.progress = N, o.prototype.progress = function(a) {
				return this.then(void 0, void 0, a)
			}, k.fin = k["finally"] = function(a, b) {
				return k(a)["finally"](b)
			}, o.prototype.fin = o.prototype["finally"] = function(a) {
				return a = k(a), this.then(function(b) {
					return a.fcall().then(function() {
						return b
					})
				}, function(b) {
					return a.fcall().then(function() {
						throw b
					})
				})
			}, k.done = function(a, b, c, d) {
				return k(a).done(b, c, d)
			}, o.prototype.done = function(a, b, c) {
				var e = function(a) {
						k.nextTick(function() {
							if (d(a, f), !k.onerror) throw a;
							k.onerror(a)
						})
					},
					f = a || b || c ? this.then(a, b, c) : this;
				"object" == typeof process && process && process.domain && (e = process.domain.bind(e)), f.then(void 0, e)
			}, k.timeout = function(a, b, c) {
				return k(a).timeout(b, c)
			}, o.prototype.timeout = function(a, b) {
				var c = l(),
					d = setTimeout(function() {
						b && "string" != typeof b || (b = new Error(b || "Timed out after " + a + " ms"), b.code = "ETIMEDOUT"), c.reject(b)
					}, a);
				return this.then(function(a) {
					clearTimeout(d), c.resolve(a)
				}, function(a) {
					clearTimeout(d), c.reject(a)
				}, c.notify), c.promise
			}, k.delay = function(a, b) {
				return void 0 === b && (b = a, a = void 0), k(a).delay(b)
			}, o.prototype.delay = function(a) {
				return this.then(function(b) {
					var c = l();
					return setTimeout(function() {
						c.resolve(b)
					}, a), c.promise
				})
			}, k.nfapply = function(a, b) {
				return k(a).nfapply(b)
			}, o.prototype.nfapply = function(a) {
				var b = l(),
					c = X(a);
				return c.push(b.makeNodeResolver()), this.fapply(c).fail(b.reject), b.promise
			}, k.nfcall = function(a) {
				var b = X(arguments, 1);
				return k(a).nfapply(b)
			}, o.prototype.nfcall = function() {
				var a = X(arguments),
					b = l();
				return a.push(b.makeNodeResolver()), this.fapply(a).fail(b.reject), b.promise
			}, k.nfbind = k.denodeify = function(a) {
				var b = X(arguments, 1);
				return function() {
					var c = b.concat(X(arguments)),
						d = l();
					return c.push(d.makeNodeResolver()), k(a).fapply(c).fail(d.reject), d.promise
				}
			}, o.prototype.nfbind = o.prototype.denodeify = function() {
				var a = X(arguments);
				return a.unshift(this), k.denodeify.apply(void 0, a)
			}, k.nbind = function(a, b) {
				var c = X(arguments, 2);
				return function() {
					function d() {
						return a.apply(b, arguments)
					}
					var e = c.concat(X(arguments)),
						f = l();
					return e.push(f.makeNodeResolver()), k(d).fapply(e).fail(f.reject), f.promise
				}
			}, o.prototype.nbind = function() {
				var a = X(arguments, 0);
				return a.unshift(this), k.nbind.apply(void 0, a)
			}, k.nmapply = k.npost = function(a, b, c) {
				return k(a).npost(b, c)
			}, o.prototype.nmapply = o.prototype.npost = function(a, b) {
				var c = X(b || []),
					d = l();
				return c.push(d.makeNodeResolver()), this.dispatch("post", [a, c]).fail(d.reject), d.promise
			}, k.nsend = k.nmcall = k.ninvoke = function(a, b) {
				var c = X(arguments, 2),
					d = l();
				return c.push(d.makeNodeResolver()), k(a).dispatch("post", [b, c]).fail(d.reject), d.promise
			}, o.prototype.nsend = o.prototype.nmcall = o.prototype.ninvoke = function(a) {
				var b = X(arguments, 1),
					c = l();
				return b.push(c.makeNodeResolver()), this.dispatch("post", [a, b]).fail(c.reject), c.promise
			}, k.nodeify = O, o.prototype.nodeify = function(a) {
				return a ? void this.then(function(b) {
					k.nextTick(function() {
						a(null, b)
					})
				}, function(b) {
					k.nextTick(function() {
						a(b)
					})
				}) : this
			};
			var ha = i();
			return k
		}), define("erquan/config/common", ["require", "exports", "module"], function(a, b, c) {
			var d = "/";
			c.exports = {
				service: {
					base_url: d,
					base_projects_url: d + "projects/"
				},
				clientData: {
					last_project_title: "erquan_last_project_title",
					default_project_title: "presentation-unnamed"
				},
				editor: {
					title_prompt_msg: "\u8bf7\u8f93\u5165\u9879\u76ee\u540d\u79f0",
					default_project_title: "untitled"
				},
				error: {
					get_data: "\u83b7\u53d6\u6570\u636e\u5931\u8d25\uff0c\u5c06\u8981\u5237\u65b0\u6d4f\u89c8\u5668"
				}
			}
		}), define("erquan/unique/main", ["require", "exports", "module", "Q", "jquery", "erquan/config/common"], function(a, b) {
			var c = a("Q"),
				d = a("jquery"),
				e = a("erquan/config/common"),
				f = !0,
				g = ERQUAN_CONFIG.uniqueId || Date.now() + Math.random(),
				h = function() {
					return g
				},
				i = function() {
					var a = null;
					return ERQUAN_CONFIG.uniqueId ? (g = ERQUAN_CONFIG.uniqueId, a = c()) : (g = Date.now() + Math.random(), a = c(d.get(e.service.base_url + "unique/update", {
						id: g
					}))), a
				},
				j = function() {
					f = !1, window.location.replace(e.service.base_url + "message/offline")
				},
				f = function() {
					return f
				};
			b.id = h, b.startup = i, b.offline = j, b.isOnline = f
		}), define("erquan/common/web/remote_storage/RemoteStorageProvider", ["require", "exports", "module", "Q", "jquery", "libs/backbone", "erquan/config/common", "erquan/unique/main"], function(a, b, c) {
			var d = a("Q"),
				e = a("jquery"),
				f = a("libs/backbone"),
				g = a("erquan/config/common"),
				h = a("erquan/unique/main"),
				i = function() {
					this.name = "ERQUAN Storage", this.id = "erquanStorage"
				};
			i.prototype = {
				ready: function() {
					return !0
				},
				bg: function() {
					return !0
				},
				ls: function() {
					return d(e.get(g.service.base_projects_url + "read")).then(function(a) {
						if (!a || 0 != a.status.code || !a.data) throw new Error("list error");
						return a.data
					})
				},
				rm: function(a) {
					return d(e.get(g.service.base_projects_url + a + "/destroy")).then(function(a) {
						if (!a || 0 != a.status.code) throw new Error("remove error");
						return a.data
					})
				},
				getContents: function(a) {
					return d(e.get(g.service.base_projects_url + a + "/read")).then(function(a) {
						if (!a || 0 != a.status.code || !a.data) throw new Error("read error");
						var b = a.data,
							c = JSON.parse(b.content || "null");
						return c ? (c.server_id = b.id, c.fileName = b.title, c.config = b.config, c) : null
					})
				},
				setContents: function(a, b) {
					var c = d();
					return c = c.then(b.server_id ? function() {
						return {
							status: {
								code: 0
							},
							data: {
								id: b.server_id
							}
						}
					} : function() {
						return e.post(g.service.base_projects_url + "create", {
							title: a
						})
					}), c.then(function(a) {
						if (!a || 0 != a.status.code) throw new Error("create error");
						var c = a.data.id,
							d = b.config || {};
						return delete b.server_id, delete b.fileName, delete b.config, f.trigger("storate:id_ready", c), e.post(g.service.base_projects_url + c + "/update", {
							content: JSON.stringify(b),
							config: JSON.stringify(d),
							uniqueId: h.id()
						})
					}).then(function(a) {
						try {
							if (0 == a.status.code) return a;
							if (7101 != a.status.code) throw new Error("update error");
							h.offline()
						} catch (b) {
							throw b
						}
					}).fin(function() {
						f.trigger("erquan-store:success", b.server_id)
					})
				},
				getAttachment: function() {},
				getAttachmentURL: function() {},
				getAllAttachments: function() {},
				getAllAttachmentURLs: function() {},
				revokeAttachmentURL: function() {},
				revokeAllAttachmentURLs: function() {},
				setAttachment: function() {},
				rmAttachment: function() {}
			}, c.exports = i
		}), define("erquan/common/web/remote_storage/main", ["require", "exports", "module", "./RemoteStorageProvider"], function(a, b, c) {
			var d = a("./RemoteStorageProvider"),
				e = new d,
				f = function(a) {
					a.register({
						interfaces: "tantaman.web.StorageProvider"
					}, e)
				};
			c.exports = {
				initialize: f
			}
		}), define("tantaman/web/widgets/FileBrowser", ["libs/backbone", "css!styles/widgets/fileBrowser.css"], function(a) {
			return a.View.extend({
				events: {
					destroyed: "dispose",
					"click li[data-filename]": "_fileClicked",
					"click button.close": "_deleteClicked",
					"dblclick li[data-filename]": "_fileChosen"
				},
				className: "fileBrowser",
				initialize: function() {
					this.render = this.render.bind(this), this.storageInterface.on("change:currentProvider", this.render), this.template = JST["tantaman.web.widgets/FileBrowser"], this.renderListing = this.renderListing.bind(this)
				},
				render: function(a) {
					return this.storageInterface.ready() ? (this.$el.html('<div class="browserContent">'), this.storageInterface.providerReady(this.$el) ? this.renderListing() : this.storageInterface.activateProvider(this.$el, this.renderListing), this.showInput = a, this) : this
				},
				dispose: function() {
					this.storageInterface.off(null, null, this)
				},
				_fileClicked: function(a) {
					return this.$fileName.val(a.currentTarget.dataset.filename), this.$el.find(".active").removeClass("active"), $(a.currentTarget).addClass("active"), !1
				},
				_fileChosen: function(a) {
					this.trigger("fileChosen", a.currentTarget.dataset.fileName)
				},
				_deleteClicked: function(a) {
					var b = $(a.currentTarget),
						c = b.parent().parent();
					return this.storageInterface.remove(c.attr("data-filename")), c.remove(), a.stopPropagation(), !1
				},
				renderListing: function() {
					var a = this;
					this.storageInterface.listPresentations().then(function(b) {
						b = b.map(function(a) {
							return _.isString(a) ? {
								id: a,
								title: a
							} : a
						}), a.$el.find(".browserContent").html(a.template({
							files: b
						})), a.$fileName = a.$el.find(".fileName"), a.showInput || a.$fileName.prop("readonly", !0)
					}, function(b) {
						b && a.$el.find(".browserContent").html(b)
					})
				},
				fileName: function() {
					return this.$fileName.val()
				},
				getTitle: function() {
					return this.$el.find("[data-fileName=" + this.fileName() + "]").data("title") || ""
				},
				constructor: function(b, c) {
					this.storageInterface = b, this.editorModel = c, a.View.prototype.constructor.call(this)
				}
			})
		}), define("strut/storage/view/StorageModal", ["libs/backbone", "tantaman/web/widgets/FileBrowser", "css!styles/storage/storageModal.css"], function(a, b) {
			return a.View.extend({
				className: "storageModal modal hide",
				events: {
					"click a[data-provider]": "_providerSelected",
					"click .ok": "_okClicked",
					destroyed: "dispose",
					"keydown .fileName": "_onFileNameKeyDown"
				},
				initialize: function() {
					this.storageInterface = this.options.storageInterface, this.editorModel = this.options.editorModel, delete this.options.storageInterface, delete this.options.editorModel, this.template = JST["strut.storage/StorageModal"], this.storageInterface.on("change:providers", this.render, this), this.storageInterface.on("change:currentProvider", this._providerChanged, this), this.fileBrowser = new b(this.storageInterface, this.editorModel), this.fileBrowser.on("fileChosen", this._onFileChosen, this)
				},
				title: function(a) {
					this.$el.find(".title").html(a)
				},
				dispose: function() {
					this.storageInterface.off(null, null, this)
				},
				render: function() {
					var a = this.storageInterface.providerNames();
					this.fileBrowser.$el.detach(), this.$el.html(this.template({
						title: this.__title(),
						tabs: a
					})), this._providerChanged(), this.$el.find(".tabContent").append(this.fileBrowser.$el)
				},
				show: function(a, b, c) {
					this.actionHandler = a, this.title(b), this.fileBrowser.render(c.showInput), this.$el.modal("show")
				},
				_onFileNameKeyDown: function(a) {
					return 13 == a.keyCode ? (this._okClicked(), !1) : void 0
				},
				_providerChanged: function() {
					this.$lastProviderTab && this.$lastProviderTab.removeClass("active"), this.$lastProviderTab = this.$el.find('[data-provider="' + this.storageInterface.currentProviderId() + '"]').parent(), this.$lastProviderTab.addClass("active")
				},
				__title: function() {
					return "none"
				},
				_onFileChosen: function() {
					this._okClicked()
				},
				_okClicked: function() {
					if (this.actionHandler) {
						if ("" == this.fileBrowser.fileName()) return;
						var a = this;
						this.actionHandler(this.storageInterface, this.editorModel, this.fileBrowser.fileName(), function(b, c) {
							c || a.$el.modal("hide")
						}, this.fileBrowser.getTitle())
					}
				},
				_providerSelected: function(a) {
					this.storageInterface.selectProvider(a.target.dataset.provider)
				},
				constructor: function() {
					a.View.prototype.constructor.apply(this, arguments)
				}
			})
		}), define("strut/storage/model/ActionHandlers", ["libs/backbone"], function(a) {
			function b(a, b) {
				return a.savePresentation(b.fileName(), b.exportPresentation(b.fileName()))
			}
			return {
				save: function(b, c, d, e, f) {
					if (b.ready()) {
						d = f || d;
						var g = c.exportPresentation(d);
						void 0 !== f && delete g.server_id, b.savePresentation(d, g).done(function() {
							a.trigger("erquan-filename-changed", d), e && e()
						})
					}
				},
				open: function(a, c, d, e) {
					b(a, c).then(function() {
						return a.load(d)
					}).then(function(a) {
						c.importPresentation(a), e(null)
					})["catch"](function(a) {
						e(a), console.log(a), console.log(a.stack)
					})
				},
				new_: function(a) {
					b(a.storageInterface, a.model).then(function() {
						a.model.newPresentation()
					}, function(a) {
						console.log(a)
					}).done()
				}
			}
		}), define("tantaman/web/widgets/ErrorModal", [], function() {
			return {
				show: function(a) {
					console.log(a)
				}
			}
		}), define("strut/storage/view/SaveMenuItem", ["libs/backbone", "../model/ActionHandlers", "tantaman/web/widgets/ErrorModal", "lang"], function(a, b, c, d) {
			return a.View.extend({
				tagName: "li",
				events: {
					click: "save"
				},
				constructor: function(b, c, d) {
					a.View.prototype.constructor.call(this), this.model = c, this.saveAsModal = b, this.storageInterface = d
				},
				save: function() {
					fileName = this.model.fileName(), null == fileName ? this.saveAsModal.show(b.save, d.save_as) : b.save(this.storageInterface, this.model, fileName, c.show)
				},
				render: function() {
					return this.$el.html("<a>" + d.save + "</a>"), this
				}
			})
		}), define("tantaman/web/storage/StorageProvidersWrapper", ["libs/backbone"], function(a) {
			"use strict";

			function b(a) {
				this.registry = a, this.providers = {}, this.registry.on("registered:tantaman.web.StorageProvider", this._providerRegistered, this), this._updateCurrentProvider()
			}
			return _.extend(b.prototype, a.Events, {
				_currentProviderId: null,
				_providerRegistered: function(a) {
					var b = a.service();
					this.providers[b.id] = b, null == this._currentProviderId && (this._currentProviderId = b.id), this.trigger("change:providers.push", this.providers, b), this.trigger("change:providers", this.providers, b)
				},
				_getProviders: function() {
					var a = this.registry.get("tantaman.web.StorageProvider"),
						b = {};
					a.forEach(function(a) {
						var c = a.service();
						b[c.id] = c, null == this._currentProviderId && (this._currentProviderId = c.id)
					}, this), this.providers = b
				},
				selectProvider: function(a) {
					a != this._currentProviderId && (this.currentProvider().bg(), this._currentProviderId = a, this.trigger("change:currentProvider"))
				},
				providerNames: function() {
					var a = [];
					for (var b in this.providers) a.push({
						name: this.providers[b].name,
						id: b
					});
					return a
				},
				currentProvider: function() {
					return this.providers[this._currentProviderId]
				},
				_updateCurrentProvider: function() {
					window.sessionMeta.lastProvider && (this._currentProviderId = window.sessionMeta.lastProvider)
				}
			}), b
		}), define("strut/storage/model/StorageInterface", ["tantaman/web/storage/StorageProvidersWrapper"], function(a) {
			"use strict";

			function b(b) {
				this._providers = new a(b)
			}
			return b.prototype = {
				validKey: function(a) {
					return "" != a && -1 == a.indexOf("\x00") && -1 == a.indexOf("/") && -1 == a.indexOf("\\")
				},
				ready: function() {
					return null != this.currentProvider()
				},
				providerNames: function() {
					return this._providers.providerNames()
				},
				providerReady: function(a) {
					return this.currentProvider().ready(a)
				},
				activateProvider: function(a, b) {
					this.currentProvider().activate(a, b)
				},
				selectProvider: function(a) {
					this._providers.selectProvider(a)
				},
				currentProvider: function() {
					return this._providers.currentProvider()
				},
				currentProviderId: function() {
					return this._providers._currentProviderId
				},
				on: function() {
					return this._providers.on.apply(this._providers, arguments)
				},
				store: function(a, b, c) {
					if (b instanceof Blob) throw "Use storeAttachment for saving blobs";
					return c && null != c.json || (c = {
						json: !0
					}), this.currentProvider().setContents(a, b, c)
				},
				load: function(a) {
					return this.currentProvider().getContents(a, {
						json: !0
					})
				},
				remove: function(a) {
					return this.currentProvider().rm(a)
				},
				storeAttachment: function(a, b, c) {
					return this.currentProvider().setAttachment(a, b, c)
				},
				removeAttachment: function(a, b) {
					return this.currentProvider().rmAttachment(a, b)
				},
				getAttachmentURL: function(a, b) {
					return this.currentProvider().getAttachmentURL(a, b)
				},
				revokeAllAttachmentURLs: function() {
					this.currentProvider().urlCache.revokeAllCachedURLs()
				},
				revokeAttachmentURL: function(a, b) {
					return this.currentProvider().revokeAttachmentURL(a, b)
				},
				list: function(a) {
					return this.currentProvider().ls(a)
				},
				listPresentations: function() {
					return this.currentProvider().ls()
				},
				savePresentation: function(a, b) {
					return window.sessionMeta.lastPresentation = a, this.store(a, b)
				}
			}, b
		}), define("tantaman/web/widgets/MenuItem", [], function() {
			function a(a) {
				this.$el = $("<li><a>" + a.title + " " + (a.hotkey ? '<span class="label pull-right">' + a.hotkey + "</span>" : "") + "</a></li>"), this.$el.click(function() {
					a.modal ? a.modal.show(a.handler, a.title, a) : a.handler(a.model)
				})
			}
			return a.prototype = {
				render: function() {
					return this
				}
			}, a
		}), define("strut/storage/main", ["./view/StorageModal", "./view/SaveMenuItem", "./model/StorageInterface", "./model/ActionHandlers", "tantaman/web/widgets/MenuItem", "lang"], function(a, b, c, d, e, f) {
			"use strict";
			var g = null,
				h = null,
				i = $("#modals"),
				j = {
					createMenuItems: function(c) {
						var j = [];
						return null == h && (h = new a({
							editorModel: c,
							storageInterface: g
						}), h.render(), i.append(h.$el)), j.push(new e({
							title: f.new_,
							handler: d.new_,
							model: {
								model: c,
								storageInterface: g
							}
						})), j.push(new e({
							title: f.open,
							modal: h,
							handler: d.open
						})), j.push(new b(h, c, g)), j.push(new e({
							title: f.save_as,
							showInput: !0,
							modal: h,
							handler: d.save
						})), j.push({
							$el: $('<li class="divider"></li>'),
							render: function() {
								return this
							}
						}), j
					}
				};
			return {
				initialize: function(a) {
					g = new c(a), a.register({
						interfaces: "strut.LogoMenuItemProvider"
					}, j), a.register({
						interfaces: "strut.StorageInterface"
					}, g)
				}
			}
		}), define("framework/ServiceCollection", ["common/EventEmitter", "lodash"], function(a) {
			function b(b, d, e) {
				var f = new a;
				for (var g in f) this[g] = f[g];
				this._idToItem = {}, this._lookup = b.normalize(d), this._converter = e || c, this._registry = b, this._register(), this._populateItems()
			}
			var c = function(a) {
				return a
			};
			b.toServiceConverter = function(a) {
				return a.service()
			};
			var d = b.prototype = Object.create(Array.prototype);
			return d._register = function() {
				this._registry.on("registered", this._serviceRegistered, this), this._registry.on("deregistered", this._serviceDeregistered, this)
			}, d._serviceDeregistered = function(a) {
				a.matches(this._lookup) && this._handleRemoval(a)
			}, d._handleRemoval = function(a) {
				var b = this._idToItem[a.serviceIdentifier()];
				Array.isArray(b) || (b = [b]), b.forEach(function(b) {
					var c = this.indexOf(b);
					this.splice(c, 1), this.emit("deregistered", b, a, c)
				}, this)
			}, d._serviceRegistered = function(a) {
				if (a.matches(this._lookup)) {
					var b = this._converter(a);
					this._handleAddition(b, a)
				}
			}, d._populateItems = function() {
				var a = this._registry.get(this._lookup);
				a.forEach(function(a) {
					var b = this._converter(a);
					this._handleAddition(b, a)
				}, this)
			}, d._handleAddition = function(a, b) {
				this._idToItem[b.serviceIdentifier()] = a, Array.isArray(a) ? a.forEach(function(c) {
					this.push(c), this.emit("registered", a, b, c)
				}, this) : (this.push(a), this.emit("registered", a, b, this.length - 1))
			}, d.dispose = function() {
				this._registry.off(null, null, this)
			}, b
		}), define("common/collections/LinkedList", [], function() {
			var a;
			return a = function() {
				function a() {
					this.head = this.tail = null, this.length = 0
				}
				return a.prototype.push = function(a) {
					var b;
					return b = {
						prev: null,
						next: null,
						value: a
					}, null != this.tail ? (this.tail.next = b, b.prev = this.tail, this.tail = b) : this.head = this.tail = b, ++this.length, this
				}, a.prototype.pop = function() {
					var a;
					if (null == this.tail) throw "List is empty";
					return a = this.tail.value, this.tail === this.head ? this.tail = this.head = null : (this.tail = this.tail.prev, this.tail.next = null), --this.length, a
				}, a.prototype.shift = function() {
					var a;
					if (null == this.head) throw "List is empty";
					return a = this.head.value, this.tail === this.head ? this.tail = this.head = null : (this.head = this.head.next, this.head.prev = null), --this.length, a
				}, a.prototype.unshift = function(a) {
					var b;
					return b = {
						prev: null,
						next: null,
						value: a
					}, null != this.head ? (this.head.prev = b, b.next = this.head, this.head = b) : this.head = this.tail = b, ++this.length, this
				}, a.prototype.first = function() {
					return this.head.value
				}, a.prototype.last = function() {
					return this.tail.value
				}, a.prototype.forEach = function(a) {
					var b, c, d;
					for (b = this.head, c = 0, d = []; null !== b;) a(b.value, c++, this), d.push(b = b.next);
					return d
				}, a
			}()
		}), define("tantaman/web/undo_support/Commands", [], function() {
			var a;
			return a = function(a, b) {
				this.commands = a, this.name = b
			}, a.prototype = {
				"do": function() {
					this.commands.forEach(function(a) {
						a["do"]()
					})
				},
				undo: function() {
					this.commands.reverse().forEach(function(a) {
						a.undo()
					})
				}
			}, {
				CombinedCommand: a
			}
		}), define("tantaman/web/undo_support/CmdList", ["common/EventEmitter", "common/collections/LinkedList", "./Commands"], function(a, b, c) {
			var d = function() {
				function d(a) {
					this.size = a, this.actions = new b, this.cursor = null, this.recording = !1, this.undoCount = 0
				}
				return d.prototype = new a, d.prototype.constructor = d, d.prototype.clear = function() {
					this.cursor = null, this.undoCount = null, this.actions = new b
				}, d.prototype.push = function(a) {
					if (!this.recording) {
						var b;
						return this.actions.length - this.undoCount < this.size ? this.undoCount > 0 ? (b = {
							prev: null,
							next: null,
							value: a
						}, this.cursor ? (b.prev = this.cursor, this.cursor.next.prev = null, this.cursor.next = b, this.actions.length += 1, this.actions.length = this.actions.length - this.undoCount) : (this.actions.head = b, this.actions.length = 1), this.actions.tail = b, this.undoCount = 0, this.cursor = null) : (this.actions.push(a), this.cursor = null) : (this.actions.shift(), this.actions.push(a)), this.emit("updated"), this
					}
					this.recorded.push(a)
				}, d.prototype.pushdo = function(a) {
					if (!this.recording) {
						var b = a["do"]();
						return this.push(a), b
					}
					this.recorded.push(a)
				}, d.prototype.record = function(a, b) {
					if (this.recording = !0, this.recorded = [], a(), this.recording = !1, this.recorded.length) {
						var d = new c.CombinedCommand(this.recorded, b);
						return this.push(d), d
					}
				}, d.prototype.undoName = function() {
					var a;
					return this.undoCount < this.actions.length ? (a = this.cursor || this.actions.tail, null != a ? a.value.name : "") : ""
				}, d.prototype.redoName = function() {
					var a;
					return this.undoCount > 0 ? (a = null == this.cursor ? this.actions.head : this.cursor.next, null != a ? a.value.name : "") : ""
				}, d.prototype.undo = function() {
					if (this.undoCount < this.actions.length) {
						null == this.cursor && (this.cursor = this.actions.tail);
						var a = this.cursor;
						a.value.undo(), this.cursor = a.prev, ++this.undoCount, this.emit("updated")
					}
					return this
				}, d.prototype.redo = function() {
					return this.undoCount > 0 && (this.cursor = null == this.cursor ? this.actions.head : this.cursor.next, this.cursor.value["do"](), --this.undoCount, this.emit("updated")), this
				}, d
			}();
			return d
		}), define("tantaman/web/undo_support/CmdListFactory", ["./CmdList"], function(a) {
			"use strict";
			var b = {};
			return {
				create: function(b) {
					return b = b || {}, new a(b.size || 20)
				},
				managedInstance: function(a, c) {
					var d = b[a];
					return d || (d = this.create(c), b[a] = d), d
				}
			}
		}), define("tantaman/web/widgets/UndoRedoMenuItem", [], function() {
			"use strict";

			function a(a) {
				this.$el = $("<li><a>" + a.title + '<span class="label">' + a.hotkey + "</span></a></li>"), this.options = a, this.$el.click(this._perform.bind(this)), this._sub = a.cmdList.on("updated", this._listUpdated, this)
			}
			return a.prototype = {
				render: function() {
					return this
				},
				_listUpdated: function() {
					var a = this.options.cmdList[this.options.action + "Name"]();
					if (a) {
						var b = this.$el.find(".label");
						b.html(a), b.removeClass("dispNone")
					} else {
						var b = this.$el.find(".label");
						b.addClass("dispNone")
					}
				},
				dispose: function() {
					this._sub.dispose()
				},
				_perform: function() {
					this.options.handler()
				}
			}, a
		}), define("strut/logo_button/main", ["framework/ServiceCollection", "tantaman/web/widgets/MenuItem", "tantaman/web/undo_support/CmdListFactory", "tantaman/web/widgets/UndoRedoMenuItem"], function(a, b, c, d) {
			"use strict";

			function e(a) {
				return "undo" == a.meta().action || "redo" == a.meta().action ? new d({
					cmdList: g,
					action: a.meta().action,
					handler: a.service(),
					hotkey: a.meta().hotkey,
					title: a.meta().title
				}) : new b({
					title: a.meta().title,
					handler: a.service(),
					hotkey: a.meta().hotkey
				})
			}
			var f, g = c.managedInstance("editor"),
				h = {
					createMenuItems: function() {
						var a = [];
						return f.forEach(function(b) {
							a.push(e(b)), "redo" == b.meta().action && a.push({
								$el: $('<li class="divider"></li>'),
								render: function() {
									return this
								}
							})
						}), a.push({
							$el: $('<li class="divider"></li>'),
							render: function() {
								return this
							}
						}), a
					}
				};
			return {
				initialize: function(b) {
					f = new a(b, "strut.editor.glob.action"),
						b.register({
							interfaces: "strut.LogoMenuItemProvider"
						}, h)
				}
			}
		}), define("tantaman/web/widgets/Dropdown", ["libs/backbone", "css!styles/widgets/widgets.css"], function(a) {
			function b(a, b, c) {
				this.$el = $('<div class="dropdown btn-group">'), this.el = this.$el[0], c && c["class"] && this.$el.addClass(c["class"]), this._template = b;
				var d = this;
				this.$el.on("destroyed", function() {
					d.dispose()
				}), this._model = a, a.on && a.on("change", this._render, this)
			}
			return b.prototype = {
				render: function() {
					var a;
					return a = this._model.attributes ? this._model.attributes : this._model, this.$el.html(this._template(a)), this
				},
				dispose: function() {
					this._model.off && this._model.off(null, null, this), this.off()
				}
			}, _.extend(b.prototype, a.Events), b
		}), define("strut/deck/Utils", [], function() {
			function a(a) {
				return a && "Object" != a.constructor.name && "attributes" in a ? a.attributes : a
			}
			return {
				slideSurface: function(b, c) {
					return b = a(b), c = a(c), this.slideSurfaceRaw(b, c)
				},
				slideSurfaceRaw: function(a, b) {
					var c, d = b.surface || "bg-default";
					return a && (c = a.surface, ("bg-default" == c || null == c) && (c = d)), null == c && (c = d), c
				},
				isImg: function(a) {
					return a && 0 == a.indexOf("img:")
				},
				getImgUrl: function(a) {
					return "url(" + a.substring(4) + ")"
				},
				slideBackground: function(b, c, d) {
					return b = a(b), c = a(c), this.slideBackgroundRaw(b, c, d)
				},
				slideBackgroundRaw: function(a, b, c) {
					var d = b.background || "bg-transparent",
						e = b.surface || "bg-default";
					c = c || {};
					var f, g = this.slideSurface(a, b);
					return a ? (f = a.background, ("bg-default" == f || null == f) && (f = d), "bg-transparent" == f && (f = g)) : f = d, "bg-default" == f && c.surfaceForDefault && (f = g), f == g && c.transparentForSurface && (f = ""), f == e && c.transparentForDeckSurface && (f = ""), f
				},
				getCurrentBackgrounds: function(a) {
					return a.attr("class").match(/bg-[^ ]+/g)
				},
				getCurrentBackground: function(a) {
					var b = this.getCurrentBackgrounds(a);
					return b ? b[0] : void 0
				},
				removeCurrentBackground: function(a) {
					var b = this.getCurrentBackgrounds(a);
					return b && b.forEach(function(b) {
						a.removeClass(b)
					}), b
				},
				applyBackground: function(a, b, c, d) {
					this.removeCurrentBackground(a);
					var e = this.slideBackground(b, c, d);
					0 == e.indexOf("img:") ? a.css("background-image", "url(" + e.substring(4) + ")") : (a.css("background-image", ""), a.addClass(e))
				},
				setBackground: function(a, b, c) {
					a && (b = b || "", c = c ? "url(" + c + ")" : "", a.css("backgroundColor", b), a.css("backgroundImage", c))
				}
			}
		}), define("libs/imgup", ["require", "exports", "module"], function() {
			var a = {};
			return function(a) {
				"use strict";

				function b(a) {
					this._xhr = a, a.onload = e.onload.bind(this), a.upload.onabort = a.onabort = a.upload.onerror = a.onerror = a.ontimeout = e.onerror.bind(this), a.upload.onprogress = e.onprogress.bind(this), this._progressBacks = [], this._errorBacks = [], this._thenBacks = []
				}

				function c(a) {
					this.clientId = a
				}
				var d = {
						upload: "http://erquan.tools.ws.netease.com/tools/nos/upload/"
					},
					e = {
						onload: function() {
							var a = JSON.parse(this._xhr.response);
							0 == !a.status.code ? e.onerror.call(this, a.data) : this._thenBacks.forEach(function(b) {
								var c = a.data.url;
								a.data = {
									link: c,
									mimeType: a.mimeType
								}, b(a)
							})
						},
						onprogress: function(a) {
							var b = a.loaded / a.total;
							this._progressBacks.forEach(function(c) {
								c(b, a)
							})
						},
						onerror: function(a) {
							this._errorBacks.forEach(function(b) {
								b(a)
							})
						}
					};
				b.prototype = {
					cancel: function() {
						return this._xhr.abort(), this
					},
					then: function(a, b) {
						return null != a && this._thenBacks.push(a), null != b && this._errorBacks.push(b), this
					},
					error: function(a) {
						return this._errorBacks.push(a), this
					},
					progress: function(a) {
						return this._progressBacks.push(a), this
					}
				}, c.prototype = {
					upload: function(a) {
						var c = new FormData;
						c.append("file", a);
						var e = new XMLHttpRequest;
						return e.open("POST", d.upload), setTimeout(function() {
							e.send(c)
						}, 10), new b(e)
					}
				}, a.Imgup = c
			}(a), a.Imgup
		}), define("tantaman/web/widgets/ItemImportModal", ["libs/backbone", "libs/imgup"], function(a, b) {
			var c = {},
				d = /^[a-z]+:/,
				e = new b("847de02274cba30"),
				f = 421400,
				g = 2097152,
				h = {
					"http:": !0,
					"http://": !0,
					"file:": !0,
					"/": !0,
					"https://": !0,
					"https:": !0
				},
				i = a.View.extend({
					className: "itemGrabber modal hide",
					events: {
						"click .ok": "okClicked",
						"click div[data-option='browse']": "browseClicked",
						"change input[type='file']": "fileChosen",
						"keyup input[name='itemUrl']": "urlChanged",
						"paste input[name='itemUrl']": "urlChanged",
						hidden: "hidden",
						dragover: "_dragover",
						drop: "_drop",
						dragleave: "_dragleave"
					},
					_hasWarning: !1,
					initialize: function() {
						this.loadItem = _.debounce(this.loadItem.bind(this), 200)
					},
					show: function(a) {
						return this.cb = a, this._itemLoaded(), this.$el.find(".ok").addClass("disabled"), this.$el.modal("show")
					},
					okClicked: function() {
						return this.$el.find(".ok").hasClass("disabled") ? void 0 : (this.cb(null != this.file ? {
							file: this.file,
							src: this.src
						} : this.src), this.$el.modal("hide"))
					},
					_dragover: function(a) {
						a.stopPropagation(), a.preventDefault(), a.originalEvent.dataTransfer.dropEffect = "copy", this.$droparea.addClass("active")
					},
					_dragleave: function() {
						this.$droparea.removeClass("active")
					},
					_drop: function(a) {
						this.$droparea.removeClass("active"), a.stopPropagation(), a.preventDefault();
						var b = a.originalEvent.dataTransfer.files[0];
						this._fileChosen(b)
					},
					fileChosen: function(a) {
						var b;
						b = a.target.files[0], this._fileChosen(b)
					},
					_fileChosen: function(a) {
						if (this._hasWarning = !1, this.hidden(), "Image" == this.options.componentType) {
							var b = a.size || 0;
							if (b > g) return this._showError("\u56fe\u7247\u8d44\u6e90\u5927\u5c0f\u5df2\u7ecf\u8d85\u8fc72M\uff0c\u62d2\u7edd\u64cd\u4f5c\uff01");
							b > f ? (this._showError("\u56fe\u7247\u8d44\u6e90\u5927\u5c0f\u5df2\u7ecf\u8d85\u8fc7350K\uff0c\u8bf7\u8c28\u614e\u4f7f\u7528\uff01"), this._hasWarning = !0) : this._hideError()
						}
						var c = this;
						if (this.options.hasStorage()) {
							var d = URL.createObjectURL(a),
								h = function() {
									URL.revokeObjectURL(d)
								};
							this.$input.val(d), this._detectItem(h, h), this.item.src = d, this.file = a
						} else this._switchToProgress(), e.upload(a).progress(function(a) {
							c._updateProgress(a)
						}).then(function(a) {
							c._switchToThumbnail(), c.$input.val(a.data.link), c.urlChanged({
								which: -1
							})
						}, function() {
							c._updateProgress(0), c._switchToThumbnail(), c._showError("\u4e0a\u4f20\u8d44\u6e90\u5931\u8d25\uff01")
						})
					},
					browseClicked: function() {
						return this.$el.find('input[type="file"]').click()
					},
					hidden: function() {
						return this.$el.find('input[type="file"]').val(""), null != this.$input ? (this.item.src = "", this.file = null, this.$input.val("")) : void 0
					},
					urlChanged: function(a) {
						return this.options.browsable && this.options.hasStorage() ? void 0 : 13 === a.which ? (this.src = this.$input.val(), this.okClicked()) : void this.loadItem()
					},
					loadItem: function() {
						var a = this.$input.val();
						if (!(a in h)) {
							var b = d.exec(a);
							return (null == b || 0 != b.index) && "" !== a && (a = "http://" + a), this.item.src != a && (this.item.src = a), this.src = this.item.src, this.options.ignoreErrors ? void this._itemLoaded() : void this._detectItem()
						}
					},
					_detectItem: function(a, b) {
						var c = this,
							d = this.item;
						d.onerror = function() {
							d.onerror = null, c._itemLoadError(), b && b()
						}, d.onload = d.oncomplete = d.oncanplaythrough = d.loadedmetadata = function() {
							d.onload = d.oncomplete = d.oncanplaythrough = d.loadedmetadata = null, c._itemLoaded(), a && a()
						}
					},
					_showError: function(a) {
						this.$el.find(".alert").text(a), this._itemLoadError()
					},
					_hideError: function() {
						this.$el.find(".alert").addClass("dispNone")
					},
					_itemLoadError: function() {
						return this.$el.find(".ok").addClass("disabled"), this.$el.find(".alert").removeClass("dispNone")
					},
					_itemLoaded: function() {
						return this.$el.find(".ok").removeClass("disabled"), !this._hasWarning && this.$el.find(".alert").addClass("dispNone")
					},
					_updateProgress: function(a) {
						this.$progressBar.css("width", 100 * a + "%")
					},
					_switchToProgress: function() {
						this.$progress.removeClass("dispNone")
					},
					_switchToThumbnail: function() {
						this.$progress.addClass("dispNone")
					},
					render: function() {
						this.$el.html(JST["tantaman.web.widgets/ItemImportModal"](this.options)), this.$el.modal(), this.$el.modal("hide"), this.item = this.$el.find(this.options.tag)[0];
						var a = "video" === this.options.tag || "audio" === this.options.tag;
						return a && (this.item.preload = "preload", this.item.controls = "true"), (a || "iframe" == this.options.tag) && (this.item.frameBorder = "no", this.item.style.width = "100%", this.item.style.height = "100%"), this.$input = this.$el.find("input[name='itemUrl']"), this.$progress = this.$el.find(".progress"), this.$progressBar = this.$progress.find(".bar"), this.$thumbnail = this.$el.find(".thumbnail"), this.$droparea = this.$el.find(".droparea"), this.$input.prop("readonly", this.options.browsable ? !0 : !1), this.$el
					},
					constructor: function() {
						a.View.prototype.constructor.apply(this, arguments)
					}
				});
			return {
				get: function(a) {
					var b = c[a.tag];
					return b || (b = new i(a), b.$el.bind("destroyed", function() {
						delete c[a.tag]
					}), c[a.tag] = b, b.render(), $("#modals").append(b.$el)), b
				},
				ctor: i
			}
		}), define("strut/themes/ColorChooserModal", ["libs/backbone"], function(a) {
			return a.View.extend({
				className: "modal hide",
				events: {
					"click .ok": "_apply"
				},
				initialize: function() {
					this._color = "#EEE"
				},
				show: function(a) {
					this._cb = a, this.$el.modal("show")
				},
				hide: function() {
					this.$el.modal("hide")
				},
				_apply: function() {
					var a = "string" == typeof this._color ? this._color : this._color.toHexString();
					this._$colorChooser.spectrum("set", this._color), this._cb(a), this.hide()
				},
				render: function() {
					var a = this;
					return this.$el.html(JST["strut.themes/ColorChooserModal"]()), this._$body = this.$el.find(".modal-body"), this._$colorChooser = this.$el.find(".color-chooser"), this._$colorChooser.spectrum({
						color: this._color,
						showSelectionPalette: !0,
						localStorageKey: "strut.colorChooser",
						showPalette: !0,
						showInitial: !0,
						showInput: !0,
						palette: [],
						clickoutFiresChange: !0,
						flat: !0,
						move: function(b) {
							a._color = b, a._$body.css("background", b.toHexString())
						}
					}), this.$el.modal({
						show: !1
					}), this
				},
				constructor: function() {
					a.View.prototype.constructor.apply(this, arguments)
				}
			})
		}), define("strut/themes/BackgroundProvider", ["tantaman/web/widgets/Dropdown", "strut/deck/Utils", "tantaman/web/widgets/ItemImportModal", "./ColorChooserModal", "lang"], function(a, b, c, d, e) {
			function f(b) {
				var d = b.backgrounds,
					f = b.editorModel,
					h = b.selector,
					i = b.attr;
				this._view = new a(d, b.template, {
					"class": "iconBtns group-dropdown"
				}), this._editorModel = f, this._selector = h, this._attr = i, this._previewBackground = this._previewBackground.bind(this), this._restoreBackground = this._restoreBackground.bind(this), this._setBackground = this._setBackground.bind(this), this._view.$el.on("mouseover", ".thumbnail", this._previewBackground), this._view.$el.on("mouseout", ".thumbnail", this._restoreBackground), this._view.$el.on("click", ".thumbnail", this._setBackground), this._setBackgroundImage = this._setBackgroundImage.bind(this), g || (g = c.get({
					tag: "img",
					name: e.image,
					title: e.insert_image,
					icon: "icon-picture",
					browsable: !0,
					hasStorage: f.hasStorage
				}))
			}
			var g = null,
				h = new d;
			return h.render(), $("#modals").append(h.$el), f.prototype = {
				view: function() {
					return this._view
				},
				_previewBackground: function(a) {
					var c = $(this._selector);
					if (0 != c.length) {
						var d = a.currentTarget.dataset["class"];
						null != d && "bg-img" != d && "bg-custom" != d && ("bg-default" == d && "Background" == this._attr && (d = $(a.currentTarget).parent().parent().is(".allSlides") ? this._editorModel.deck().slideSurface() : b.slideBackground(null, this._editorModel.deck(), {
							transparentForSurface: !0,
							surfaceForDefault: !0
						})), this._swapBg(c, d))
					}
				},
				_setBackground: function(a) {
					var b = a.currentTarget.dataset["class"],
						c = $(a.currentTarget).parent().parent().is(".allSlides");
					if ("bg-img" == b) {
						var d = this;
						return void g.show(function(a) {
							d._setBackgroundImage(c, a)
						})
					}
					if ("bg-custom" == b) {
						var d = this;
						return void h.show(function(a) {
							d._setCustomBgColor(c, a)
						})
					}
					this._setBgClass(c, b)
				},
				_setCustomBgColor: function(a, b) {
					var c = this._editorModel.addCustomBgClassFor(b).klass;
					this._setBgClass(a, c)
				},
				_setBgClass: function(a, b) {
					if (null != b) {
						var c = this._attr.substring(0, 1).toLowerCase() + this._attr.substring(1),
							d = this._pickObj(a);
						"" == b && (b = void 0), d.set(c, b)
					}
				},
				_pickObj: function(a) {
					return a ? this._editorModel.deck() : this._editorModel.activeSlide()
				},
				_setBackgroundImage: function(a, b) {
					var c = this._pickObj(a);
					"Background" == this._attr ? c.set("background", "img:" + b) : c.set("surface", "img:" + b)
				},
				_restoreBackground: function() {
					var a;
					"Background" == this._attr && (a = b.slideBackground(this._editorModel.activeSlide(), this._editorModel.deck(), {
						transparentForSurface: !0,
						surfaceForDefault: !0
					})), null == a && (a = "slide-editor" != this._editorModel.get("modeId") ? b.slideSurface(null, this._editorModel.deck()) : b.slideSurface(this._editorModel.activeSlide(), this._editorModel.deck()));
					var c = $(this._selector);
					0 != c.length && (b.isImg(a) ? this._removeLastBg(c) : this._swapBg(c, a))
				},
				_removeLastBg: function(a) {
					this._lastBg || (this._lastBg = b.getCurrentBackground(a)), this._lastBg && a.removeClass(this._lastBg)
				},
				_swapBg: function(a, b) {
					this._removeLastBg(a), this._lastBg = b, a.addClass(b)
				},
				dispose: function() {
					this._view.dispose()
				}
			}, f
		}), define("strut/themes/AvailableBackgrounds", ["css!styles/strut.themes/backgroundClasses.css"], function() {
			return {
				title: "background",
				backgrounds: [{
					klass: "bg-solid-black",
					description: "Black"
				}, {
					klass: "bg-solid-light",
					description: "Light"
				}, {
					klass: "bg-solid-smoke",
					description: "Smoke"
				}, {
					klass: "bg-solid-orange",
					description: "Orange"
				}, {
					klass: "bg-solid-yellow",
					description: "Yellow"
				}, {
					klass: "bg-solid-grass",
					description: "Grass"
				}, {
					klass: "bg-solid-darkgreen",
					description: "Dark Green"
				}, {
					klass: "bg-solid-sky",
					description: "Sky"
				}, {
					klass: "bg-solid-lavender",
					description: "Lavender"
				}, {
					klass: "bg-solid-purple",
					description: "Purple"
				}, {
					klass: "bg-solid-salmon",
					description: "Salmon"
				}]
			}
		}), define("strut/themes/AvailableSurfaces", ["css!styles/strut.themes/surfaceClasses.css"], function() {
			return {
				title: "surface",
				backgrounds: [{
					klass: "bg-surf-grad-black"
				}, {
					klass: "bg-surf-grad-light"
				}, {
					klass: "bg-surf-grad-smoke"
				}, {
					klass: "bg-surf-grad-orange"
				}, {
					klass: "bg-surf-grad-yellow"
				}, {
					klass: "bg-surf-grad-grass"
				}, {
					klass: "bg-surf-grad-darkgreen"
				}, {
					klass: "bg-surf-grad-sky"
				}, {
					klass: "bg-surf-grad-lavender"
				}, {
					klass: "bg-surf-grad-purple"
				}, {
					klass: "bg-surf-grad-salmon"
				}]
			}
		}), console.log("Loaded mirror"), window.CodeMirror = function() {
			"use strict";

			function a(c, d) {
				if (!(this instanceof a)) return new a(c, d);
				this.options = d = d || {};
				for (var e in ce) !d.hasOwnProperty(e) && ce.hasOwnProperty(e) && (d[e] = ce[e]);
				m(d);
				var f = "string" == typeof d.value ? 0 : d.value.first,
					g = this.display = b(c, f);
				g.wrapper.CodeMirror = this, j(this), d.autofocus && !Kd && na(this), this.state = {
					keyMaps: [],
					overlays: [],
					modeGen: 0,
					overwrite: !1,
					focused: !1,
					suppressEdits: !1,
					pasteIncoming: !1,
					draggingText: !1,
					highlight: new Sc
				}, h(this), d.lineWrapping && (this.display.wrapper.className += " CodeMirror-wrap");
				var i = d.value;
				"string" == typeof i && (i = new qe(d.value, d.mode)), fa(this, jc)(this, i), xd && setTimeout(_c(ma, this, !0), 20), pa(this);
				var k;
				try {
					k = document.activeElement == g.input
				} catch (l) {}
				k || d.autofocus && !Kd ? setTimeout(_c(Fa, this), 20) : Ga(this), fa(this, function() {
					for (var a in be) be.propertyIsEnumerable(a) && be[a](this, d[a], de);
					for (var b = 0; b < he.length; ++b) he[b](this)
				})()
			}

			function b(a, b) {
				var c = {},
					d = c.input = cd("textarea", null, null, "position: absolute; padding: 0; width: 1px; height: 1em; outline: none; font-size: 4px;");
				return Ad ? d.style.width = "1000px" : d.setAttribute("wrap", "off"), Jd && (d.style.border = "1px solid black"), d.setAttribute("autocorrect", "off"), d.setAttribute("autocapitalize", "off"), d.setAttribute("spellcheck", "false"), c.inputDiv = cd("div", [d], null, "overflow: hidden; position: relative; width: 3px; height: 0px;"), c.scrollbarH = cd("div", [cd("div", null, null, "height: 1px")], "CodeMirror-hscrollbar"), c.scrollbarV = cd("div", [cd("div", null, null, "width: 1px")], "CodeMirror-vscrollbar"), c.scrollbarFiller = cd("div", null, "CodeMirror-scrollbar-filler"), c.gutterFiller = cd("div", null, "CodeMirror-gutter-filler"), c.lineDiv = cd("div", null, "CodeMirror-code"), c.selectionDiv = cd("div", null, null, "position: relative; z-index: 1"), c.cursor = cd("div", "\xa0", "CodeMirror-cursor"), c.otherCursor = cd("div", "\xa0", "CodeMirror-cursor CodeMirror-secondarycursor"), c.measure = cd("div", null, "CodeMirror-measure"), c.lineSpace = cd("div", [c.measure, c.selectionDiv, c.lineDiv, c.cursor, c.otherCursor], null, "position: relative; outline: none"), c.mover = cd("div", [cd("div", [c.lineSpace], "CodeMirror-lines")], null, "position: relative"), c.sizer = cd("div", [c.mover], "CodeMirror-sizer"), c.heightForcer = cd("div", null, null, "position: absolute; height: " + ve + "px; width: 1px;"), c.gutters = cd("div", null, "CodeMirror-gutters"), c.lineGutter = null, c.scroller = cd("div", [c.sizer, c.heightForcer, c.gutters], "CodeMirror-scroll"), c.scroller.setAttribute("tabIndex", "-1"), c.wrapper = cd("div", [c.inputDiv, c.scrollbarH, c.scrollbarV, c.scrollbarFiller, c.gutterFiller, c.scroller], "CodeMirror"), yd && (c.gutters.style.zIndex = -1, c.scroller.style.paddingRight = 0), a.appendChild ? a.appendChild(c.wrapper) : a(c.wrapper), Jd && (d.style.width = "0px"), Ad || (c.scroller.draggable = !0), Fd ? (c.inputDiv.style.height = "1px", c.inputDiv.style.position = "absolute") : yd && (c.scrollbarH.style.minWidth = c.scrollbarV.style.minWidth = "18px"), c.viewOffset = c.lastSizeC = 0, c.showingFrom = c.showingTo = b, c.lineNumWidth = c.lineNumInnerWidth = c.lineNumChars = null, c.prevInput = "", c.alignWidgets = !1, c.pollingFast = !1, c.poll = new Sc, c.cachedCharWidth = c.cachedTextHeight = null, c.measureLineCache = [], c.measureLineCachePos = 0, c.inaccurateSelection = !1, c.maxLine = null, c.maxLineLength = 0, c.maxLineChanged = !1, c.wheelDX = c.wheelDY = c.wheelStartX = c.wheelStartY = null, c
			}

			function c(b) {
				b.doc.mode = a.getMode(b.options, b.doc.modeOption), b.doc.iter(function(a) {
					a.stateAfter && (a.stateAfter = null), a.styles && (a.styles = null)
				}), b.doc.frontier = b.doc.first, G(b, 100), b.state.modeGen++, b.curOp && ia(b)
			}

			function d(a) {
				a.options.lineWrapping ? (a.display.wrapper.className += " CodeMirror-wrap", a.display.sizer.style.minWidth = "") : (a.display.wrapper.className = a.display.wrapper.className.replace(" CodeMirror-wrap", ""), l(a)), f(a), ia(a), T(a), setTimeout(function() {
					n(a)
				}, 100)
			}

			function e(a) {
				var b = ba(a.display),
					c = a.options.lineWrapping,
					d = c && Math.max(5, a.display.scroller.clientWidth / ca(a.display) - 3);
				return function(e) {
					return Nb(a.doc, e) ? 0 : c ? (Math.ceil(e.text.length / d) || 1) * b : b
				}
			}

			function f(a) {
				var b = a.doc,
					c = e(a);
				b.iter(function(a) {
					var b = c(a);
					b != a.height && nc(a, b)
				})
			}

			function g(a) {
				var b = ke[a.options.keyMap],
					c = b.style;
				a.display.wrapper.className = a.display.wrapper.className.replace(/\s*cm-keymap-\S+/g, "") + (c ? " cm-keymap-" + c : ""), a.state.disableInput = b.disableInput
			}

			function h(a) {
				a.display.wrapper.className = a.display.wrapper.className.replace(/\s*cm-s-\S+/g, "") + a.options.theme.replace(/(^|\s)\s*/g, " cm-s-"), T(a)
			}

			function i(a) {
				j(a), ia(a), setTimeout(function() {
					p(a)
				}, 20)
			}

			function j(a) {
				var b = a.display.gutters,
					c = a.options.gutters;
				dd(b);
				for (var d = 0; d < c.length; ++d) {
					var e = c[d],
						f = b.appendChild(cd("div", null, "CodeMirror-gutter " + e));
					"CodeMirror-linenumbers" == e && (a.display.lineGutter = f, f.style.width = (a.display.lineNumWidth || 1) + "px")
				}
				b.style.display = d ? "" : "none"
			}

			function k(a, b) {
				if (0 == b.height) return 0;
				for (var c, d = b.text.length, e = b; c = Kb(e);) {
					var f = c.find();
					e = kc(a, f.from.line), d += f.from.ch - f.to.ch
				}
				for (e = b; c = Lb(e);) {
					var f = c.find();
					d -= e.text.length - f.from.ch, e = kc(a, f.to.line), d += e.text.length - f.to.ch
				}
				return d
			}

			function l(a) {
				var b = a.display,
					c = a.doc;
				b.maxLine = kc(c, c.first), b.maxLineLength = k(c, b.maxLine), b.maxLineChanged = !0, c.iter(function(a) {
					var d = k(c, a);
					d > b.maxLineLength && (b.maxLineLength = d, b.maxLine = a)
				})
			}

			function m(a) {
				for (var b = !1, c = 0; c < a.gutters.length; ++c) "CodeMirror-linenumbers" == a.gutters[c] && (a.lineNumbers ? b = !0 : a.gutters.splice(c--, 1));
				!b && a.lineNumbers && a.gutters.push("CodeMirror-linenumbers")
			}

			function n(a) {
				var b = a.display,
					c = a.doc.height,
					d = c + L(b);
				b.sizer.style.minHeight = b.heightForcer.style.top = d + "px", b.gutters.style.height = Math.max(d, b.scroller.clientHeight - ve) + "px";
				var e = Math.max(d, b.scroller.scrollHeight),
					f = b.scroller.scrollWidth > b.scroller.clientWidth + 1,
					g = e > b.scroller.clientHeight + 1;
				g ? (b.scrollbarV.style.display = "block", b.scrollbarV.style.bottom = f ? id(b.measure) + "px" : "0", b.scrollbarV.firstChild.style.height = e - b.scroller.clientHeight + b.scrollbarV.clientHeight + "px") : (b.scrollbarV.style.display = "", b.scrollbarV.firstChild.style.height = "0"), f ? (b.scrollbarH.style.display = "block", b.scrollbarH.style.right = g ? id(b.measure) + "px" : "0", b.scrollbarH.firstChild.style.width = b.scroller.scrollWidth - b.scroller.clientWidth + b.scrollbarH.clientWidth + "px") : (b.scrollbarH.style.display = "", b.scrollbarH.firstChild.style.width = "0"), f && g ? (b.scrollbarFiller.style.display = "block", b.scrollbarFiller.style.height = b.scrollbarFiller.style.width = id(b.measure) + "px") : b.scrollbarFiller.style.display = "", f && a.options.coverGutterNextToScrollbar && a.options.fixedGutter ? (b.gutterFiller.style.display = "block", b.gutterFiller.style.height = id(b.measure) + "px", b.gutterFiller.style.width = b.gutters.offsetWidth + "px") : b.gutterFiller.style.display = "", Gd && 0 === id(b.measure) && (b.scrollbarV.style.minWidth = b.scrollbarH.style.minHeight = Hd ? "18px" : "12px")
			}

			function o(a, b, c) {
				var d = a.scroller.scrollTop,
					e = a.wrapper.clientHeight;
				"number" == typeof c ? d = c : c && (d = c.top, e = c.bottom - c.top), d = Math.floor(d - K(a));
				var f = Math.ceil(d + e);
				return {
					from: pc(b, d),
					to: pc(b, f)
				}
			}

			function p(a) {
				var b = a.display;
				if (b.alignWidgets || b.gutters.firstChild && a.options.fixedGutter) {
					for (var c = s(b) - b.scroller.scrollLeft + a.doc.scrollLeft, d = b.gutters.offsetWidth, e = c + "px", f = b.lineDiv.firstChild; f; f = f.nextSibling)
						if (f.alignable)
							for (var g = 0, h = f.alignable; g < h.length; ++g) h[g].style.left = e;
					a.options.fixedGutter && (b.gutters.style.left = c + d + "px")
				}
			}

			function q(a) {
				if (!a.options.lineNumbers) return !1;
				var b = a.doc,
					c = r(a.options, b.first + b.size - 1),
					d = a.display;
				if (c.length != d.lineNumChars) {
					var e = d.measure.appendChild(cd("div", [cd("div", c)], "CodeMirror-linenumber CodeMirror-gutter-elt")),
						f = e.firstChild.offsetWidth,
						g = e.offsetWidth - f;
					return d.lineGutter.style.width = "", d.lineNumInnerWidth = Math.max(f, d.lineGutter.offsetWidth - g), d.lineNumWidth = d.lineNumInnerWidth + g, d.lineNumChars = d.lineNumInnerWidth ? c.length : -1, d.lineGutter.style.width = d.lineNumWidth + "px", !0
				}
				return !1
			}

			function r(a, b) {
				return String(a.lineNumberFormatter(b + a.firstLineNumber))
			}

			function s(a) {
				return gd(a.scroller).left - gd(a.sizer).left
			}

			function t(a, b, c, d) {
				for (var e, f = a.display.showingFrom, g = a.display.showingTo, h = o(a.display, a.doc, c); u(a, b, h, d) && (d = !1, e = !0, C(a), n(a), c && (c = Math.min(a.display.scroller.scrollHeight - a.display.scroller.clientHeight, "number" == typeof c ? c : c.top)), h = o(a.display, a.doc, c), !(h.from >= a.display.showingFrom && h.to <= a.display.showingTo));) b = [];
				return e && (Nc(a, "update", a), (a.display.showingFrom != f || a.display.showingTo != g) && Nc(a, "viewportChange", a, a.display.showingFrom, a.display.showingTo)), e
			}

			function u(a, b, c, d) {
				var e = a.display,
					f = a.doc;
				if (!e.wrapper.clientWidth) return e.showingFrom = e.showingTo = f.first, void(e.viewOffset = 0);
				if (!(!d && 0 == b.length && c.from > e.showingFrom && c.to < e.showingTo)) {
					q(a) && (b = [{
						from: f.first,
						to: f.first + f.size
					}]);
					var g = e.sizer.style.marginLeft = e.gutters.offsetWidth + "px";
					e.scrollbarH.style.left = a.options.fixedGutter ? g : "0";
					var h = 1 / 0;
					if (a.options.lineNumbers)
						for (var i = 0; i < b.length; ++i) b[i].diff && b[i].from < h && (h = b[i].from);
					var j = f.first + f.size,
						k = Math.max(c.from - a.options.viewportMargin, f.first),
						l = Math.min(j, c.to + a.options.viewportMargin);
					if (e.showingFrom < k && k - e.showingFrom < 20 && (k = Math.max(f.first, e.showingFrom)), e.showingTo > l && e.showingTo - l < 20 && (l = Math.min(j, e.showingTo)), Ud)
						for (k = oc(Mb(f, kc(f, k))); j > l && Nb(f, kc(f, l));) ++l;
					var m = [{
						from: Math.max(e.showingFrom, f.first),
						to: Math.min(e.showingTo, j)
					}];
					if (m = m[0].from >= m[0].to ? [] : x(m, b), Ud)
						for (var i = 0; i < m.length; ++i)
							for (var n, o = m[i]; n = Lb(kc(f, o.to - 1));) {
								var p = n.find().from.line;
								if (!(p > o.from)) {
									m.splice(i--, 1);
									break
								}
								o.to = p
							}
					for (var r = 0, i = 0; i < m.length; ++i) {
						var o = m[i];
						o.from < k && (o.from = k), o.to > l && (o.to = l), o.from >= o.to ? m.splice(i--, 1) : r += o.to - o.from
					}
					if (!d && r == l - k && k == e.showingFrom && l == e.showingTo) return void w(a);
					m.sort(function(a, b) {
						return a.from - b.from
					});
					try {
						var s = document.activeElement
					} catch (t) {}.7 * (l - k) > r && (e.lineDiv.style.display = "none"), z(a, k, l, m, h), e.lineDiv.style.display = "", s && document.activeElement != s && s.offsetHeight && s.focus();
					var u = k != e.showingFrom || l != e.showingTo || e.lastSizeC != e.wrapper.clientHeight;
					return u && (e.lastSizeC = e.wrapper.clientHeight, G(a, 400)), e.showingFrom = k, e.showingTo = l, v(a), w(a), !0
				}
			}

			function v(a) {
				for (var b, c = a.display, d = c.lineDiv.offsetTop, e = c.lineDiv.firstChild; e; e = e.nextSibling)
					if (e.lineObj) {
						if (yd) {
							var f = e.offsetTop + e.offsetHeight;
							b = f - d, d = f
						} else {
							var g = gd(e);
							b = g.bottom - g.top
						}
						var h = e.lineObj.height - b;
						if (2 > b && (b = ba(c)), h > .001 || -.001 > h) {
							nc(e.lineObj, b);
							var i = e.lineObj.widgets;
							if (i)
								for (var j = 0; j < i.length; ++j) i[j].height = i[j].node.offsetHeight
						}
					}
			}

			function w(a) {
				var b = a.display.viewOffset = qc(a, kc(a.doc, a.display.showingFrom));
				a.display.mover.style.top = b + "px"
			}

			function x(a, b) {
				for (var c = 0, d = b.length || 0; d > c; ++c) {
					for (var e = b[c], f = [], g = e.diff || 0, h = 0, i = a.length; i > h; ++h) {
						var j = a[h];
						e.to <= j.from && e.diff ? f.push({
							from: j.from + g,
							to: j.to + g
						}) : e.to <= j.from || e.from >= j.to ? f.push(j) : (e.from > j.from && f.push({
							from: j.from,
							to: e.from
						}), e.to < j.to && f.push({
							from: e.to + g,
							to: j.to + g
						}))
					}
					a = f
				}
				return a
			}

			function y(a) {
				for (var b = a.display, c = {}, d = {}, e = b.gutters.firstChild, f = 0; e; e = e.nextSibling, ++f) c[a.options.gutters[f]] = e.offsetLeft, d[a.options.gutters[f]] = e.offsetWidth;
				return {
					fixedPos: s(b),
					gutterTotalWidth: b.gutters.offsetWidth,
					gutterLeft: c,
					gutterWidth: d,
					wrapperWidth: b.wrapper.clientWidth
				}
			}

			function z(a, b, c, d, e) {
				function f(b) {
					var c = b.nextSibling;
					return Ad && Ld && a.display.currentWheelTarget == b ? (b.style.display = "none", b.lineObj = null) : b.parentNode.removeChild(b), c
				}
				var g = y(a),
					h = a.display,
					i = a.options.lineNumbers;
				d.length || Ad && a.display.currentWheelTarget || dd(h.lineDiv);
				var j = h.lineDiv,
					k = j.firstChild,
					l = d.shift(),
					m = b;
				for (a.doc.iter(b, c, function(b) {
						if (l && l.to == m && (l = d.shift()), Nb(a.doc, b)) {
							if (0 != b.height && nc(b, 0), b.widgets && k && k.previousSibling)
								for (var c = 0; c < b.widgets.length; ++c) {
									var h = b.widgets[c];
									if (h.showIfHidden) {
										var n = k.previousSibling;
										if (/pre/i.test(n.nodeName)) {
											var o = cd("div", null, null, "position: relative");
											n.parentNode.replaceChild(o, n), o.appendChild(n), n = o
										}
										var p = n.appendChild(cd("div", [h.node], "CodeMirror-linewidget"));
										h.handleMouseEvents || (p.ignoreEvents = !0), B(h, p, n, g)
									}
								}
						} else if (l && l.from <= m && l.to > m) {
							for (; k.lineObj != b;) k = f(k);
							i && m >= e && k.lineNumber && fd(k.lineNumber, r(a.options, m)), k = k.nextSibling
						} else {
							if (b.widgets)
								for (var q, s = 0, t = k; t && 20 > s; ++s, t = t.nextSibling)
									if (t.lineObj == b && /div/i.test(t.nodeName)) {
										q = t;
										break
									}
							var u = A(a, b, m, g, q);
							if (u != q) j.insertBefore(u, k);
							else {
								for (; k != q;) k = f(k);
								k = k.nextSibling
							}
							u.lineObj = b
						}++m
					}); k;) k = f(k)
			}

			function A(a, b, c, d, e) {
				var f, g = _b(a, b),
					h = b.gutterMarkers,
					i = a.display;
				if (!(a.options.lineNumbers || h || b.bgClass || b.wrapClass || b.widgets)) return g;
				if (e) {
					e.alignable = null;
					for (var j, k = !0, l = 0, m = null, n = e.firstChild; n; n = j)
						if (j = n.nextSibling, /\bCodeMirror-linewidget\b/.test(n.className)) {
							for (var o = 0; o < b.widgets.length; ++o) {
								var p = b.widgets[o];
								if (p.node == n.firstChild) {
									p.above || m || (m = n), B(p, n, e, d), ++l;
									break
								}
							}
							if (o == b.widgets.length) {
								k = !1;
								break
							}
						} else e.removeChild(n);
					e.insertBefore(g, m), k && l == b.widgets.length && (f = e, e.className = b.wrapClass || "")
				}
				if (f || (f = cd("div", null, b.wrapClass, "position: relative"), f.appendChild(g)), b.bgClass && f.insertBefore(cd("div", null, b.bgClass + " CodeMirror-linebackground"), f.firstChild), a.options.lineNumbers || h) {
					var q = f.insertBefore(cd("div", null, null, "position: absolute; left: " + (a.options.fixedGutter ? d.fixedPos : -d.gutterTotalWidth) + "px"), f.firstChild);
					if (a.options.fixedGutter && (f.alignable || (f.alignable = [])).push(q), !a.options.lineNumbers || h && h["CodeMirror-linenumbers"] || (f.lineNumber = q.appendChild(cd("div", r(a.options, c), "CodeMirror-linenumber CodeMirror-gutter-elt", "left: " + d.gutterLeft["CodeMirror-linenumbers"] + "px; width: " + i.lineNumInnerWidth + "px"))), h)
						for (var s = 0; s < a.options.gutters.length; ++s) {
							var t = a.options.gutters[s],
								u = h.hasOwnProperty(t) && h[t];
							u && q.appendChild(cd("div", [u], "CodeMirror-gutter-elt", "left: " + d.gutterLeft[t] + "px; width: " + d.gutterWidth[t] + "px"))
						}
				}
				if (yd && (f.style.zIndex = 2), b.widgets && f != e)
					for (var o = 0, v = b.widgets; o < v.length; ++o) {
						var p = v[o],
							w = cd("div", [p.node], "CodeMirror-linewidget");
						p.handleMouseEvents || (w.ignoreEvents = !0), B(p, w, f, d), p.above ? f.insertBefore(w, a.options.lineNumbers && 0 != b.height ? q : g) : f.appendChild(w), Nc(p, "redraw")
					}
				return f
			}

			function B(a, b, c, d) {
				if (a.noHScroll) {
					(c.alignable || (c.alignable = [])).push(b);
					var e = d.wrapperWidth;
					b.style.left = d.fixedPos + "px", a.coverGutter || (e -= d.gutterTotalWidth, b.style.paddingLeft = d.gutterTotalWidth + "px"), b.style.width = e + "px"
				}
				a.coverGutter && (b.style.zIndex = 5, b.style.position = "relative", a.noHScroll || (b.style.marginLeft = -d.gutterTotalWidth + "px"))
			}

			function C(a) {
				var b = a.display,
					c = Ta(a.doc.sel.from, a.doc.sel.to);
				if (c || a.options.showCursorWhenSelecting ? D(a) : b.cursor.style.display = b.otherCursor.style.display = "none", c ? b.selectionDiv.style.display = "none" : E(a), a.options.moveInputWithCursor) {
					var d = Z(a, a.doc.sel.head, "div"),
						e = gd(b.wrapper),
						f = gd(b.lineDiv);
					b.inputDiv.style.top = Math.max(0, Math.min(b.wrapper.clientHeight - 10, d.top + f.top - e.top)) + "px", b.inputDiv.style.left = Math.max(0, Math.min(b.wrapper.clientWidth - 10, d.left + f.left - e.left)) + "px"
				}
			}

			function D(a) {
				var b = a.display,
					c = Z(a, a.doc.sel.head, "div");
				b.cursor.style.left = c.left + "px", b.cursor.style.top = c.top + "px", b.cursor.style.height = Math.max(0, c.bottom - c.top) * a.options.cursorHeight + "px", b.cursor.style.display = "", c.other ? (b.otherCursor.style.display = "", b.otherCursor.style.left = c.other.left + "px", b.otherCursor.style.top = c.other.top + "px", b.otherCursor.style.height = .85 * (c.other.bottom - c.other.top) + "px") : b.otherCursor.style.display = "none"
			}

			function E(a) {
				function b(a, b, c, d) {
					0 > b && (b = 0), g.appendChild(cd("div", null, "CodeMirror-selected", "position: absolute; left: " + a + "px; top: " + b + "px; width: " + (null == c ? h - a : c) + "px; height: " + (d - b) + "px"))
				}

				function c(c, d, f) {
					function g(b, d) {
						return Y(a, Sa(c, b), "div", l, d)
					}
					var j, k, l = kc(e, c),
						m = l.text.length;
					return kd(rc(l), d || 0, null == f ? m : f, function(a, c, e) {
						var l, n, o, p = g(a, "left");
						if (a == c) l = p, n = o = p.left;
						else {
							if (l = g(c - 1, "right"), "rtl" == e) {
								var q = p;
								p = l, l = q
							}
							n = p.left, o = l.right
						}
						null == d && 0 == a && (n = i), l.top - p.top > 3 && (b(n, p.top, null, p.bottom), n = i, p.bottom < l.top && b(n, p.bottom, null, l.top)), null == f && c == m && (o = h), (!j || p.top < j.top || p.top == j.top && p.left < j.left) && (j = p), (!k || l.bottom > k.bottom || l.bottom == k.bottom && l.right > k.right) && (k = l), i + 1 > n && (n = i), b(n, l.top, o - n, l.bottom)
					}), {
						start: j,
						end: k
					}
				}
				var d = a.display,
					e = a.doc,
					f = a.doc.sel,
					g = document.createDocumentFragment(),
					h = d.lineSpace.offsetWidth,
					i = M(a.display);
				if (f.from.line == f.to.line) c(f.from.line, f.from.ch, f.to.ch);
				else {
					var j = kc(e, f.from.line),
						k = kc(e, f.to.line),
						l = Mb(e, j) == Mb(e, k),
						m = c(f.from.line, f.from.ch, l ? j.text.length : null).end,
						n = c(f.to.line, l ? 0 : null, f.to.ch).start;
					l && (m.top < n.top - 2 ? (b(m.right, m.top, null, m.bottom), b(i, n.top, n.left, n.bottom)) : b(m.right, m.top, n.left - m.right, m.bottom)), m.bottom < n.top && b(i, m.bottom, null, n.top)
				}
				ed(d.selectionDiv, g), d.selectionDiv.style.display = ""
			}

			function F(a) {
				if (a.state.focused) {
					var b = a.display;
					clearInterval(b.blinker);
					var c = !0;
					b.cursor.style.visibility = b.otherCursor.style.visibility = "", a.options.cursorBlinkRate > 0 && (b.blinker = setInterval(function() {
						b.cursor.style.visibility = b.otherCursor.style.visibility = (c = !c) ? "" : "hidden"
					}, a.options.cursorBlinkRate))
				}
			}

			function G(a, b) {
				a.doc.mode.startState && a.doc.frontier < a.display.showingTo && a.state.highlight.set(b, _c(H, a))
			}

			function H(a) {
				var b = a.doc;
				if (b.frontier < b.first && (b.frontier = b.first), !(b.frontier >= a.display.showingTo)) {
					var c, d = +new Date + a.options.workTime,
						e = qb(b.mode, J(a, b.frontier)),
						f = [];
					b.iter(b.frontier, Math.min(b.first + b.size, a.display.showingTo + 500), function(g) {
						if (b.frontier >= a.display.showingFrom) {
							var h = g.styles;
							g.styles = Xb(a, g, e);
							for (var i = !h || h.length != g.styles.length, j = 0; !i && j < h.length; ++j) i = h[j] != g.styles[j];
							i && (c && c.end == b.frontier ? c.end++ : f.push(c = {
								start: b.frontier,
								end: b.frontier + 1
							})), g.stateAfter = qb(b.mode, e)
						} else Zb(a, g, e), g.stateAfter = b.frontier % 5 == 0 ? qb(b.mode, e) : null;
						return ++b.frontier, +new Date > d ? (G(a, a.options.workDelay), !0) : void 0
					}), f.length && fa(a, function() {
						for (var a = 0; a < f.length; ++a) ia(this, f[a].start, f[a].end)
					})()
				}
			}

			function I(a, b, c) {
				for (var d, e, f = a.doc, g = a.doc.mode.innerMode ? 1e3 : 100, h = b, i = b - g; h > i; --h) {
					if (h <= f.first) return f.first;
					var j = kc(f, h - 1);
					if (j.stateAfter && (!c || h <= f.frontier)) return h;
					var k = Tc(j.text, null, a.options.tabSize);
					(null == e || d > k) && (e = h - 1, d = k)
				}
				return e
			}

			function J(a, b, c) {
				var d = a.doc,
					e = a.display;
				if (!d.mode.startState) return !0;
				var f = I(a, b, c),
					g = f > d.first && kc(d, f - 1).stateAfter;
				return g = g ? qb(d.mode, g) : rb(d.mode), d.iter(f, b, function(c) {
					Zb(a, c, g);
					var h = f == b - 1 || f % 5 == 0 || f >= e.showingFrom && f < e.showingTo;
					c.stateAfter = h ? qb(d.mode, g) : null, ++f
				}), g
			}

			function K(a) {
				return a.lineSpace.offsetTop
			}

			function L(a) {
				return a.mover.offsetHeight - a.lineSpace.offsetHeight
			}

			function M(a) {
				var b = ed(a.measure, cd("pre", null, null, "text-align: left")).appendChild(cd("span", "x"));
				return b.offsetLeft
			}

			function N(a, b, c, d, e) {
				var f = -1;
				d = d || Q(a, b);
				for (var g = c;; g += f) {
					var h = d[g];
					if (h) break;
					0 > f && 0 == g && (f = 1)
				}
				return e = g > c ? "left" : c > g ? "right" : e, "left" == e && h.leftSide ? h = h.leftSide : "right" == e && h.rightSide && (h = h.rightSide), {
					left: c > g ? h.right : h.left,
					right: g > c ? h.left : h.right,
					top: h.top,
					bottom: h.bottom
				}
			}

			function O(a, b) {
				for (var c = a.display.measureLineCache, d = 0; d < c.length; ++d) {
					var e = c[d];
					if (e.text == b.text && e.markedSpans == b.markedSpans && a.display.scroller.clientWidth == e.width && e.classes == b.textClass + "|" + b.bgClass + "|" + b.wrapClass) return e
				}
			}

			function P(a, b) {
				var c = O(a, b);
				c && (c.text = c.measure = c.markedSpans = null)
			}

			function Q(a, b) {
				var c = O(a, b);
				if (c) return c.measure;
				var d = R(a, b),
					e = a.display.measureLineCache,
					f = {
						text: b.text,
						width: a.display.scroller.clientWidth,
						markedSpans: b.markedSpans,
						measure: d,
						classes: b.textClass + "|" + b.bgClass + "|" + b.wrapClass
					};
				return 16 == e.length ? e[++a.display.measureLineCachePos % 16] = f : e.push(f), d
			}

			function R(a, b) {
				function c(a) {
					var b = a.top - o.top,
						c = a.bottom - o.top;
					c > r && (c = r), 0 > b && (b = 0);
					for (var d = p.length - 2; d >= 0; d -= 2) {
						var e = p[d],
							f = p[d + 1];
						if (!(e > c || b > f) && (b >= e && f >= c || e >= b && c >= f || Math.min(c, f) - Math.max(b, e) >= c - b >> 1)) {
							p[d] = Math.min(b, e), p[d + 1] = Math.max(c, f);
							break
						}
					}
					return 0 > d && (d = p.length, p.push(b, c)), {
						left: a.left - o.left,
						right: a.right - o.left,
						top: d,
						bottom: null
					}
				}

				function d(a) {
					a.bottom = p[a.top + 1], a.top = p[a.top]
				}
				var e = a.display,
					f = $c(b.text.length),
					g = _b(a, b, f, !0);
				if (xd && !yd && !a.options.lineWrapping && g.childNodes.length > 100) {
					for (var h = document.createDocumentFragment(), i = 10, j = g.childNodes.length, k = 0, l = Math.ceil(j / i); l > k; ++k) {
						for (var m = cd("div", null, null, "display: inline-block"), n = 0; i > n && j; ++n) m.appendChild(g.firstChild), --j;
						h.appendChild(m)
					}
					g.appendChild(h)
				}
				ed(e.measure, g);
				var o = gd(e.lineDiv),
					p = [],
					q = $c(b.text.length),
					r = g.offsetHeight;
				zd && e.measure.first != g && ed(e.measure, g);
				for (var s, k = 0; k < f.length; ++k)
					if (s = f[k]) {
						var t = s,
							u = null;
						if (/\bCodeMirror-widget\b/.test(s.className) && s.getClientRects) {
							1 == s.firstChild.nodeType && (t = s.firstChild);
							var v = t.getClientRects();
							v.length > 1 && (u = q[k] = c(v[0]), u.rightSide = c(v[v.length - 1]))
						}
						u || (u = q[k] = c(gd(t))), s.measureRight && (u.right = gd(s.measureRight).left), s.leftSide && (u.leftSide = c(gd(s.leftSide)))
					}
				dd(a.display.measure);
				for (var s, k = 0; k < q.length; ++k)(s = q[k]) && (d(s), s.leftSide && d(s.leftSide), s.rightSide && d(s.rightSide));
				return q
			}

			function S(a, b) {
				var c = !1;
				if (b.markedSpans)
					for (var d = 0; d < b.markedSpans; ++d) {
						var e = b.markedSpans[d];
						!e.collapsed || null != e.to && e.to != b.text.length || (c = !0)
					}
				var f = !c && O(a, b);
				if (f) return N(a, b, b.text.length, f.measure, "right").right;
				var g = _b(a, b, null, !0),
					h = g.appendChild(jd(a.display.measure));
				return ed(a.display.measure, g), gd(h).right - gd(a.display.lineDiv).left
			}

			function T(a) {
				a.display.measureLineCache.length = a.display.measureLineCachePos = 0, a.display.cachedCharWidth = a.display.cachedTextHeight = null, a.options.lineWrapping || (a.display.maxLineChanged = !0), a.display.lineNumChars = null
			}

			function U() {
				return window.pageXOffset || (document.documentElement || document.body).scrollLeft
			}

			function V() {
				return window.pageYOffset || (document.documentElement || document.body).scrollTop
			}

			function W(a, b, c, d) {
				if (b.widgets)
					for (var e = 0; e < b.widgets.length; ++e)
						if (b.widgets[e].above) {
							var f = Sb(b.widgets[e]);
							c.top += f, c.bottom += f
						}
				if ("line" == d) return c;
				d || (d = "local");
				var g = qc(a, b);
				if ("local" == d ? g += K(a.display) : g -= a.display.viewOffset, "page" == d || "window" == d) {
					var h = gd(a.display.lineSpace);
					g += h.top + ("window" == d ? 0 : V());
					var i = h.left + ("window" == d ? 0 : U());
					c.left += i, c.right += i
				}
				return c.top += g, c.bottom += g, c
			}

			function X(a, b, c) {
				if ("div" == c) return b;
				var d = b.left,
					e = b.top;
				if ("page" == c) d -= U(), e -= V();
				else if ("local" == c || !c) {
					var f = gd(a.display.sizer);
					d += f.left, e += f.top
				}
				var g = gd(a.display.lineSpace);
				return {
					left: d - g.left,
					top: e - g.top
				}
			}

			function Y(a, b, c, d, e) {
				return d || (d = kc(a.doc, b.line)), W(a, d, N(a, d, b.ch, null, e), c)
			}

			function Z(a, b, c, d, e) {
				function f(b, f) {
					var g = N(a, d, b, e, f ? "right" : "left");
					return f ? g.left = g.right : g.right = g.left, W(a, d, g, c)
				}

				function g(a, b) {
					var c = h[b],
						d = c.level % 2;
					return a == ld(c) && b && c.level < h[b - 1].level ? (c = h[--b], a = md(c) - (c.level % 2 ? 0 : 1), d = !0) : a == md(c) && b < h.length - 1 && c.level < h[b + 1].level && (c = h[++b], a = ld(c) - c.level % 2, d = !1), d && a == c.to && a > c.from ? f(a - 1) : f(a, d)
				}
				d = d || kc(a.doc, b.line), e || (e = Q(a, d));
				var h = rc(d),
					i = b.ch;
				if (!h) return f(i);
				var j = sd(h, i),
					k = g(i, j);
				return null != He && (k.other = g(i, He)), k
			}

			function $(a, b, c, d) {
				var e = new Sa(a, b);
				return e.xRel = d, c && (e.outside = !0), e
			}

			function _(a, b, c) {
				var d = a.doc;
				if (c += a.display.viewOffset, 0 > c) return $(d.first, 0, !0, -1);
				var e = pc(d, c),
					f = d.first + d.size - 1;
				if (e > f) return $(d.first + d.size - 1, kc(d, f).text.length, !0, 1);
				for (0 > b && (b = 0);;) {
					var g = kc(d, e),
						h = aa(a, g, e, b, c),
						i = Lb(g),
						j = i && i.find();
					if (!i || !(h.ch > j.from.ch || h.ch == j.from.ch && h.xRel > 0)) return h;
					e = j.to.line
				}
			}

			function aa(a, b, c, d, e) {
				function f(d) {
					var e = Z(a, Sa(c, d), "line", b, j);
					return h = !0, g > e.bottom ? e.left - i : g < e.top ? e.left + i : (h = !1, e.left)
				}
				var g = e - qc(a, b),
					h = !1,
					i = 2 * a.display.wrapper.clientWidth,
					j = Q(a, b),
					k = rc(b),
					l = b.text.length,
					m = nd(b),
					n = od(b),
					o = f(m),
					p = h,
					q = f(n),
					r = h;
				if (d > q) return $(c, n, r, 1);
				for (;;) {
					if (k ? n == m || n == ud(b, m, 1) : 1 >= n - m) {
						for (var s = o > d || q - d >= d - o ? m : n, t = d - (s == m ? o : q); ze.test(b.text.charAt(s));) ++s;
						var u = $(c, s, s == m ? p : r, 0 > t ? -1 : t ? 1 : 0);
						return u
					}
					var v = Math.ceil(l / 2),
						w = m + v;
					if (k) {
						w = m;
						for (var x = 0; v > x; ++x) w = ud(b, w, 1)
					}
					var y = f(w);
					y > d ? (n = w, q = y, (r = h) && (q += 1e3), l = v) : (m = w, o = y, p = h, l -= v)
				}
			}

			function ba(a) {
				if (null != a.cachedTextHeight) return a.cachedTextHeight;
				if (null == Od) {
					Od = cd("pre");
					for (var b = 0; 49 > b; ++b) Od.appendChild(document.createTextNode("x")), Od.appendChild(cd("br"));
					Od.appendChild(document.createTextNode("x"))
				}
				ed(a.measure, Od);
				var c = Od.offsetHeight / 50;
				return c > 3 && (a.cachedTextHeight = c), dd(a.measure), c || 1
			}

			function ca(a) {
				if (null != a.cachedCharWidth) return a.cachedCharWidth;
				var b = cd("span", "x"),
					c = cd("pre", [b]);
				ed(a.measure, c);
				var d = b.offsetWidth;
				return d > 2 && (a.cachedCharWidth = d), d || 10
			}

			function da(a) {
				a.curOp = {
					changes: [],
					forceUpdate: !1,
					updateInput: null,
					userSelChange: null,
					textChanged: null,
					selectionChanged: !1,
					cursorActivity: !1,
					updateMaxLine: !1,
					updateScrollPos: !1,
					id: ++Vd
				}, ue++ || (te = [])
			}

			function ea(a) {
				var b = a.curOp,
					c = a.doc,
					d = a.display;
				if (a.curOp = null, b.updateMaxLine && l(a), d.maxLineChanged && !a.options.lineWrapping && d.maxLine) {
					var e = S(a, d.maxLine);
					d.sizer.style.minWidth = Math.max(0, e + 3 + ve) + "px", d.maxLineChanged = !1;
					var f = Math.max(0, d.sizer.offsetLeft + d.sizer.offsetWidth - d.scroller.clientWidth);
					f < c.scrollLeft && !b.updateScrollPos && xa(a, Math.min(d.scroller.scrollLeft, f), !0)
				}
				var g, h;
				if (b.updateScrollPos) g = b.updateScrollPos;
				else if (b.selectionChanged && d.scroller.clientHeight) {
					var i = Z(a, c.sel.head);
					g = gb(a, i.left, i.top, i.left, i.bottom)
				}(b.changes.length || b.forceUpdate || g && null != g.scrollTop) && (h = t(a, b.changes, g && g.scrollTop, b.forceUpdate), a.display.scroller.offsetHeight && (a.doc.scrollTop = a.display.scroller.scrollTop)), !h && b.selectionChanged && C(a), b.updateScrollPos ? (d.scroller.scrollTop = d.scrollbarV.scrollTop = c.scrollTop = g.scrollTop, d.scroller.scrollLeft = d.scrollbarH.scrollLeft = c.scrollLeft = g.scrollLeft, p(a), b.scrollToPos && eb(a, Xa(a.doc, b.scrollToPos), b.scrollToPosMargin)) : g && db(a), b.selectionChanged && F(a), a.state.focused && b.updateInput && ma(a, b.userSelChange);
				var j = b.maybeHiddenMarkers,
					k = b.maybeUnhiddenMarkers;
				if (j)
					for (var m = 0; m < j.length; ++m) j[m].lines.length || Mc(j[m], "hide");
				if (k)
					for (var m = 0; m < k.length; ++m) k[m].lines.length && Mc(k[m], "unhide");
				var n;
				if (--ue || (n = te, te = null), b.textChanged && Mc(a, "change", a, b.textChanged), b.cursorActivity && Mc(a, "cursorActivity", a), n)
					for (var m = 0; m < n.length; ++m) n[m]()
			}

			function fa(a, b) {
				return function() {
					var c = a || this,
						d = !c.curOp;
					d && da(c);
					try {
						var e = b.apply(c, arguments)
					} finally {
						d && ea(c)
					}
					return e
				}
			}

			function ga(a) {
				return function() {
					var b, c = this.cm && !this.cm.curOp;
					c && da(this.cm);
					try {
						b = a.apply(this, arguments)
					} finally {
						c && ea(this.cm)
					}
					return b
				}
			}

			function ha(a, b) {
				var c, d = !a.curOp;
				d && da(a);
				try {
					c = b()
				} finally {
					d && ea(a)
				}
				return c
			}

			function ia(a, b, c, d) {
				null == b && (b = a.doc.first), null == c && (c = a.doc.first + a.doc.size), a.curOp.changes.push({
					from: b,
					to: c,
					diff: d
				})
			}

			function ja(a) {
				a.display.pollingFast || a.display.poll.set(a.options.pollInterval, function() {
					la(a), a.state.focused && ja(a)
				})
			}

			function ka(a) {
				function b() {
					var d = la(a);
					d || c ? (a.display.pollingFast = !1, ja(a)) : (c = !0, a.display.poll.set(60, b))
				}
				var c = !1;
				a.display.pollingFast = !0, a.display.poll.set(20, b)
			}

			function la(a) {
				var b = a.display.input,
					c = a.display.prevInput,
					d = a.doc,
					e = d.sel;
				if (!a.state.focused || Ee(b) || oa(a) || a.state.disableInput) return !1;
				a.state.pasteIncoming && a.state.fakedLastChar && (b.value = b.value.substring(0, b.value.length - 1), a.state.fakedLastChar = !1);
				var f = b.value;
				if (f == c && Ta(e.from, e.to)) return !1;
				if (xd && !zd && a.display.inputHasSelection === f) return ma(a, !0), !1;
				var g = !a.curOp;
				g && da(a), e.shift = !1;
				for (var h = 0, i = Math.min(c.length, f.length); i > h && c.charCodeAt(h) == f.charCodeAt(h);) ++h;
				var j = e.from,
					k = e.to;
				h < c.length ? j = Sa(j.line, j.ch - (c.length - h)) : a.state.overwrite && Ta(j, k) && !a.state.pasteIncoming && (k = Sa(k.line, Math.min(kc(d, k.line).text.length, k.ch + (f.length - h))));
				var l = a.curOp.updateInput,
					m = {
						from: j,
						to: k,
						text: De(f.slice(h)),
						origin: a.state.pasteIncoming ? "paste" : "+input"
					};
				return La(a.doc, m, "end"), a.curOp.updateInput = l, Nc(a, "inputRead", a, m), f.length > 1e3 || f.indexOf("\n") > -1 ? b.value = a.display.prevInput = "" : a.display.prevInput = f, g && ea(a), a.state.pasteIncoming = !1, !0
			}

			function ma(a, b) {
				var c, d, e = a.doc;
				if (Ta(e.sel.from, e.sel.to)) b && (a.display.prevInput = a.display.input.value = "", xd && !zd && (a.display.inputHasSelection = null));
				else {
					a.display.prevInput = "", c = Fe && (e.sel.to.line - e.sel.from.line > 100 || (d = a.getSelection()).length > 1e3);
					var f = c ? "-" : d || a.getSelection();
					a.display.input.value = f, a.state.focused && Wc(a.display.input), xd && !zd && (a.display.inputHasSelection = f)
				}
				a.display.inaccurateSelection = c
			}

			function na(a) {
				"nocursor" == a.options.readOnly || Kd && document.activeElement == a.display.input || a.display.input.focus()
			}

			function oa(a) {
				return a.options.readOnly || a.doc.cantEdit
			}

			function pa(a) {
				function b() {
					a.state.focused && setTimeout(_c(na, a), 0)
				}

				function c() {
					null == h && (h = setTimeout(function() {
						h = null, g.cachedCharWidth = g.cachedTextHeight = Be = null, T(a), ha(a, _c(ia, a))
					}, 100))
				}

				function d() {
					for (var a = g.wrapper.parentNode; a && a != document.body; a = a.parentNode);
					a ? setTimeout(d, 5e3) : Lc(window, "resize", c)
				}

				function e(b) {
					Oc(a, b) || a.options.onDragEvent && a.options.onDragEvent(a, Dc(b)) || Hc(b)
				}

				function f() {
					g.inaccurateSelection && (g.prevInput = "", g.inaccurateSelection = !1, g.input.value = a.getSelection(), Wc(g.input))
				}
				var g = a.display;
				Kc(g.scroller, "mousedown", fa(a, sa)), xd ? Kc(g.scroller, "dblclick", fa(a, function(b) {
					if (!Oc(a, b)) {
						var c = ra(a, b);
						if (c && !ta(a, b) && !qa(a.display, b)) {
							Ec(b);
							var d = nb(kc(a.doc, c.line).text, c);
							$a(a.doc, d.from, d.to)
						}
					}
				})) : Kc(g.scroller, "dblclick", function(b) {
					Oc(a, b) || Ec(b)
				}), Kc(g.lineSpace, "selectstart", function(a) {
					qa(g, a) || Ec(a)
				}), Sd || Kc(g.scroller, "contextmenu", function(b) {
					Ha(a, b)
				}), Kc(g.scroller, "scroll", function() {
					g.scroller.clientHeight && (wa(a, g.scroller.scrollTop), xa(a, g.scroller.scrollLeft, !0), Mc(a, "scroll", a))
				}), Kc(g.scrollbarV, "scroll", function() {
					g.scroller.clientHeight && wa(a, g.scrollbarV.scrollTop)
				}), Kc(g.scrollbarH, "scroll", function() {
					g.scroller.clientHeight && xa(a, g.scrollbarH.scrollLeft)
				}), Kc(g.scroller, "mousewheel", function(b) {
					ya(a, b)
				}), Kc(g.scroller, "DOMMouseScroll", function(b) {
					ya(a, b)
				}), Kc(g.scrollbarH, "mousedown", b), Kc(g.scrollbarV, "mousedown", b), Kc(g.wrapper, "scroll", function() {
					g.wrapper.scrollTop = g.wrapper.scrollLeft = 0
				});
				var h;
				Kc(window, "resize", c), setTimeout(d, 5e3), Kc(g.input, "keyup", fa(a, function(b) {
					Oc(a, b) || a.options.onKeyEvent && a.options.onKeyEvent(a, Dc(b)) || 16 == b.keyCode && (a.doc.sel.shift = !1)
				})), Kc(g.input, "input", _c(ka, a)), Kc(g.input, "keydown", fa(a, Da)), Kc(g.input, "keypress", fa(a, Ea)), Kc(g.input, "focus", _c(Fa, a)), Kc(g.input, "blur", _c(Ga, a)), a.options.dragDrop && (Kc(g.scroller, "dragstart", function(b) {
					va(a, b)
				}), Kc(g.scroller, "dragenter", e), Kc(g.scroller, "dragover", e), Kc(g.scroller, "drop", fa(a, ua))), Kc(g.scroller, "paste", function(b) {
					qa(g, b) || (na(a), ka(a))
				}), Kc(g.input, "paste", function() {
					if (Ad && !a.state.fakedLastChar && !(new Date - a.state.lastMiddleDown < 200)) {
						var b = g.input.selectionStart,
							c = g.input.selectionEnd;
						g.input.value += "$", g.input.selectionStart = b, g.input.selectionEnd = c, a.state.fakedLastChar = !0
					}
					a.state.pasteIncoming = !0, ka(a)
				}), Kc(g.input, "cut", f), Kc(g.input, "copy", f), Fd && Kc(g.sizer, "mouseup", function() {
					document.activeElement == g.input && g.input.blur(), na(a)
				})
			}

			function qa(a, b) {
				for (var c = Ic(b); c != a.wrapper; c = c.parentNode)
					if (!c || c.ignoreEvents || c.parentNode == a.sizer && c != a.mover) return !0
			}

			function ra(a, b, c) {
				var d = a.display;
				if (!c) {
					var e = Ic(b);
					if (e == d.scrollbarH || e == d.scrollbarH.firstChild || e == d.scrollbarV || e == d.scrollbarV.firstChild || e == d.scrollbarFiller || e == d.gutterFiller) return null
				}
				var f, g, h = gd(d.lineSpace);
				try {
					f = b.clientX, g = b.clientY
				} catch (b) {
					return null
				}
				return _(a, f - h.left, g - h.top)
			}

			function sa(a) {
				function b(a) {
					if (!Ta(r, a)) {
						if (r = a, "single" == k) return void $a(e.doc, Xa(g, i), a);
						if (p = Xa(g, p), q = Xa(g, q), "double" == k) {
							var b = nb(kc(g, a.line).text, a);
							Ua(a, p) ? $a(e.doc, b.from, q) : $a(e.doc, p, b.to)
						} else "triple" == k && (Ua(a, p) ? $a(e.doc, q, Xa(g, Sa(a.line, 0))) : $a(e.doc, p, Xa(g, Sa(a.line + 1, 0))))
					}
				}

				function c(a) {
					var d = ++t,
						h = ra(e, a, !0);
					if (h)
						if (Ta(h, m)) {
							var i = a.clientY < s.top ? -20 : a.clientY > s.bottom ? 20 : 0;
							i && setTimeout(fa(e, function() {
								t == d && (f.scroller.scrollTop += i, c(a))
							}), 50)
						} else {
							e.state.focused || Fa(e), m = h, b(h);
							var j = o(f, g);
							(h.line >= j.to || h.line < j.from) && setTimeout(fa(e, function() {
								t == d && c(a)
							}), 150)
						}
				}

				function d(a) {
					t = 1 / 0, Ec(a), na(e), Lc(document, "mousemove", u), Lc(document, "mouseup", v)
				}
				if (!Oc(this, a)) {
					var e = this,
						f = e.display,
						g = e.doc,
						h = g.sel;
					if (h.shift = a.shiftKey, qa(f, a)) return void(Ad || (f.scroller.draggable = !1, setTimeout(function() {
						f.scroller.draggable = !0
					}, 100)));
					if (!ta(e, a)) {
						var i = ra(e, a);
						switch (Jc(a)) {
							case 3:
								return void(Sd && Ha.call(e, e, a));
							case 2:
								return Ad && (e.state.lastMiddleDown = +new Date), i && $a(e.doc, i), setTimeout(_c(na, e), 20), void Ec(a)
						}
						if (!i) return void(Ic(a) == f.scroller && Ec(a));
						e.state.focused || Fa(e);
						var j = +new Date,
							k = "single";
						if (Qd && Qd.time > j - 400 && Ta(Qd.pos, i)) k = "triple", Ec(a), setTimeout(_c(na, e), 20), ob(e, i.line);
						else if (Pd && Pd.time > j - 400 && Ta(Pd.pos, i)) {
							k = "double", Qd = {
								time: j,
								pos: i
							}, Ec(a);
							var l = nb(kc(g, i.line).text, i);
							$a(e.doc, l.from, l.to)
						} else Pd = {
							time: j,
							pos: i
						};
						var m = i;
						if (e.options.dragDrop && Ae && !oa(e) && !Ta(h.from, h.to) && !Ua(i, h.from) && !Ua(h.to, i) && "single" == k) {
							var n = fa(e, function(b) {
								Ad && (f.scroller.draggable = !1), e.state.draggingText = !1, Lc(document, "mouseup", n), Lc(f.scroller, "drop", n), Math.abs(a.clientX - b.clientX) + Math.abs(a.clientY - b.clientY) < 10 && (Ec(b), $a(e.doc, i), na(e))
							});
							return Ad && (f.scroller.draggable = !0), e.state.draggingText = n, f.scroller.dragDrop && f.scroller.dragDrop(), Kc(document, "mouseup", n), void Kc(f.scroller, "drop", n)
						}
						Ec(a), "single" == k && $a(e.doc, Xa(g, i));
						var p = h.from,
							q = h.to,
							r = i,
							s = gd(f.wrapper),
							t = 0,
							u = fa(e, function(a) {
								xd || Jc(a) ? c(a) : d(a)
							}),
							v = fa(e, d);
						Kc(document, "mousemove", u), Kc(document, "mouseup", v)
					}
				}
			}

			function ta(a, b) {
				var c = a.display;
				try {
					var d = b.clientX,
						e = b.clientY
				} catch (b) {
					return !1
				}
				if (d >= Math.floor(gd(c.gutters).right)) return !1;
				if (Ec(b), !Qc(a, "gutterClick")) return !0;
				var f = gd(c.lineDiv);
				if (e > f.bottom) return !0;
				e -= f.top - c.viewOffset;
				for (var g = 0; g < a.options.gutters.length; ++g) {
					var h = c.gutters.childNodes[g];
					if (h && gd(h).right >= d) {
						var i = pc(a.doc, e),
							j = a.options.gutters[g];
						Nc(a, "gutterClick", a, i, j, b);
						break
					}
				}
				return !0
			}

			function ua(a) {
				var b = this;
				if (!(Oc(b, a) || qa(b.display, a) || b.options.onDragEvent && b.options.onDragEvent(b, Dc(a)))) {
					Ec(a), xd && (Wd = +new Date);
					var c = ra(b, a, !0),
						d = a.dataTransfer.files;
					if (c && !oa(b))
						if (d && d.length && window.FileReader && window.File)
							for (var e = d.length, f = Array(e), g = 0, h = function(a, d) {
									var h = new FileReader;
									h.onload = function() {
										f[d] = h.result, ++g == e && (c = Xa(b.doc, c), La(b.doc, {
											from: c,
											to: c,
											text: De(f.join("\n")),
											origin: "paste"
										}, "around"))
									}, h.readAsText(a)
								}, i = 0; e > i; ++i) h(d[i], i);
						else {
							if (b.state.draggingText && !Ua(c, b.doc.sel.from) && !Ua(b.doc.sel.to, c)) return b.state.draggingText(a), void setTimeout(_c(na, b), 20);
							try {
								var f = a.dataTransfer.getData("Text");
								if (f) {
									var j = b.doc.sel.from,
										k = b.doc.sel.to;
									ab(b.doc, c, c), b.state.draggingText && Ra(b.doc, "", j, k, "paste"), b.replaceSelection(f, null, "paste"), na(b), Fa(b)
								}
							} catch (a) {}
						}
				}
			}

			function va(a, b) {
				if (xd && (!a.state.draggingText || +new Date - Wd < 100)) return void Hc(b);
				if (!Oc(a, b) && !qa(a.display, b)) {
					var c = a.getSelection();
					if (b.dataTransfer.setData("Text", c), b.dataTransfer.setDragImage && !Ed) {
						var d = cd("img", null, null, "position: fixed; left: 0; top: 0;");
						Dd && (d.width = d.height = 1, a.display.wrapper.appendChild(d), d._top = d.offsetTop), b.dataTransfer.setDragImage(d, 0, 0), Dd && d.parentNode.removeChild(d)
					}
				}
			}

			function wa(a, b) {
				Math.abs(a.doc.scrollTop - b) < 2 || (a.doc.scrollTop = b, wd || t(a, [], b), a.display.scroller.scrollTop != b && (a.display.scroller.scrollTop = b), a.display.scrollbarV.scrollTop != b && (a.display.scrollbarV.scrollTop = b), wd && t(a, []), G(a, 100))
			}

			function xa(a, b, c) {
				(c ? b == a.doc.scrollLeft : Math.abs(a.doc.scrollLeft - b) < 2) || (b = Math.min(b, a.display.scroller.scrollWidth - a.display.scroller.clientWidth), a.doc.scrollLeft = b, p(a), a.display.scroller.scrollLeft != b && (a.display.scroller.scrollLeft = b), a.display.scrollbarH.scrollLeft != b && (a.display.scrollbarH.scrollLeft = b))
			}

			function ya(a, b) {
				var c = b.wheelDeltaX,
					d = b.wheelDeltaY;
				null == c && b.detail && b.axis == b.HORIZONTAL_AXIS && (c = b.detail), null == d && b.detail && b.axis == b.VERTICAL_AXIS ? d = b.detail : null == d && (d = b.wheelDelta);
				var e = a.display,
					f = e.scroller;
				if (c && f.scrollWidth > f.clientWidth || d && f.scrollHeight > f.clientHeight) {
					if (d && Ld && Ad)
						for (var g = b.target; g != f; g = g.parentNode)
							if (g.lineObj) {
								a.display.currentWheelTarget = g;
								break
							}
					if (c && !wd && !Dd && null != Yd) return d && wa(a, Math.max(0, Math.min(f.scrollTop + d * Yd, f.scrollHeight - f.clientHeight))), xa(a, Math.max(0, Math.min(f.scrollLeft + c * Yd, f.scrollWidth - f.clientWidth))), Ec(b), void(e.wheelStartX = null);
					if (d && null != Yd) {
						var h = d * Yd,
							i = a.doc.scrollTop,
							j = i + e.wrapper.clientHeight;
						0 > h ? i = Math.max(0, i + h - 50) : j = Math.min(a.doc.height, j + h + 50), t(a, [], {
							top: i,
							bottom: j
						})
					}
					20 > Xd && (null == e.wheelStartX ? (e.wheelStartX = f.scrollLeft, e.wheelStartY = f.scrollTop, e.wheelDX = c, e.wheelDY = d, setTimeout(function() {
						if (null != e.wheelStartX) {
							var a = f.scrollLeft - e.wheelStartX,
								b = f.scrollTop - e.wheelStartY,
								c = b && e.wheelDY && b / e.wheelDY || a && e.wheelDX && a / e.wheelDX;
							e.wheelStartX = e.wheelStartY = null, c && (Yd = (Yd * Xd + c) / (Xd + 1), ++Xd)
						}
					}, 200)) : (e.wheelDX += c, e.wheelDY += d))
				}
			}

			function za(a, b, c) {
				if ("string" == typeof b && (b = je[b], !b)) return !1;
				a.display.pollingFast && la(a) && (a.display.pollingFast = !1);
				var d = a.doc,
					e = d.sel.shift,
					f = !1;
				try {
					oa(a) && (a.state.suppressEdits = !0), c && (d.sel.shift = !1), f = b(a) != we
				} finally {
					d.sel.shift = e, a.state.suppressEdits = !1
				}
				return f
			}

			function Aa(a) {
				var b = a.state.keyMaps.slice(0);
				return a.options.extraKeys && b.push(a.options.extraKeys), b.push(a.options.keyMap), b
			}

			function Ba(a, b) {
				var c = sb(a.options.keyMap),
					d = c.auto;
				clearTimeout(Zd), d && !ub(b) && (Zd = setTimeout(function() {
					sb(a.options.keyMap) == c && (a.options.keyMap = d.call ? d.call(null, a) : d, g(a))
				}, 50));
				var e = vb(b, !0),
					f = !1;
				if (!e) return !1;
				var h = Aa(a);
				return f = b.shiftKey ? tb("Shift-" + e, h, function(b) {
					return za(a, b, !0)
				}) || tb(e, h, function(b) {
					return ("string" == typeof b ? /^go[A-Z]/.test(b) : b.motion) ? za(a, b) : void 0
				}) : tb(e, h, function(b) {
					return za(a, b)
				}), f && (Ec(b), F(a), zd && (b.oldKeyCode = b.keyCode, b.keyCode = 0), Nc(a, "keyHandled", a, e, b)), f
			}

			function Ca(a, b, c) {
				var d = tb("'" + c + "'", Aa(a), function(b) {
					return za(a, b, !0)
				});
				return d && (Ec(b), F(a), Nc(a, "keyHandled", a, "'" + c + "'", b)), d
			}

			function Da(a) {
				var b = this;
				if (b.state.focused || Fa(b), !(Oc(b, a) || b.options.onKeyEvent && b.options.onKeyEvent(b, Dc(a)))) {
					xd && 27 == a.keyCode && (a.returnValue = !1);
					var c = a.keyCode;
					b.doc.sel.shift = 16 == c || a.shiftKey;
					var d = Ba(b, a);
					Dd && (_d = d ? c : null, !d && 88 == c && !Fe && (Ld ? a.metaKey : a.ctrlKey) && b.replaceSelection(""))
				}
			}

			function Ea(a) {
				var b = this;
				if (!(Oc(b, a) || b.options.onKeyEvent && b.options.onKeyEvent(b, Dc(a)))) {
					var c = a.keyCode,
						d = a.charCode;
					if (Dd && c == _d) return _d = null, void Ec(a);
					if (!(Dd && (!a.which || a.which < 10) || Fd) || !Ba(b, a)) {
						var e = String.fromCharCode(null == d ? c : d);
						this.options.electricChars && this.doc.mode.electricChars && this.options.smartIndent && !oa(this) && this.doc.mode.electricChars.indexOf(e) > -1 && setTimeout(fa(b, function() {
							jb(b, b.doc.sel.to.line, "smart")
						}), 75), Ca(b, a, e) || (xd && !zd && (b.display.inputHasSelection = null), ka(b))
					}
				}
			}

			function Fa(a) {
				"nocursor" != a.options.readOnly && (a.state.focused || (Mc(a, "focus", a), a.state.focused = !0, -1 == a.display.wrapper.className.search(/\bCodeMirror-focused\b/) && (a.display.wrapper.className += " CodeMirror-focused"), a.curOp || (ma(a, !0), Ad && setTimeout(_c(ma, a, !0), 0))), ja(a), F(a))
			}

			function Ga(a) {
				a.state.focused && (Mc(a, "blur", a), a.state.focused = !1, a.display.wrapper.className = a.display.wrapper.className.replace(" CodeMirror-focused", "")), clearInterval(a.display.blinker), setTimeout(function() {
					a.state.focused || (a.doc.sel.shift = !1)
				}, 150)
			}

			function Ha(a, b) {
				function c() {
					if (null != e.input.selectionStart) {
						var a = e.input.value = " " + (Ta(f.from, f.to) ? "" : e.input.value);
						e.prevInput = " ", e.input.selectionStart = 1, e.input.selectionEnd = a.length
					}
				}

				function d() {
					if (e.inputDiv.style.position = "relative", e.input.style.cssText = i, zd && (e.scrollbarV.scrollTop = e.scroller.scrollTop = h), ja(a), null != e.input.selectionStart) {
						(!xd || zd) && c(), clearTimeout($d);
						var b = 0,
							d = function() {
								" " == e.prevInput && 0 == e.input.selectionStart ? fa(a, je.selectAll)(a) : b++ < 10 ? $d = setTimeout(d, 500) : ma(a)
							};
						$d = setTimeout(d, 200)
					}
				}
				if (!Oc(a, b, "contextmenu")) {
					var e = a.display,
						f = a.doc.sel;
					if (!qa(e, b)) {
						var g = ra(a, b),
							h = e.scroller.scrollTop;
						if (g && !Dd) {
							(Ta(f.from, f.to) || Ua(g, f.from) || !Ua(g, f.to)) && fa(a, ab)(a.doc, g, g);
							var i = e.input.style.cssText;
							if (e.inputDiv.style.position = "absolute", e.input.style.cssText = "position: fixed; width: 30px; height: 30px; top: " + (b.clientY - 5) + "px; left: " + (b.clientX - 5) + "px; z-index: 1000; background: white; outline: none;border-width: 0; outline: none; overflow: hidden; opacity: .05; -ms-opacity: .05; filter: alpha(opacity=5);", na(a), ma(a, !0), Ta(f.from, f.to) && (e.input.value = e.prevInput = " "), xd && !zd && c(), Sd) {
								Hc(b);
								var j = function() {
									Lc(window, "mouseup", j), setTimeout(d, 20)
								};
								Kc(window, "mouseup", j)
							} else setTimeout(d, 50)
						}
					}
				}
			}

			function Ia(a, b, c) {
				if (!Ua(b.from, c)) return Xa(a, c);
				var d = b.text.length - 1 - (b.to.line - b.from.line);
				if (c.line > b.to.line + d) {
					var e = c.line - d,
						f = a.first + a.size - 1;
					return e > f ? Sa(f, kc(a, f).text.length) : Ya(c, kc(a, e).text.length)
				}
				if (c.line == b.to.line + d) return Ya(c, Vc(b.text).length + (1 == b.text.length ? b.from.ch : 0) + kc(a, b.to.line).text.length - b.to.ch);
				var g = c.line - b.from.line;
				return Ya(c, b.text[g].length + (g ? 0 : b.from.ch))
			}

			function Ja(a, b, c) {
				if (c && "object" == typeof c) return {
					anchor: Ia(a, b, c.anchor),
					head: Ia(a, b, c.head)
				};
				if ("start" == c) return {
					anchor: b.from,
					head: b.from
				};
				var d = ae(b);
				if ("around" == c) return {
					anchor: b.from,
					head: d
				};
				if ("end" == c) return {
					anchor: d,
					head: d
				};
				var e = function(a) {
					if (Ua(a, b.from)) return a;
					if (!Ua(b.to, a)) return d;
					var c = a.line + b.text.length - (b.to.line - b.from.line) - 1,
						e = a.ch;
					return a.line == b.to.line && (e += d.ch - b.to.ch), Sa(c, e)
				};
				return {
					anchor: e(a.sel.anchor),
					head: e(a.sel.head)
				}
			}

			function Ka(a, b, c) {
				var d = {
					canceled: !1,
					from: b.from,
					to: b.to,
					text: b.text,
					origin: b.origin,
					cancel: function() {
						this.canceled = !0
					}
				};
				return c && (d.update = function(b, c, d, e) {
					b && (this.from = Xa(a, b)), c && (this.to = Xa(a, c)), d && (this.text = d), void 0 !== e && (this.origin = e)
				}), Mc(a, "beforeChange", a, d), a.cm && Mc(a.cm, "beforeChange", a.cm, d), d.canceled ? null : {
					from: d.from,
					to: d.to,
					text: d.text,
					origin: d.origin
				}
			}

			function La(a, b, c, d) {
				if (a.cm) {
					if (!a.cm.curOp) return fa(a.cm, La)(a, b, c, d);
					if (a.cm.state.suppressEdits) return
				}
				if (!(Qc(a, "beforeChange") || a.cm && Qc(a.cm, "beforeChange")) || (b = Ka(a, b, !0))) {
					var e = Td && !d && Ib(a, b.from, b.to);
					if (e) {
						for (var f = e.length - 1; f >= 1; --f) Ma(a, {
							from: e[f].from,
							to: e[f].to,
							text: [""]
						});
						e.length && Ma(a, {
							from: e[0].from,
							to: e[0].to,
							text: b.text
						}, c)
					} else Ma(a, b, c)
				}
			}

			function Ma(a, b, c) {
				var d = Ja(a, b, c);
				vc(a, b, d, a.cm ? a.cm.curOp.id : 0 / 0), Pa(a, b, d, Gb(a, b));
				var e = [];
				ic(a, function(a, c) {
					c || -1 != Xc(e, a.history) || (Bc(a.history, b), e.push(a.history)), Pa(a, b, null, Gb(a, b))
				})
			}

			function Na(a, b) {
				if (!a.cm || !a.cm.state.suppressEdits) {
					var c = a.history,
						d = ("undo" == b ? c.done : c.undone).pop();
					if (d) {
						var e = {
							changes: [],
							anchorBefore: d.anchorAfter,
							headBefore: d.headAfter,
							anchorAfter: d.anchorBefore,
							headAfter: d.headBefore,
							generation: c.generation
						};
						("undo" == b ? c.undone : c.done).push(e), c.generation = d.generation || ++c.maxGeneration;
						for (var f = Qc(a, "beforeChange") || a.cm && Qc(a.cm, "beforeChange"), g = d.changes.length - 1; g >= 0; --g) {
							var h = d.changes[g];
							if (h.origin = b, f && !Ka(a, h, !1)) return void(("undo" == b ? c.done : c.undone).length = 0);
							e.changes.push(uc(a, h));
							var i = g ? Ja(a, h, null) : {
								anchor: d.anchorBefore,
								head: d.headBefore
							};
							Pa(a, h, i, Hb(a, h));
							var j = [];
							ic(a, function(a, b) {
								b || -1 != Xc(j, a.history) || (Bc(a.history, h), j.push(a.history)), Pa(a, h, null, Hb(a, h))
							})
						}
					}
				}
			}

			function Oa(a, b) {
				function c(a) {
					return Sa(a.line + b, a.ch)
				}
				a.first += b, a.cm && ia(a.cm, a.first, a.first, b), a.sel.head = c(a.sel.head), a.sel.anchor = c(a.sel.anchor), a.sel.from = c(a.sel.from), a.sel.to = c(a.sel.to)
			}

			function Pa(a, b, c, d) {
				if (a.cm && !a.cm.curOp) return fa(a.cm, Pa)(a, b, c, d);
				if (b.to.line < a.first) return void Oa(a, b.text.length - 1 - (b.to.line - b.from.line));
				if (!(b.from.line > a.lastLine())) {
					if (b.from.line < a.first) {
						var e = b.text.length - 1 - (a.first - b.from.line);
						Oa(a, e), b = {
							from: Sa(a.first, 0),
							to: Sa(b.to.line + e, b.to.ch),
							text: [Vc(b.text)],
							origin: b.origin
						}
					}
					var f = a.lastLine();
					b.to.line > f && (b = {
						from: b.from,
						to: Sa(f, kc(a, f).text.length),
						text: [b.text[0]],
						origin: b.origin
					}), b.removed = lc(a, b.from, b.to), c || (c = Ja(a, b, null)), a.cm ? Qa(a.cm, b, d, c) : fc(a, b, d, c)
				}
			}

			function Qa(a, b, c, d) {
				var f = a.doc,
					g = a.display,
					h = b.from,
					i = b.to,
					j = !1,
					l = h.line;
				a.options.lineWrapping || (l = oc(Mb(f, kc(f, h.line))), f.iter(l, i.line + 1, function(a) {
					return a == g.maxLine ? (j = !0, !0) : void 0
				})), Ua(f.sel.head, b.from) || Ua(b.to, f.sel.head) || (a.curOp.cursorActivity = !0), fc(f, b, c, d, e(a)), a.options.lineWrapping || (f.iter(l, h.line + b.text.length, function(a) {
					var b = k(f, a);
					b > g.maxLineLength && (g.maxLine = a, g.maxLineLength = b, g.maxLineChanged = !0, j = !1)
				}), j && (a.curOp.updateMaxLine = !0)), f.frontier = Math.min(f.frontier, h.line), G(a, 400);
				var m = b.text.length - (i.line - h.line) - 1;
				if (ia(a, h.line, i.line + 1, m), Qc(a, "change")) {
					var n = {
						from: h,
						to: i,
						text: b.text,
						removed: b.removed,
						origin: b.origin
					};
					if (a.curOp.textChanged) {
						for (var o = a.curOp.textChanged; o.next; o = o.next);
						o.next = n
					} else a.curOp.textChanged = n
				}
			}

			function Ra(a, b, c, d, e) {
				if (d || (d = c), Ua(d, c)) {
					var f = d;
					d = c, c = f
				}
				"string" == typeof b && (b = De(b)), La(a, {
					from: c,
					to: d,
					text: b,
					origin: e
				}, null)
			}

			function Sa(a, b) {
				return this instanceof Sa ? (this.line = a, void(this.ch = b)) : new Sa(a, b)
			}

			function Ta(a, b) {
				return a.line == b.line && a.ch == b.ch
			}

			function Ua(a, b) {
				return a.line < b.line || a.line == b.line && a.ch < b.ch
			}

			function Va(a) {
				return Sa(a.line, a.ch)
			}

			function Wa(a, b) {
				return Math.max(a.first, Math.min(b, a.first + a.size - 1))
			}

			function Xa(a, b) {
				if (b.line < a.first) return Sa(a.first, 0);
				var c = a.first + a.size - 1;
				return b.line > c ? Sa(c, kc(a, c).text.length) : Ya(b, kc(a, b.line).text.length)
			}

			function Ya(a, b) {
				var c = a.ch;
				return null == c || c > b ? Sa(a.line, b) : 0 > c ? Sa(a.line, 0) : a
			}

			function Za(a, b) {
				return b >= a.first && b < a.first + a.size
			}

			function $a(a, b, c, d) {
				if (a.sel.shift || a.sel.extend) {
					var e = a.sel.anchor;
					if (c) {
						var f = Ua(b, e);
						f != Ua(c, e) ? (e = b, b = c) : f != Ua(b, c) && (b = c)
					}
					ab(a, e, b, d)
				} else ab(a, b, c || b, d);
				a.cm && (a.cm.curOp.userSelChange = !0)
			}

			function _a(a, b, c) {
				var d = {
					anchor: b,
					head: c
				};
				return Mc(a, "beforeSelectionChange", a, d), a.cm && Mc(a.cm, "beforeSelectionChange", a.cm, d), d.anchor = Xa(a, d.anchor), d.head = Xa(a, d.head), d
			}

			function ab(a, b, c, d, e) {
				if (!e && Qc(a, "beforeSelectionChange") || a.cm && Qc(a.cm, "beforeSelectionChange")) {
					var f = _a(a, b, c);
					c = f.head, b = f.anchor
				}
				var g = a.sel;
				if (g.goalColumn = null, (e || !Ta(b, g.anchor)) && (b = cb(a, b, d, "push" != e)), (e || !Ta(c, g.head)) && (c = cb(a, c, d, "push" != e)), !Ta(g.anchor, b) || !Ta(g.head, c)) {
					g.anchor = b, g.head = c;
					var h = Ua(c, b);
					g.from = h ? c : b, g.to = h ? b : c, a.cm && (a.cm.curOp.updateInput = a.cm.curOp.selectionChanged = a.cm.curOp.cursorActivity = !0), Nc(a, "cursorActivity", a)
				}
			}

			function bb(a) {
				ab(a.doc, a.doc.sel.from, a.doc.sel.to, null, "push")
			}

			function cb(a, b, c, d) {
				var e = !1,
					f = b,
					g = c || 1;
				a.cantEdit = !1;
				a: for (;;) {
					var h = kc(a, f.line);
					if (h.markedSpans)
						for (var i = 0; i < h.markedSpans.length; ++i) {
							var j = h.markedSpans[i],
								k = j.marker;
							if ((null == j.from || (k.inclusiveLeft ? j.from <= f.ch : j.from < f.ch)) && (null == j.to || (k.inclusiveRight ? j.to >= f.ch : j.to > f.ch))) {
								if (d && (Mc(k, "beforeCursorEnter"), k.explicitlyCleared)) {
									if (h.markedSpans) {
										--i;
										continue
									}
									break
								}
								if (!k.atomic) continue;
								var l = k.find()[0 > g ? "from" : "to"];
								if (Ta(l, f) && (l.ch += g, l.ch < 0 ? l = l.line > a.first ? Xa(a, Sa(l.line - 1)) : null : l.ch > h.text.length && (l = l.line < a.first + a.size - 1 ? Sa(l.line + 1, 0) : null), !l)) {
									if (e) return d ? (a.cantEdit = !0, Sa(a.first, 0)) : cb(a, b, c, !0);
									e = !0, l = b, g = -g
								}
								f = l;
								continue a
							}
						}
					return f
				}
			}

			function db(a) {
				var b = eb(a, a.doc.sel.head, a.options.cursorScrollMargin);
				if (a.state.focused) {
					var c = a.display,
						d = gd(c.sizer),
						e = null;
					if (b.top + d.top < 0 ? e = !0 : b.bottom + d.top > (window.innerHeight || document.documentElement.clientHeight) && (e = !1), null != e && !Id) {
						var f = "none" == c.cursor.style.display;
						f && (c.cursor.style.display = "", c.cursor.style.left = b.left + "px", c.cursor.style.top = b.top - c.viewOffset + "px"), c.cursor.scrollIntoView(e), f && (c.cursor.style.display = "none")
					}
				}
			}

			function eb(a, b, c) {
				for (null == c && (c = 0);;) {
					var d = !1,
						e = Z(a, b),
						f = gb(a, e.left, e.top - c, e.left, e.bottom + c),
						g = a.doc.scrollTop,
						h = a.doc.scrollLeft;
					if (null != f.scrollTop && (wa(a, f.scrollTop), Math.abs(a.doc.scrollTop - g) > 1 && (d = !0)), null != f.scrollLeft && (xa(a, f.scrollLeft), Math.abs(a.doc.scrollLeft - h) > 1 && (d = !0)), !d) return e
				}
			}

			function fb(a, b, c, d, e) {
				var f = gb(a, b, c, d, e);
				null != f.scrollTop && wa(a, f.scrollTop), null != f.scrollLeft && xa(a, f.scrollLeft)
			}

			function gb(a, b, c, d, e) {
				var f = a.display,
					g = ba(a.display);
				0 > c && (c = 0);
				var h = f.scroller.clientHeight - ve,
					i = f.scroller.scrollTop,
					j = {},
					k = a.doc.height + L(f),
					l = g > c,
					m = e > k - g;
				if (i > c) j.scrollTop = l ? 0 : c;
				else if (e > i + h) {
					var n = Math.min(c, (m ? k : e) - h);
					n != i && (j.scrollTop = n)
				}
				var o = f.scroller.clientWidth - ve,
					p = f.scroller.scrollLeft;
				b += f.gutters.offsetWidth, d += f.gutters.offsetWidth;
				var q = f.gutters.offsetWidth,
					r = q + 10 > b;
				return p + q > b || r ? (r && (b = 0), j.scrollLeft = Math.max(0, b - 10 - q)) : d > o + p - 3 && (j.scrollLeft = d + 10 - o), j
			}

			function hb(a, b, c) {
				a.curOp.updateScrollPos = {
					scrollLeft: null == b ? a.doc.scrollLeft : b,
					scrollTop: null == c ? a.doc.scrollTop : c
				}
			}

			function ib(a, b, c) {
				var d = a.curOp.updateScrollPos || (a.curOp.updateScrollPos = {
						scrollLeft: a.doc.scrollLeft,
						scrollTop: a.doc.scrollTop
					}),
					e = a.display.scroller;
				d.scrollTop = Math.max(0, Math.min(e.scrollHeight - e.clientHeight, d.scrollTop + c)), d.scrollLeft = Math.max(0, Math.min(e.scrollWidth - e.clientWidth, d.scrollLeft + b))
			}

			function jb(a, b, c, d) {
				var e = a.doc;
				if (null == c && (c = "add"), "smart" == c)
					if (a.doc.mode.indent) var f = J(a, b);
					else c = "prev";
				var g, h = a.options.tabSize,
					i = kc(e, b),
					j = Tc(i.text, null, h),
					k = i.text.match(/^\s*/)[0];
				if ("smart" == c && (g = a.doc.mode.indent(f, i.text.slice(k.length), i.text), g == we)) {
					if (!d) return;
					c = "prev"
				}
				"prev" == c ? g = b > e.first ? Tc(kc(e, b - 1).text, null, h) : 0 : "add" == c ? g = j + a.options.indentUnit : "subtract" == c ? g = j - a.options.indentUnit : "number" == typeof c && (g = j + c), g = Math.max(0, g);
				var l = "",
					m = 0;
				if (a.options.indentWithTabs)
					for (var n = Math.floor(g / h); n; --n) m += h, l += "	";
				g > m && (l += Uc(g - m)), l != k && Ra(a.doc, l, Sa(b, 0), Sa(b, k.length), "+input"), i.stateAfter = null
			}

			function kb(a, b, c) {
				var d = b,
					e = b,
					f = a.doc;
				return "number" == typeof b ? e = kc(f, Wa(f, b)) : d = oc(b), null == d ? null : c(e, d) ? (ia(a, d, d + 1), e) : null
			}

			function lb(a, b, c, d, e) {
				function f() {
					var b = h + c;
					return b < a.first || b >= a.first + a.size ? l = !1 : (h = b, k = kc(a, b))
				}

				function g(a) {
					var b = (e ? ud : vd)(k, i, c, !0);
					if (null == b) {
						if (a || !f()) return l = !1;
						i = e ? (0 > c ? od : nd)(k) : 0 > c ? k.text.length : 0
					} else i = b;
					return !0
				}
				var h = b.line,
					i = b.ch,
					j = c,
					k = kc(a, h),
					l = !0;
				if ("char" == d) g();
				else if ("column" == d) g(!0);
				else if ("word" == d || "group" == d)
					for (var m = null, n = "group" == d, o = !0; !(0 > c) || g(!o); o = !1) {
						var p = k.text.charAt(i) || "\n",
							q = ad(p) ? "w" : n ? /\s/.test(p) ? null : "p" : null;
						if (m && m != q) {
							0 > c && (c = 1, g());
							break
						}
						if (q && (m = q), c > 0 && !g(!o)) break
					}
				var r = cb(a, Sa(h, i), j, !0);
				return l || (r.hitSide = !0), r
			}

			function mb(a, b, c, d) {
				var e, f = a.doc,
					g = b.left;
				if ("page" == d) {
					var h = Math.min(a.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);
					e = b.top + c * (h - (0 > c ? 1.5 : .5) * ba(a.display))
				} else "line" == d && (e = c > 0 ? b.bottom + 3 : b.top - 3);
				for (;;) {
					var i = _(a, g, e);
					if (!i.outside) break;
					if (0 > c ? 0 >= e : e >= f.height) {
						i.hitSide = !0;
						break
					}
					e += 5 * c
				}
				return i
			}

			function nb(a, b) {
				var c = b.ch,
					d = b.ch;
				if (a) {
					(b.xRel < 0 || d == a.length) && c ? --c : ++d;
					for (var e = a.charAt(c), f = ad(e) ? ad : /\s/.test(e) ? function(a) {
							return /\s/.test(a)
						} : function(a) {
							return !/\s/.test(a) && !ad(a)
						}; c > 0 && f(a.charAt(c - 1));) --c;
					for (; d < a.length && f(a.charAt(d));) ++d
				}
				return {
					from: Sa(b.line, c),
					to: Sa(b.line, d)
				}
			}

			function ob(a, b) {
				$a(a.doc, Sa(b, 0), Xa(a.doc, Sa(b + 1, 0)))
			}

			function pb(b, c, d, e) {
				a.defaults[b] = c, d && (be[b] = e ? function(a, b, c) {
					c != de && d(a, b, c)
				} : d)
			}

			function qb(a, b) {
				if (b === !0) return b;
				if (a.copyState) return a.copyState(b);
				var c = {};
				for (var d in b) {
					var e = b[d];
					e instanceof Array && (e = e.concat([])), c[d] = e
				}
				return c
			}

			function rb(a, b, c) {
				return a.startState ? a.startState(b, c) : !0
			}

			function sb(a) {
				return "string" == typeof a ? ke[a] : a
			}

			function tb(a, b, c) {
				function d(b) {
					b = sb(b);
					var e = b[a];
					if (e === !1) return "stop";

					if (null != e && c(e)) return !0;
					if (b.nofallthrough) return "stop";
					var f = b.fallthrough;
					if (null == f) return !1;
					if ("[object Array]" != Object.prototype.toString.call(f)) return d(f);
					for (var g = 0, h = f.length; h > g; ++g) {
						var i = d(f[g]);
						if (i) return i
					}
					return !1
				}
				for (var e = 0; e < b.length; ++e) {
					var f = d(b[e]);
					if (f) return "stop" != f
				}
			}

			function ub(a) {
				var b = Ge[a.keyCode];
				return "Ctrl" == b || "Alt" == b || "Shift" == b || "Mod" == b
			}

			function vb(a, b) {
				if (Dd && 34 == a.keyCode && a["char"]) return !1;
				var c = Ge[a.keyCode];
				return null == c || a.altGraphKey ? !1 : (a.altKey && (c = "Alt-" + c), (Rd ? a.metaKey : a.ctrlKey) && (c = "Ctrl-" + c), (Rd ? a.ctrlKey : a.metaKey) && (c = "Cmd-" + c), !b && a.shiftKey && (c = "Shift-" + c), c)
			}

			function wb(a, b) {
				this.pos = this.start = 0, this.string = a, this.tabSize = b || 8, this.lastColumnPos = this.lastColumnValue = 0
			}

			function xb(a, b) {
				this.lines = [], this.type = b, this.doc = a
			}

			function yb(a, b, c, d, e) {
				if (d && d.shared) return Ab(a, b, c, d, e);
				if (a.cm && !a.cm.curOp) return fa(a.cm, yb)(a, b, c, d, e);
				var f = new xb(a, e);
				if ("range" == e && !Ua(b, c)) return f;
				d && Zc(d, f), f.replacedWith && (f.collapsed = !0, f.replacedWith = cd("span", [f.replacedWith], "CodeMirror-widget"), d.handleMouseEvents || (f.replacedWith.ignoreEvents = !0)), f.collapsed && (Ud = !0), f.addToHistory && vc(a, {
					from: b,
					to: c,
					origin: "markText"
				}, {
					head: a.sel.head,
					anchor: a.sel.anchor
				}, 0 / 0);
				var g, h, i, j = b.line,
					k = 0,
					l = a.cm;
				if (a.iter(j, c.line + 1, function(d) {
						l && f.collapsed && !l.options.lineWrapping && Mb(a, d) == l.display.maxLine && (i = !0);
						var e = {
							from: null,
							to: null,
							marker: f
						};
						k += d.text.length, j == b.line && (e.from = b.ch, k -= b.ch), j == c.line && (e.to = c.ch, k -= d.text.length - c.ch), f.collapsed && (j == c.line && (h = Jb(d, c.ch)), j == b.line ? g = Jb(d, b.ch) : nc(d, 0)), Db(d, e), ++j
					}), f.collapsed && a.iter(b.line, c.line + 1, function(b) {
						Nb(a, b) && nc(b, 0)
					}), f.clearOnEnter && Kc(f, "beforeCursorEnter", function() {
						f.clear()
					}), f.readOnly && (Td = !0, (a.history.done.length || a.history.undone.length) && a.clearHistory()), f.collapsed) {
					if (g != h) throw new Error("Inserting collapsed marker overlapping an existing one");
					f.size = k, f.atomic = !0
				}
				return l && (i && (l.curOp.updateMaxLine = !0), (f.className || f.title || f.startStyle || f.endStyle || f.collapsed) && ia(l, b.line, c.line + 1), f.atomic && bb(l)), f
			}

			function zb(a, b) {
				this.markers = a, this.primary = b;
				for (var c = 0, d = this; c < a.length; ++c) a[c].parent = this, Kc(a[c], "clear", function() {
					d.clear()
				})
			}

			function Ab(a, b, c, d, e) {
				d = Zc(d), d.shared = !1;
				var f = [yb(a, b, c, d, e)],
					g = f[0],
					h = d.replacedWith;
				return ic(a, function(a) {
					h && (d.replacedWith = h.cloneNode(!0)), f.push(yb(a, Xa(a, b), Xa(a, c), d, e));
					for (var i = 0; i < a.linked.length; ++i)
						if (a.linked[i].isParent) return;
					g = Vc(f)
				}), new zb(f, g)
			}

			function Bb(a, b) {
				if (a)
					for (var c = 0; c < a.length; ++c) {
						var d = a[c];
						if (d.marker == b) return d
					}
			}

			function Cb(a, b) {
				for (var c, d = 0; d < a.length; ++d) a[d] != b && (c || (c = [])).push(a[d]);
				return c
			}

			function Db(a, b) {
				a.markedSpans = a.markedSpans ? a.markedSpans.concat([b]) : [b], b.marker.attachLine(a)
			}

			function Eb(a, b, c) {
				if (a)
					for (var d, e = 0; e < a.length; ++e) {
						var f = a[e],
							g = f.marker,
							h = null == f.from || (g.inclusiveLeft ? f.from <= b : f.from < b);
						if (h || "bookmark" == g.type && f.from == b && (!c || !f.marker.insertLeft)) {
							var i = null == f.to || (g.inclusiveRight ? f.to >= b : f.to > b);
							(d || (d = [])).push({
								from: f.from,
								to: i ? null : f.to,
								marker: g
							})
						}
					}
				return d
			}

			function Fb(a, b, c) {
				if (a)
					for (var d, e = 0; e < a.length; ++e) {
						var f = a[e],
							g = f.marker,
							h = null == f.to || (g.inclusiveRight ? f.to >= b : f.to > b);
						if (h || "bookmark" == g.type && f.from == b && (!c || f.marker.insertLeft)) {
							var i = null == f.from || (g.inclusiveLeft ? f.from <= b : f.from < b);
							(d || (d = [])).push({
								from: i ? null : f.from - b,
								to: null == f.to ? null : f.to - b,
								marker: g
							})
						}
					}
				return d
			}

			function Gb(a, b) {
				var c = Za(a, b.from.line) && kc(a, b.from.line).markedSpans,
					d = Za(a, b.to.line) && kc(a, b.to.line).markedSpans;
				if (!c && !d) return null;
				var e = b.from.ch,
					f = b.to.ch,
					g = Ta(b.from, b.to),
					h = Eb(c, e, g),
					i = Fb(d, f, g),
					j = 1 == b.text.length,
					k = Vc(b.text).length + (j ? e : 0);
				if (h)
					for (var l = 0; l < h.length; ++l) {
						var m = h[l];
						if (null == m.to) {
							var n = Bb(i, m.marker);
							n ? j && (m.to = null == n.to ? null : n.to + k) : m.to = e
						}
					}
				if (i)
					for (var l = 0; l < i.length; ++l) {
						var m = i[l];
						if (null != m.to && (m.to += k), null == m.from) {
							var n = Bb(h, m.marker);
							n || (m.from = k, j && (h || (h = [])).push(m))
						} else m.from += k, j && (h || (h = [])).push(m)
					}
				if (j && h) {
					for (var l = 0; l < h.length; ++l) null != h[l].from && h[l].from == h[l].to && "bookmark" != h[l].marker.type && h.splice(l--, 1);
					h.length || (h = null)
				}
				var o = [h];
				if (!j) {
					var p, q = b.text.length - 2;
					if (q > 0 && h)
						for (var l = 0; l < h.length; ++l) null == h[l].to && (p || (p = [])).push({
							from: null,
							to: null,
							marker: h[l].marker
						});
					for (var l = 0; q > l; ++l) o.push(p);
					o.push(i)
				}
				return o
			}

			function Hb(a, b) {
				var c = xc(a, b),
					d = Gb(a, b);
				if (!c) return d;
				if (!d) return c;
				for (var e = 0; e < c.length; ++e) {
					var f = c[e],
						g = d[e];
					if (f && g) a: for (var h = 0; h < g.length; ++h) {
						for (var i = g[h], j = 0; j < f.length; ++j)
							if (f[j].marker == i.marker) continue a;
						f.push(i)
					} else g && (c[e] = g)
				}
				return c
			}

			function Ib(a, b, c) {
				var d = null;
				if (a.iter(b.line, c.line + 1, function(a) {
						if (a.markedSpans)
							for (var b = 0; b < a.markedSpans.length; ++b) {
								var c = a.markedSpans[b].marker;
								!c.readOnly || d && -1 != Xc(d, c) || (d || (d = [])).push(c)
							}
					}), !d) return null;
				for (var e = [{
						from: b,
						to: c
					}], f = 0; f < d.length; ++f)
					for (var g = d[f], h = g.find(), i = 0; i < e.length; ++i) {
						var j = e[i];
						if (!Ua(j.to, h.from) && !Ua(h.to, j.from)) {
							var k = [i, 1];
							(Ua(j.from, h.from) || !g.inclusiveLeft && Ta(j.from, h.from)) && k.push({
								from: j.from,
								to: h.from
							}), (Ua(h.to, j.to) || !g.inclusiveRight && Ta(j.to, h.to)) && k.push({
								from: h.to,
								to: j.to
							}), e.splice.apply(e, k), i += k.length - 1
						}
					}
				return e
			}

			function Jb(a, b) {
				var c, d = Ud && a.markedSpans;
				if (d)
					for (var e, f = 0; f < d.length; ++f) e = d[f], e.marker.collapsed && (null == e.from || e.from < b) && (null == e.to || e.to > b) && (!c || c.width < e.marker.width) && (c = e.marker);
				return c
			}

			function Kb(a) {
				return Jb(a, -1)
			}

			function Lb(a) {
				return Jb(a, a.text.length + 1)
			}

			function Mb(a, b) {
				for (var c; c = Kb(b);) b = kc(a, c.find().from.line);
				return b
			}

			function Nb(a, b) {
				var c = Ud && b.markedSpans;
				if (c)
					for (var d, e = 0; e < c.length; ++e)
						if (d = c[e], d.marker.collapsed) {
							if (null == d.from) return !0;
							if (!d.marker.replacedWith && 0 == d.from && d.marker.inclusiveLeft && Ob(a, b, d)) return !0
						}
			}

			function Ob(a, b, c) {
				if (null == c.to) {
					var d = c.marker.find().to,
						e = kc(a, d.line);
					return Ob(a, e, Bb(e.markedSpans, c.marker))
				}
				if (c.marker.inclusiveRight && c.to == b.text.length) return !0;
				for (var f, g = 0; g < b.markedSpans.length; ++g)
					if (f = b.markedSpans[g], f.marker.collapsed && !f.marker.replacedWith && f.from == c.to && (f.marker.inclusiveLeft || c.marker.inclusiveRight) && Ob(a, b, f)) return !0
			}

			function Pb(a) {
				var b = a.markedSpans;
				if (b) {
					for (var c = 0; c < b.length; ++c) b[c].marker.detachLine(a);
					a.markedSpans = null
				}
			}

			function Qb(a, b) {
				if (b) {
					for (var c = 0; c < b.length; ++c) b[c].marker.attachLine(a);
					a.markedSpans = b
				}
			}

			function Rb(a) {
				return function() {
					var b = !this.cm.curOp;
					b && da(this.cm);
					try {
						var c = a.apply(this, arguments)
					} finally {
						b && ea(this.cm)
					}
					return c
				}
			}

			function Sb(a) {
				return null != a.height ? a.height : (a.node.parentNode && 1 == a.node.parentNode.nodeType || ed(a.cm.display.measure, cd("div", [a.node], null, "position: relative")), a.height = a.node.offsetHeight)
			}

			function Tb(a, b, c, d) {
				var e = new le(a, c, d);
				return e.noHScroll && (a.display.alignWidgets = !0), kb(a, b, function(b) {
					var c = b.widgets || (b.widgets = []);
					if (null == e.insertAt ? c.push(e) : c.splice(Math.min(c.length - 1, Math.max(0, e.insertAt)), 0, e), e.line = b, !Nb(a.doc, b) || e.showIfHidden) {
						var d = qc(a, b) < a.doc.scrollTop;
						nc(b, b.height + Sb(e)), d && ib(a, 0, e.height)
					}
					return !0
				}), e
			}

			function Ub(a, b, c, d) {
				a.text = b, a.stateAfter && (a.stateAfter = null), a.styles && (a.styles = null), null != a.order && (a.order = null), Pb(a), Qb(a, c);
				var e = d ? d(a) : 1;
				e != a.height && nc(a, e)
			}

			function Vb(a) {
				a.parent = null, Pb(a)
			}

			function Wb(a, b, c, d, e) {
				var f = c.flattenSpans;
				null == f && (f = a.options.flattenSpans);
				var g, h = 0,
					i = null,
					j = new wb(b, a.options.tabSize);
				for ("" == b && c.blankLine && c.blankLine(d); !j.eol();) j.pos > a.options.maxHighlightLength ? (f = !1, j.pos = Math.min(b.length, j.start + 5e4), g = null) : g = c.token(j, d), f && i == g || (h < j.start && e(j.start, i), h = j.start, i = g), j.start = j.pos;
				h < j.pos && e(j.pos, i)
			}

			function Xb(a, b, c) {
				var d = [a.state.modeGen];
				Wb(a, b.text, a.doc.mode, c, function(a, b) {
					d.push(a, b)
				});
				for (var e = 0; e < a.state.overlays.length; ++e) {
					var f = a.state.overlays[e],
						g = 1,
						h = 0;
					Wb(a, b.text, f.mode, !0, function(a, b) {
						for (var c = g; a > h;) {
							var e = d[g];
							e > a && d.splice(g, 1, a, d[g + 1], e), g += 2, h = Math.min(a, e)
						}
						if (b)
							if (f.opaque) d.splice(c, g - c, a, b), g = c + 2;
							else
								for (; g > c; c += 2) {
									var i = d[c + 1];
									d[c + 1] = i ? i + " " + b : b
								}
					})
				}
				return d
			}

			function Yb(a, b) {
				return b.styles && b.styles[0] == a.state.modeGen || (b.styles = Xb(a, b, b.stateAfter = J(a, oc(b)))), b.styles
			}

			function Zb(a, b, c) {
				var d = a.doc.mode,
					e = new wb(b.text, a.options.tabSize);
				for ("" == b.text && d.blankLine && d.blankLine(c); !e.eol() && e.pos <= a.options.maxHighlightLength;) d.token(e, c), e.start = e.pos
			}

			function $b(a) {
				return a ? ne[a] || (ne[a] = "cm-" + a.replace(/ +/g, " cm-")) : null
			}

			function _b(a, b, c, d) {
				for (var e, f = b, g = !0; e = Kb(f);) f = kc(a.doc, e.find().from.line);
				var h = {
					pre: cd("pre"),
					col: 0,
					pos: 0,
					measure: null,
					measuredSomething: !1,
					cm: a,
					copyWidgets: d
				};
				f.textClass && (h.pre.className = f.textClass);
				do {
					f.text && (g = !1), h.measure = f == b && c, h.pos = 0, h.addToken = h.measure ? bc : ac, (xd || Ad) && a.getOption("lineWrapping") && (h.addToken = cc(h.addToken));
					var i = ec(f, h, Yb(a, f));
					c && f == b && !h.measuredSomething && (c[0] = h.pre.appendChild(jd(a.display.measure)), h.measuredSomething = !0), i && (f = kc(a.doc, i.to.line))
				} while (i);
				!c || h.measuredSomething || c[0] || (c[0] = h.pre.appendChild(g ? cd("span", "\xa0") : jd(a.display.measure))), h.pre.firstChild || Nb(a.doc, b) || h.pre.appendChild(document.createTextNode("\xa0"));
				var j;
				if (c && xd && (j = rc(f))) {
					var k = j.length - 1;
					j[k].from == j[k].to && --k;
					var l = j[k],
						m = j[k - 1];
					if (l.from + 1 == l.to && m && l.level < m.level) {
						var n = c[h.pos - 1];
						n && n.parentNode.insertBefore(n.measureRight = jd(a.display.measure), n.nextSibling)
					}
				}
				return Mc(a, "renderLine", a, b, h.pre), h.pre
			}

			function ac(a, b, c, d, e, f) {
				if (b) {
					if (oe.test(b))
						for (var g = document.createDocumentFragment(), h = 0;;) {
							oe.lastIndex = h;
							var i = oe.exec(b),
								j = i ? i.index - h : b.length - h;
							if (j && (g.appendChild(document.createTextNode(b.slice(h, h + j))), a.col += j), !i) break;
							if (h += j + 1, "	" == i[0]) {
								var k = a.cm.options.tabSize,
									l = k - a.col % k;
								g.appendChild(cd("span", Uc(l), "cm-tab")), a.col += l
							} else {
								var m = cd("span", "\u2022", "cm-invalidchar");
								m.title = "\\u" + i[0].charCodeAt(0).toString(16), g.appendChild(m), a.col += 1
							}
						} else {
							a.col += b.length;
							var g = document.createTextNode(b)
						}
					if (c || d || e || a.measure) {
						var n = c || "";
						d && (n += d), e && (n += e);
						var m = cd("span", [g], n);
						return f && (m.title = f), a.pre.appendChild(m)
					}
					a.pre.appendChild(g)
				}
			}

			function bc(a, b, c, d, e) {
				for (var f = a.cm.options.lineWrapping, g = 0; g < b.length; ++g) {
					var h = b.charAt(g),
						i = 0 == g;
					h >= "\ud800" && "\udbff" > h && g < b.length - 1 ? (h = b.slice(g, g + 2), ++g) : g && f && hd(b, g) && a.pre.appendChild(cd("wbr"));
					var j = a.measure[a.pos],
						k = a.measure[a.pos] = ac(a, h, c, i && d, g == b.length - 1 && e);
					j && (k.leftSide = j.leftSide || j), xd && f && " " == h && g && !/\s/.test(b.charAt(g - 1)) && g < b.length - 1 && !/\s/.test(b.charAt(g + 1)) && (k.style.whiteSpace = "normal"), a.pos += h.length
				}
				b.length && (a.measuredSomething = !0)
			}

			function cc(a) {
				function b(a) {
					for (var b = " ", c = 0; c < a.length - 2; ++c) b += c % 2 ? " " : "\xa0";
					return b += " "
				}
				return function(c, d, e, f, g, h) {
					return a(c, d.replace(/ {3,}/, b), e, f, g, h)
				}
			}

			function dc(a, b, c, d) {
				var e = !d && c.replacedWith;
				if (e && (a.copyWidgets && (e = e.cloneNode(!0)), a.pre.appendChild(e), a.measure)) {
					if (b) a.measure[a.pos] = e;
					else {
						var f = jd(a.cm.display.measure);
						if ("bookmark" != c.type || c.insertLeft) {
							if (a.measure[a.pos]) return;
							a.measure[a.pos] = a.pre.insertBefore(f, e)
						} else a.measure[a.pos] = a.pre.appendChild(f)
					}
					a.measuredSomething = !0
				}
				a.pos += b
			}

			function ec(a, b, c) {
				var d = a.markedSpans,
					e = a.text,
					f = 0;
				if (d)
					for (var g, h, i, j, k, l, m = e.length, n = 0, o = 1, p = "", q = 0;;) {
						if (q == n) {
							h = i = j = k = "", l = null, q = 1 / 0;
							for (var r = [], s = 0; s < d.length; ++s) {
								var t = d[s],
									u = t.marker;
								t.from <= n && (null == t.to || t.to > n) ? (null != t.to && q > t.to && (q = t.to, i = ""), u.className && (h += " " + u.className), u.startStyle && t.from == n && (j += " " + u.startStyle), u.endStyle && t.to == q && (i += " " + u.endStyle), u.title && !k && (k = u.title), u.collapsed && (!l || l.marker.size < u.size) && (l = t)) : t.from > n && q > t.from && (q = t.from), "bookmark" == u.type && t.from == n && u.replacedWith && r.push(u)
							}
							if (l && (l.from || 0) == n && (dc(b, (null == l.to ? m : l.to) - n, l.marker, null == l.from), null == l.to)) return l.marker.find();
							if (!l && r.length)
								for (var s = 0; s < r.length; ++s) dc(b, 0, r[s])
						}
						if (n >= m) break;
						for (var v = Math.min(m, q);;) {
							if (p) {
								var w = n + p.length;
								if (!l) {
									var x = w > v ? p.slice(0, v - n) : p;
									b.addToken(b, x, g ? g + h : h, j, n + x.length == q ? i : "", k)
								}
								if (w >= v) {
									p = p.slice(v - n), n = v;
									break
								}
								n = w, j = ""
							}
							p = e.slice(f, f = c[o++]), g = $b(c[o++])
						}
					} else
						for (var o = 1; o < c.length; o += 2) b.addToken(b, e.slice(f, f = c[o]), $b(c[o + 1]))
			}

			function fc(a, b, c, d, e) {
				function f(a) {
					return c ? c[a] : null
				}

				function g(a, c, d) {
					Ub(a, c, d, e), Nc(a, "change", a, b)
				}
				var h = b.from,
					i = b.to,
					j = b.text,
					k = kc(a, h.line),
					l = kc(a, i.line),
					m = Vc(j),
					n = f(j.length - 1),
					o = i.line - h.line;
				if (0 == h.ch && 0 == i.ch && "" == m) {
					for (var p = 0, q = j.length - 1, r = []; q > p; ++p) r.push(new me(j[p], f(p), e));
					g(l, l.text, n), o && a.remove(h.line, o), r.length && a.insert(h.line, r)
				} else if (k == l)
					if (1 == j.length) g(k, k.text.slice(0, h.ch) + m + k.text.slice(i.ch), n);
					else {
						for (var r = [], p = 1, q = j.length - 1; q > p; ++p) r.push(new me(j[p], f(p), e));
						r.push(new me(m + k.text.slice(i.ch), n, e)), g(k, k.text.slice(0, h.ch) + j[0], f(0)), a.insert(h.line + 1, r)
					} else if (1 == j.length) g(k, k.text.slice(0, h.ch) + j[0] + l.text.slice(i.ch), f(0)), a.remove(h.line + 1, o);
				else {
					g(k, k.text.slice(0, h.ch) + j[0], f(0)), g(l, m + l.text.slice(i.ch), n);
					for (var p = 1, q = j.length - 1, r = []; q > p; ++p) r.push(new me(j[p], f(p), e));
					o > 1 && a.remove(h.line + 1, o - 1), a.insert(h.line + 1, r)
				}
				Nc(a, "change", a, b), ab(a, d.anchor, d.head, null, !0)
			}

			function gc(a) {
				this.lines = a, this.parent = null;
				for (var b = 0, c = a.length, d = 0; c > b; ++b) a[b].parent = this, d += a[b].height;
				this.height = d
			}

			function hc(a) {
				this.children = a;
				for (var b = 0, c = 0, d = 0, e = a.length; e > d; ++d) {
					var f = a[d];
					b += f.chunkSize(), c += f.height, f.parent = this
				}
				this.size = b, this.height = c, this.parent = null
			}

			function ic(a, b, c) {
				function d(a, e, f) {
					if (a.linked)
						for (var g = 0; g < a.linked.length; ++g) {
							var h = a.linked[g];
							if (h.doc != e) {
								var i = f && h.sharedHist;
								(!c || i) && (b(h.doc, i), d(h.doc, a, i))
							}
						}
				}
				d(a, null, !0)
			}

			function jc(a, b) {
				if (b.cm) throw new Error("This document is already in use.");
				a.doc = b, b.cm = a, f(a), c(a), a.options.lineWrapping || l(a), a.options.mode = b.modeOption, ia(a)
			}

			function kc(a, b) {
				for (b -= a.first; !a.lines;)
					for (var c = 0;; ++c) {
						var d = a.children[c],
							e = d.chunkSize();
						if (e > b) {
							a = d;
							break
						}
						b -= e
					}
				return a.lines[b]
			}

			function lc(a, b, c) {
				var d = [],
					e = b.line;
				return a.iter(b.line, c.line + 1, function(a) {
					var f = a.text;
					e == c.line && (f = f.slice(0, c.ch)), e == b.line && (f = f.slice(b.ch)), d.push(f), ++e
				}), d
			}

			function mc(a, b, c) {
				var d = [];
				return a.iter(b, c, function(a) {
					d.push(a.text)
				}), d
			}

			function nc(a, b) {
				for (var c = b - a.height, d = a; d; d = d.parent) d.height += c
			}

			function oc(a) {
				if (null == a.parent) return null;
				for (var b = a.parent, c = Xc(b.lines, a), d = b.parent; d; b = d, d = d.parent)
					for (var e = 0; d.children[e] != b; ++e) c += d.children[e].chunkSize();
				return c + b.first
			}

			function pc(a, b) {
				var c = a.first;
				a: do {
					for (var d = 0, e = a.children.length; e > d; ++d) {
						var f = a.children[d],
							g = f.height;
						if (g > b) {
							a = f;
							continue a
						}
						b -= g, c += f.chunkSize()
					}
					return c
				} while (!a.lines);
				for (var d = 0, e = a.lines.length; e > d; ++d) {
					var h = a.lines[d],
						i = h.height;
					if (i > b) break;
					b -= i
				}
				return c + d
			}

			function qc(a, b) {
				b = Mb(a.doc, b);
				for (var c = 0, d = b.parent, e = 0; e < d.lines.length; ++e) {
					var f = d.lines[e];
					if (f == b) break;
					c += f.height
				}
				for (var g = d.parent; g; d = g, g = d.parent)
					for (var e = 0; e < g.children.length; ++e) {
						var h = g.children[e];
						if (h == d) break;
						c += h.height
					}
				return c
			}

			function rc(a) {
				var b = a.order;
				return null == b && (b = a.order = Ie(a.text)), b
			}

			function sc(a) {
				return {
					done: [],
					undone: [],
					undoDepth: 1 / 0,
					lastTime: 0,
					lastOp: null,
					lastOrigin: null,
					generation: a || 1,
					maxGeneration: a || 1
				}
			}

			function tc(a, b, c, d) {
				var e = b["spans_" + a.id],
					f = 0;
				a.iter(Math.max(a.first, c), Math.min(a.first + a.size, d), function(c) {
					c.markedSpans && ((e || (e = b["spans_" + a.id] = {}))[f] = c.markedSpans), ++f
				})
			}

			function uc(a, b) {
				var c = {
						line: b.from.line,
						ch: b.from.ch
					},
					d = {
						from: c,
						to: ae(b),
						text: lc(a, b.from, b.to)
					};
				return tc(a, d, b.from.line, b.to.line + 1), ic(a, function(a) {
					tc(a, d, b.from.line, b.to.line + 1)
				}, !0), d
			}

			function vc(a, b, c, d) {
				var e = a.history;
				e.undone.length = 0;
				var f = +new Date,
					g = Vc(e.done);
				if (g && (e.lastOp == d || e.lastOrigin == b.origin && b.origin && ("+" == b.origin.charAt(0) && a.cm && e.lastTime > f - a.cm.options.historyEventDelay || "*" == b.origin.charAt(0)))) {
					var h = Vc(g.changes);
					Ta(b.from, b.to) && Ta(b.from, h.to) ? h.to = ae(b) : g.changes.push(uc(a, b)), g.anchorAfter = c.anchor, g.headAfter = c.head
				} else
					for (g = {
							changes: [uc(a, b)],
							generation: e.generation,
							anchorBefore: a.sel.anchor,
							headBefore: a.sel.head,
							anchorAfter: c.anchor,
							headAfter: c.head
						}, e.done.push(g), e.generation = ++e.maxGeneration; e.done.length > e.undoDepth;) e.done.shift();
				e.lastTime = f, e.lastOp = d, e.lastOrigin = b.origin
			}

			function wc(a) {
				if (!a) return null;
				for (var b, c = 0; c < a.length; ++c) a[c].marker.explicitlyCleared ? b || (b = a.slice(0, c)) : b && b.push(a[c]);
				return b ? b.length ? b : null : a
			}

			function xc(a, b) {
				var c = b["spans_" + a.id];
				if (!c) return null;
				for (var d = 0, e = []; d < b.text.length; ++d) e.push(wc(c[d]));
				return e
			}

			function yc(a, b) {
				for (var c = 0, d = []; c < a.length; ++c) {
					var e = a[c],
						f = e.changes,
						g = [];
					d.push({
						changes: g,
						anchorBefore: e.anchorBefore,
						headBefore: e.headBefore,
						anchorAfter: e.anchorAfter,
						headAfter: e.headAfter
					});
					for (var h = 0; h < f.length; ++h) {
						var i, j = f[h];
						if (g.push({
								from: j.from,
								to: j.to,
								text: j.text
							}), b)
							for (var k in j)(i = k.match(/^spans_(\d+)$/)) && Xc(b, Number(i[1])) > -1 && (Vc(g)[k] = j[k], delete j[k])
					}
				}
				return d
			}

			function zc(a, b, c, d) {
				c < a.line ? a.line += d : b < a.line && (a.line = b, a.ch = 0)
			}

			function Ac(a, b, c, d) {
				for (var e = 0; e < a.length; ++e) {
					for (var f = a[e], g = !0, h = 0; h < f.changes.length; ++h) {
						var i = f.changes[h];
						if (f.copied || (i.from = Va(i.from), i.to = Va(i.to)), c < i.from.line) i.from.line += d, i.to.line += d;
						else if (b <= i.to.line) {
							g = !1;
							break
						}
					}
					f.copied || (f.anchorBefore = Va(f.anchorBefore), f.headBefore = Va(f.headBefore), f.anchorAfter = Va(f.anchorAfter), f.readAfter = Va(f.headAfter), f.copied = !0), g ? (zc(f.anchorBefore), zc(f.headBefore), zc(f.anchorAfter), zc(f.headAfter)) : (a.splice(0, e + 1), e = 0)
				}
			}

			function Bc(a, b) {
				var c = b.from.line,
					d = b.to.line,
					e = b.text.length - (d - c) - 1;
				Ac(a.done, c, d, e), Ac(a.undone, c, d, e)
			}

			function Cc() {
				Hc(this)
			}

			function Dc(a) {
				return a.stop || (a.stop = Cc), a
			}

			function Ec(a) {
				a.preventDefault ? a.preventDefault() : a.returnValue = !1
			}

			function Fc(a) {
				a.stopPropagation ? a.stopPropagation() : a.cancelBubble = !0
			}

			function Gc(a) {
				return null != a.defaultPrevented ? a.defaultPrevented : 0 == a.returnValue
			}

			function Hc(a) {
				Ec(a), Fc(a)
			}

			function Ic(a) {
				return a.target || a.srcElement
			}

			function Jc(a) {
				var b = a.which;
				return null == b && (1 & a.button ? b = 1 : 2 & a.button ? b = 3 : 4 & a.button && (b = 2)), Ld && a.ctrlKey && 1 == b && (b = 3), b
			}

			function Kc(a, b, c) {
				if (a.addEventListener) a.addEventListener(b, c, !1);
				else if (a.attachEvent) a.attachEvent("on" + b, c);
				else {
					var d = a._handlers || (a._handlers = {}),
						e = d[b] || (d[b] = []);
					e.push(c)
				}
			}

			function Lc(a, b, c) {
				if (a.removeEventListener) a.removeEventListener(b, c, !1);
				else if (a.detachEvent) a.detachEvent("on" + b, c);
				else {
					var d = a._handlers && a._handlers[b];
					if (!d) return;
					for (var e = 0; e < d.length; ++e)
						if (d[e] == c) {
							d.splice(e, 1);
							break
						}
				}
			}

			function Mc(a, b) {
				var c = a._handlers && a._handlers[b];
				if (c)
					for (var d = Array.prototype.slice.call(arguments, 2), e = 0; e < c.length; ++e) c[e].apply(null, d)
			}

			function Nc(a, b) {
				function c(a) {
					return function() {
						a.apply(null, e)
					}
				}
				var d = a._handlers && a._handlers[b];
				if (d) {
					var e = Array.prototype.slice.call(arguments, 2);
					te || (++ue, te = [], setTimeout(Pc, 0));
					for (var f = 0; f < d.length; ++f) te.push(c(d[f]))
				}
			}

			function Oc(a, b, c) {
				return Mc(a, c || b.type, a, b), Gc(b) || b.codemirrorIgnore
			}

			function Pc() {
				--ue;
				var a = te;
				te = null;
				for (var b = 0; b < a.length; ++b) a[b]()
			}

			function Qc(a, b) {
				var c = a._handlers && a._handlers[b];
				return c && c.length > 0
			}

			function Rc(a) {
				a.prototype.on = function(a, b) {
					Kc(this, a, b)
				}, a.prototype.off = function(a, b) {
					Lc(this, a, b)
				}
			}

			function Sc() {
				this.id = null
			}

			function Tc(a, b, c, d, e) {
				null == b && (b = a.search(/[^\s\u00a0]/), -1 == b && (b = a.length));
				for (var f = d || 0, g = e || 0; b > f; ++f) "	" == a.charAt(f) ? g += c - g % c : ++g;
				return g
			}

			function Uc(a) {
				for (; xe.length <= a;) xe.push(Vc(xe) + " ");
				return xe[a]
			}

			function Vc(a) {
				return a[a.length - 1]
			}

			function Wc(a) {
				if (Jd) a.selectionStart = 0, a.selectionEnd = a.value.length;
				else try {
					a.select()
				} catch (b) {}
			}

			function Xc(a, b) {
				if (a.indexOf) return a.indexOf(b);
				for (var c = 0, d = a.length; d > c; ++c)
					if (a[c] == b) return c;
				return -1
			}

			function Yc(a, b) {
				function c() {}
				c.prototype = a;
				var d = new c;
				return b && Zc(b, d), d
			}

			function Zc(a, b) {
				b || (b = {});
				for (var c in a) a.hasOwnProperty(c) && (b[c] = a[c]);
				return b
			}

			function $c(a) {
				for (var b = [], c = 0; a > c; ++c) b.push(void 0);
				return b
			}

			function _c(a) {
				var b = Array.prototype.slice.call(arguments, 1);
				return function() {
					return a.apply(null, b)
				}
			}

			function ad(a) {
				return /\w/.test(a) || a > "\x80" && (a.toUpperCase() != a.toLowerCase() || ye.test(a))
			}

			function bd(a) {
				for (var b in a)
					if (a.hasOwnProperty(b) && a[b]) return !1;
				return !0
			}

			function cd(a, b, c, d) {
				var e = document.createElement(a);
				if (c && (e.className = c), d && (e.style.cssText = d), "string" == typeof b) fd(e, b);
				else if (b)
					for (var f = 0; f < b.length; ++f) e.appendChild(b[f]);
				return e
			}

			function dd(a) {
				for (var b = a.childNodes.length; b > 0; --b) a.removeChild(a.firstChild);
				return a
			}

			function ed(a, b) {
				return dd(a).appendChild(b)
			}

			function fd(a, b) {
				zd ? (a.innerHTML = "", a.appendChild(document.createTextNode(b))) : a.textContent = b
			}

			function gd(a) {
				return a.getBoundingClientRect()
			}

			function hd() {
				return !1
			}

			function id(a) {
				if (null != Be) return Be;
				var b = cd("div", null, null, "width: 50px; height: 50px; overflow-x: scroll");
				return ed(a, b), b.offsetWidth && (Be = b.offsetHeight - b.clientHeight), Be || 0
			}

			function jd(a) {
				if (null == Ce) {
					var b = cd("span", "\u200b");
					ed(a, cd("span", [b, document.createTextNode("x")])), 0 != a.firstChild.offsetHeight && (Ce = b.offsetWidth <= 1 && b.offsetHeight > 2 && !yd)
				}
				return Ce ? cd("span", "\u200b") : cd("span", "\xa0", null, "display: inline-block; width: 1px; margin-right: -1px")
			}

			function kd(a, b, c, d) {
				if (!a) return d(b, c, "ltr");
				for (var e = !1, f = 0; f < a.length; ++f) {
					var g = a[f];
					(g.from < c && g.to > b || b == c && g.to == b) && (d(Math.max(g.from, b), Math.min(g.to, c), 1 == g.level ? "rtl" : "ltr"), e = !0)
				}
				e || d(b, c, "ltr")
			}

			function ld(a) {
				return a.level % 2 ? a.to : a.from
			}

			function md(a) {
				return a.level % 2 ? a.from : a.to
			}

			function nd(a) {
				var b = rc(a);
				return b ? ld(b[0]) : 0
			}

			function od(a) {
				var b = rc(a);
				return b ? md(Vc(b)) : a.text.length
			}

			function pd(a, b) {
				var c = kc(a.doc, b),
					d = Mb(a.doc, c);
				d != c && (b = oc(d));
				var e = rc(d),
					f = e ? e[0].level % 2 ? od(d) : nd(d) : 0;
				return Sa(b, f)
			}

			function qd(a, b) {
				for (var c, d; c = Lb(d = kc(a.doc, b));) b = c.find().to.line;
				var e = rc(d),
					f = e ? e[0].level % 2 ? nd(d) : od(d) : d.text.length;
				return Sa(b, f)
			}

			function rd(a, b, c) {
				var d = a[0].level;
				return b == d ? !0 : c == d ? !1 : c > b
			}

			function sd(a, b) {
				for (var c, d = 0; d < a.length; ++d) {
					var e = a[d];
					if (e.from < b && e.to > b) return He = null, d;
					if (e.from == b || e.to == b) {
						if (null != c) return rd(a, e.level, a[c].level) ? (He = c, d) : (He = d, c);
						c = d
					}
				}
				return He = null, c
			}

			function td(a, b, c, d) {
				if (!d) return b + c;
				do b += c; while (b > 0 && ze.test(a.text.charAt(b)));
				return b
			}

			function ud(a, b, c, d) {
				var e = rc(a);
				if (!e) return vd(a, b, c, d);
				for (var f = sd(e, b), g = e[f], h = td(a, b, g.level % 2 ? -c : c, d);;) {
					if (h > g.from && h < g.to) return h;
					if (h == g.from || h == g.to) return sd(e, h) == f ? h : (g = e[f += c], c > 0 == g.level % 2 ? g.to : g.from);
					if (g = e[f += c], !g) return null;
					h = c > 0 == g.level % 2 ? td(a, g.to, -1, d) : td(a, g.from, 1, d)
				}
			}

			function vd(a, b, c, d) {
				var e = b + c;
				if (d)
					for (; e > 0 && ze.test(a.text.charAt(e));) e += c;
				return 0 > e || e > a.text.length ? null : e
			}
			var wd = /gecko\/\d/i.test(navigator.userAgent),
				xd = /MSIE \d/.test(navigator.userAgent),
				yd = xd && (null == document.documentMode || document.documentMode < 8),
				zd = xd && (null == document.documentMode || document.documentMode < 9),
				Ad = /WebKit\//.test(navigator.userAgent),
				Bd = Ad && /Qt\/\d+\.\d+/.test(navigator.userAgent),
				Cd = /Chrome\//.test(navigator.userAgent),
				Dd = /Opera\//.test(navigator.userAgent),
				Ed = /Apple Computer/.test(navigator.vendor),
				Fd = /KHTML\//.test(navigator.userAgent),
				Gd = /Mac OS X 1\d\D([7-9]|\d\d)\D/.test(navigator.userAgent),
				Hd = /Mac OS X 1\d\D([8-9]|\d\d)\D/.test(navigator.userAgent),
				Id = /PhantomJS/.test(navigator.userAgent),
				Jd = /AppleWebKit/.test(navigator.userAgent) && /Mobile\/\w+/.test(navigator.userAgent),
				Kd = Jd || /Android|webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(navigator.userAgent),
				Ld = Jd || /Mac/.test(navigator.platform),
				Md = /win/i.test(navigator.platform),
				Nd = Dd && navigator.userAgent.match(/Version\/(\d*\.\d*)/);
			Nd && (Nd = Number(Nd[1])), Nd && Nd >= 15 && (Dd = !1, Ad = !0);
			var Od, Pd, Qd, Rd = Ld && (Bd || Dd && (null == Nd || 12.11 > Nd)),
				Sd = wd || xd && !zd,
				Td = !1,
				Ud = !1,
				Vd = 0,
				Wd = 0,
				Xd = 0,
				Yd = null;
			xd ? Yd = -.53 : wd ? Yd = 15 : Cd ? Yd = -.7 : Ed && (Yd = -1 / 3);
			var Zd, $d, _d = null,
				ae = a.changeEnd = function(a) {
					return a.text ? Sa(a.from.line + a.text.length - 1, Vc(a.text).length + (1 == a.text.length ? a.from.ch : 0)) : a.to
				};
			a.Pos = Sa, a.prototype = {
				constructor: a,
				focus: function() {
					window.focus(), na(this), Fa(this), ka(this)
				},
				setOption: function(a, b) {
					var c = this.options,
						d = c[a];
					(c[a] != b || "mode" == a) && (c[a] = b, be.hasOwnProperty(a) && fa(this, be[a])(this, b, d))
				},
				getOption: function(a) {
					return this.options[a]
				},
				getDoc: function() {
					return this.doc
				},
				addKeyMap: function(a, b) {
					this.state.keyMaps[b ? "push" : "unshift"](a)
				},
				removeKeyMap: function(a) {
					for (var b = this.state.keyMaps, c = 0; c < b.length; ++c)
						if (b[c] == a || "string" != typeof b[c] && b[c].name == a) return b.splice(c, 1), !0
				},
				addOverlay: fa(null, function(b, c) {
					var d = b.token ? b : a.getMode(this.options, b);
					if (d.startState) throw new Error("Overlays may not be stateful.");
					this.state.overlays.push({
						mode: d,
						modeSpec: b,
						opaque: c && c.opaque
					}), this.state.modeGen++, ia(this)
				}),
				removeOverlay: fa(null, function(a) {
					for (var b = this.state.overlays, c = 0; c < b.length; ++c) {
						var d = b[c].modeSpec;
						if (d == a || "string" == typeof a && d.name == a) return b.splice(c, 1), this.state.modeGen++, void ia(this)
					}
				}),
				indentLine: fa(null, function(a, b, c) {
					"string" != typeof b && "number" != typeof b && (b = null == b ? this.options.smartIndent ? "smart" : "prev" : b ? "add" : "subtract"), Za(this.doc, a) && jb(this, a, b, c)
				}),
				indentSelection: fa(null, function(a) {
					var b = this.doc.sel;
					if (Ta(b.from, b.to)) return jb(this, b.from.line, a);
					for (var c = b.to.line - (b.to.ch ? 0 : 1), d = b.from.line; c >= d; ++d) jb(this, d, a)
				}),
				getTokenAt: function(a, b) {
					var c = this.doc;
					a = Xa(c, a);
					for (var d = J(this, a.line, b), e = this.doc.mode, f = kc(c, a.line), g = new wb(f.text, this.options.tabSize); g.pos < a.ch && !g.eol();) {
						g.start = g.pos;
						var h = e.token(g, d)
					}
					return {
						start: g.start,
						end: g.pos,
						string: g.current(),
						className: h || null,
						type: h || null,
						state: d
					}
				},
				getTokenTypeAt: function(a) {
					a = Xa(this.doc, a);
					var b = Yb(this, kc(this.doc, a.line)),
						c = 0,
						d = (b.length - 1) / 2,
						e = a.ch;
					if (0 == e) return b[2];
					for (;;) {
						var f = c + d >> 1;
						if ((f ? b[2 * f - 1] : 0) >= e) d = f;
						else {
							if (!(b[2 * f + 1] < e)) return b[2 * f + 2];
							c = f + 1
						}
					}
				},
				getModeAt: function(b) {
					var c = this.doc.mode;
					return c.innerMode ? a.innerMode(c, this.getTokenAt(b).state).mode : c
				},
				getHelper: function(a, b) {
					if (ie.hasOwnProperty(b)) {
						var c = ie[b],
							d = this.getModeAt(a);
						return d[b] && c[d[b]] || d.helperType && c[d.helperType] || c[d.name]
					}
				},
				getStateAfter: function(a, b) {
					var c = this.doc;
					return a = Wa(c, null == a ? c.first + c.size - 1 : a), J(this, a + 1, b)
				},
				cursorCoords: function(a, b) {
					var c, d = this.doc.sel;
					return c = null == a ? d.head : "object" == typeof a ? Xa(this.doc, a) : a ? d.from : d.to, Z(this, c, b || "page")
				},
				charCoords: function(a, b) {
					return Y(this, Xa(this.doc, a), b || "page")
				},
				coordsChar: function(a, b) {
					return a = X(this, a, b || "page"), _(this, a.left, a.top)
				},
				lineAtHeight: function(a, b) {
					return a = X(this, {
						top: a,
						left: 0
					}, b || "page").top, pc(this.doc, a + this.display.viewOffset)
				},
				heightAtLine: function(a, b) {
					var c = !1,
						d = this.doc.first + this.doc.size - 1;
					a < this.doc.first ? a = this.doc.first : a > d && (a = d, c = !0);
					var e = kc(this.doc, a);
					return W(this, kc(this.doc, a), {
						top: 0,
						left: 0
					}, b || "page").top + (c ? e.height : 0)
				},
				defaultTextHeight: function() {
					return ba(this.display)
				},
				defaultCharWidth: function() {
					return ca(this.display)
				},
				setGutterMarker: fa(null, function(a, b, c) {
					return kb(this, a, function(a) {
						var d = a.gutterMarkers || (a.gutterMarkers = {});
						return d[b] = c, !c && bd(d) && (a.gutterMarkers = null), !0
					})
				}),
				clearGutter: fa(null, function(a) {
					var b = this,
						c = b.doc,
						d = c.first;
					c.iter(function(c) {
						c.gutterMarkers && c.gutterMarkers[a] && (c.gutterMarkers[a] = null, ia(b, d, d + 1), bd(c.gutterMarkers) && (c.gutterMarkers = null)), ++d
					})
				}),
				addLineClass: fa(null, function(a, b, c) {
					return kb(this, a, function(a) {
						var d = "text" == b ? "textClass" : "background" == b ? "bgClass" : "wrapClass";
						if (a[d]) {
							if (new RegExp("(?:^|\\s)" + c + "(?:$|\\s)").test(a[d])) return !1;
							a[d] += " " + c
						} else a[d] = c;
						return !0
					})
				}),
				removeLineClass: fa(null, function(a, b, c) {
					return kb(this, a, function(a) {
						var d = "text" == b ? "textClass" : "background" == b ? "bgClass" : "wrapClass",
							e = a[d];
						if (!e) return !1;
						if (null == c) a[d] = null;
						else {
							var f = e.match(new RegExp("(?:^|\\s+)" + c + "(?:$|\\s+)"));
							if (!f) return !1;
							var g = f.index + f[0].length;
							a[d] = e.slice(0, f.index) + (f.index && g != e.length ? " " : "") + e.slice(g) || null
						}
						return !0
					})
				}),
				addLineWidget: fa(null, function(a, b, c) {
					return Tb(this, a, b, c)
				}),
				removeLineWidget: function(a) {
					a.clear()
				},
				lineInfo: function(a) {
					if ("number" == typeof a) {
						if (!Za(this.doc, a)) return null;
						var b = a;
						if (a = kc(this.doc, a), !a) return null
					} else {
						var b = oc(a);
						if (null == b) return null
					}
					return {
						line: b,
						handle: a,
						text: a.text,
						gutterMarkers: a.gutterMarkers,
						textClass: a.textClass,
						bgClass: a.bgClass,
						wrapClass: a.wrapClass,
						widgets: a.widgets
					}
				},
				getViewport: function() {
					return {
						from: this.display.showingFrom,
						to: this.display.showingTo
					}
				},
				addWidget: function(a, b, c, d, e) {
					var f = this.display;
					a = Z(this, Xa(this.doc, a));
					var g = a.bottom,
						h = a.left;
					if (b.style.position = "absolute", f.sizer.appendChild(b), "over" == d) g = a.top;
					else if ("above" == d || "near" == d) {
						var i = Math.max(f.wrapper.clientHeight, this.doc.height),
							j = Math.max(f.sizer.clientWidth, f.lineSpace.clientWidth);
						("above" == d || a.bottom + b.offsetHeight > i) && a.top > b.offsetHeight ? g = a.top - b.offsetHeight : a.bottom + b.offsetHeight <= i && (g = a.bottom), h + b.offsetWidth > j && (h = j - b.offsetWidth)
					}
					b.style.top = g + "px", b.style.left = b.style.right = "", "right" == e ? (h = f.sizer.clientWidth - b.offsetWidth, b.style.right = "0px") : ("left" == e ? h = 0 : "middle" == e && (h = (f.sizer.clientWidth - b.offsetWidth) / 2), b.style.left = h + "px"), c && fb(this, h, g, h + b.offsetWidth, g + b.offsetHeight)
				},
				triggerOnKeyDown: fa(null, Da),
				execCommand: function(a) {
					return je[a](this)
				},
				findPosH: function(a, b, c, d) {
					var e = 1;
					0 > b && (e = -1, b = -b);
					for (var f = 0, g = Xa(this.doc, a); b > f && (g = lb(this.doc, g, e, c, d), !g.hitSide); ++f);
					return g
				},
				moveH: fa(null, function(a, b) {
					var c, d = this.doc.sel;
					c = d.shift || d.extend || Ta(d.from, d.to) ? lb(this.doc, d.head, a, b, this.options.rtlMoveVisually) : 0 > a ? d.from : d.to, $a(this.doc, c, c, a)
				}),
				deleteH: fa(null, function(a, b) {
					var c = this.doc.sel;
					Ta(c.from, c.to) ? Ra(this.doc, "", c.from, lb(this.doc, c.head, a, b, !1), "+delete") : Ra(this.doc, "", c.from, c.to, "+delete"), this.curOp.userSelChange = !0
				}),
				findPosV: function(a, b, c, d) {
					var e = 1,
						f = d;
					0 > b && (e = -1, b = -b);
					for (var g = 0, h = Xa(this.doc, a); b > g; ++g) {
						var i = Z(this, h, "div");
						if (null == f ? f = i.left : i.left = f, h = mb(this, i, e, c), h.hitSide) break
					}
					return h
				},
				moveV: fa(null, function(a, b) {
					var c = this.doc.sel,
						d = Z(this, c.head, "div");
					null != c.goalColumn && (d.left = c.goalColumn);
					var e = mb(this, d, a, b);
					"page" == b && ib(this, 0, Y(this, e, "div").top - d.top), $a(this.doc, e, e, a), c.goalColumn = d.left
				}),
				toggleOverwrite: function(a) {
					(null == a || a != this.state.overwrite) && ((this.state.overwrite = !this.state.overwrite) ? this.display.cursor.className += " CodeMirror-overwrite" : this.display.cursor.className = this.display.cursor.className.replace(" CodeMirror-overwrite", ""))
				},
				hasFocus: function() {
					return this.state.focused
				},
				scrollTo: fa(null, function(a, b) {
					hb(this, a, b)
				}),
				getScrollInfo: function() {
					var a = this.display.scroller,
						b = ve;
					return {
						left: a.scrollLeft,
						top: a.scrollTop,
						height: a.scrollHeight - b,
						width: a.scrollWidth - b,
						clientHeight: a.clientHeight - b,
						clientWidth: a.clientWidth - b
					}
				},
				scrollIntoView: fa(null, function(a, b) {
					"number" == typeof a && (a = Sa(a, 0)), b || (b = 0);
					var c = a;
					a && null == a.line || (this.curOp.scrollToPos = a ? Xa(this.doc, a) : this.doc.sel.head, this.curOp.scrollToPosMargin = b, c = Z(this, this.curOp.scrollToPos));
					var d = gb(this, c.left, c.top - b, c.right, c.bottom + b);
					hb(this, d.scrollLeft, d.scrollTop)
				}),
				setSize: fa(null, function(a, b) {
					function c(a) {
						return "number" == typeof a || /^\d+$/.test(String(a)) ? a + "px" : a
					}
					null != a && (this.display.wrapper.style.width = c(a)), null != b && (this.display.wrapper.style.height = c(b)), this.options.lineWrapping && (this.display.measureLineCache.length = this.display.measureLineCachePos = 0), this.curOp.forceUpdate = !0
				}),
				operation: function(a) {
					return ha(this, a)
				},
				refresh: fa(null, function() {
					T(this), hb(this, this.doc.scrollLeft, this.doc.scrollTop), ia(this)
				}),
				swapDoc: fa(null, function(a) {
					var b = this.doc;
					return b.cm = null, jc(this, a), T(this), ma(this, !0), hb(this, a.scrollLeft, a.scrollTop), b
				}),
				getInputField: function() {
					return this.display.input
				},
				getWrapperElement: function() {
					return this.display.wrapper
				},
				getScrollerElement: function() {
					return this.display.scroller
				},
				getGutterElement: function() {
					return this.display.gutters
				}
			}, Rc(a);
			var be = a.optionHandlers = {},
				ce = a.defaults = {},
				de = a.Init = {
					toString: function() {
						return "CodeMirror.Init"
					}
				};
			pb("value", "", function(a, b) {
					a.setValue(b)
				}, !0), pb("mode", null, function(a, b) {
					a.doc.modeOption = b, c(a)
				}, !0), pb("indentUnit", 2, c, !0), pb("indentWithTabs", !1), pb("smartIndent", !0), pb("tabSize", 4, function(a) {
					c(a), T(a), ia(a)
				}, !0), pb("electricChars", !0), pb("rtlMoveVisually", !Md), pb("theme", "default", function(a) {
					h(a), i(a)
				}, !0), pb("keyMap", "default", g), pb("extraKeys", null), pb("onKeyEvent", null), pb("onDragEvent", null), pb("lineWrapping", !1, d, !0), pb("gutters", [], function(a) {
					m(a.options), i(a)
				}, !0), pb("fixedGutter", !0, function(a, b) {
					a.display.gutters.style.left = b ? s(a.display) + "px" : "0", a.refresh()
				}, !0), pb("coverGutterNextToScrollbar", !1, n, !0),
				pb("lineNumbers", !1, function(a) {
					m(a.options), i(a)
				}, !0), pb("firstLineNumber", 1, i, !0), pb("lineNumberFormatter", function(a) {
					return a
				}, i, !0), pb("showCursorWhenSelecting", !1, C, !0), pb("readOnly", !1, function(a, b) {
					"nocursor" == b ? (Ga(a), a.display.input.blur()) : b || ma(a, !0)
				}), pb("dragDrop", !0), pb("cursorBlinkRate", 530), pb("cursorScrollMargin", 0), pb("cursorHeight", 1), pb("workTime", 100), pb("workDelay", 100), pb("flattenSpans", !0), pb("pollInterval", 100), pb("undoDepth", 40, function(a, b) {
					a.doc.history.undoDepth = b
				}), pb("historyEventDelay", 500), pb("viewportMargin", 10, function(a) {
					a.refresh()
				}, !0), pb("maxHighlightLength", 1e4, function(a) {
					c(a), a.refresh()
				}, !0), pb("moveInputWithCursor", !0, function(a, b) {
					b || (a.display.inputDiv.style.top = a.display.inputDiv.style.left = 0)
				}), pb("tabindex", null, function(a, b) {
					a.display.input.tabIndex = b || ""
				}), pb("autofocus", null);
			var ee = a.modes = {},
				fe = a.mimeModes = {};
			a.defineMode = function(b, c) {
				if (a.defaults.mode || "null" == b || (a.defaults.mode = b), arguments.length > 2) {
					c.dependencies = [];
					for (var d = 2; d < arguments.length; ++d) c.dependencies.push(arguments[d])
				}
				ee[b] = c
			}, a.defineMIME = function(a, b) {
				fe[a] = b
			}, a.resolveMode = function(b) {
				if ("string" == typeof b && fe.hasOwnProperty(b)) b = fe[b];
				else if (b && "string" == typeof b.name && fe.hasOwnProperty(b.name)) {
					var c = fe[b.name];
					b = Yc(c, b), b.name = c.name
				} else if ("string" == typeof b && /^[\w\-]+\/[\w\-]+\+xml$/.test(b)) return a.resolveMode("application/xml");
				return "string" == typeof b ? {
					name: b
				} : b || {
					name: "null"
				}
			}, a.getMode = function(b, c) {
				var c = a.resolveMode(c),
					d = ee[c.name];
				if (!d) return a.getMode(b, "text/plain");
				var e = d(b, c);
				if (ge.hasOwnProperty(c.name)) {
					var f = ge[c.name];
					for (var g in f) f.hasOwnProperty(g) && (e.hasOwnProperty(g) && (e["_" + g] = e[g]), e[g] = f[g])
				}
				return e.name = c.name, e
			}, a.defineMode("null", function() {
				return {
					token: function(a) {
						a.skipToEnd()
					}
				}
			}), a.defineMIME("text/plain", "null");
			var ge = a.modeExtensions = {};
			a.extendMode = function(a, b) {
				var c = ge.hasOwnProperty(a) ? ge[a] : ge[a] = {};
				Zc(b, c)
			}, a.defineExtension = function(b, c) {
				a.prototype[b] = c
			}, a.defineDocExtension = function(a, b) {
				qe.prototype[a] = b
			}, a.defineOption = pb;
			var he = [];
			a.defineInitHook = function(a) {
				he.push(a)
			};
			var ie = a.helpers = {};
			a.registerHelper = function(b, c, d) {
				ie.hasOwnProperty(b) || (ie[b] = a[b] = {}), ie[b][c] = d
			}, a.isWordChar = ad, a.copyState = qb, a.startState = rb, a.innerMode = function(a, b) {
				for (; a.innerMode;) {
					var c = a.innerMode(b);
					if (!c || c.mode == a) break;
					b = c.state, a = c.mode
				}
				return c || {
					mode: a,
					state: b
				}
			};
			var je = a.commands = {
					selectAll: function(a) {
						a.setSelection(Sa(a.firstLine(), 0), Sa(a.lastLine()))
					},
					killLine: function(a) {
						var b = a.getCursor(!0),
							c = a.getCursor(!1),
							d = !Ta(b, c);
						d || a.getLine(b.line).length != b.ch ? a.replaceRange("", b, d ? c : Sa(b.line), "+delete") : a.replaceRange("", b, Sa(b.line + 1, 0), "+delete")
					},
					deleteLine: function(a) {
						var b = a.getCursor().line;
						a.replaceRange("", Sa(b, 0), Sa(b), "+delete")
					},
					delLineLeft: function(a) {
						var b = a.getCursor();
						a.replaceRange("", Sa(b.line, 0), b, "+delete")
					},
					undo: function(a) {
						a.undo()
					},
					redo: function(a) {
						a.redo()
					},
					goDocStart: function(a) {
						a.extendSelection(Sa(a.firstLine(), 0))
					},
					goDocEnd: function(a) {
						a.extendSelection(Sa(a.lastLine()))
					},
					goLineStart: function(a) {
						a.extendSelection(pd(a, a.getCursor().line))
					},
					goLineStartSmart: function(a) {
						var b = a.getCursor(),
							c = pd(a, b.line),
							d = a.getLineHandle(c.line),
							e = rc(d);
						if (e && 0 != e[0].level) a.extendSelection(c);
						else {
							var f = Math.max(0, d.text.search(/\S/)),
								g = b.line == c.line && b.ch <= f && b.ch;
							a.extendSelection(Sa(c.line, g ? 0 : f))
						}
					},
					goLineEnd: function(a) {
						a.extendSelection(qd(a, a.getCursor().line))
					},
					goLineRight: function(a) {
						var b = a.charCoords(a.getCursor(), "div").top + 5;
						a.extendSelection(a.coordsChar({
							left: a.display.lineDiv.offsetWidth + 100,
							top: b
						}, "div"))
					},
					goLineLeft: function(a) {
						var b = a.charCoords(a.getCursor(), "div").top + 5;
						a.extendSelection(a.coordsChar({
							left: 0,
							top: b
						}, "div"))
					},
					goLineUp: function(a) {
						a.moveV(-1, "line")
					},
					goLineDown: function(a) {
						a.moveV(1, "line")
					},
					goPageUp: function(a) {
						a.moveV(-1, "page")
					},
					goPageDown: function(a) {
						a.moveV(1, "page")
					},
					goCharLeft: function(a) {
						a.moveH(-1, "char")
					},
					goCharRight: function(a) {
						a.moveH(1, "char")
					},
					goColumnLeft: function(a) {
						a.moveH(-1, "column")
					},
					goColumnRight: function(a) {
						a.moveH(1, "column")
					},
					goWordLeft: function(a) {
						a.moveH(-1, "word")
					},
					goGroupRight: function(a) {
						a.moveH(1, "group")
					},
					goGroupLeft: function(a) {
						a.moveH(-1, "group")
					},
					goWordRight: function(a) {
						a.moveH(1, "word")
					},
					delCharBefore: function(a) {
						a.deleteH(-1, "char")
					},
					delCharAfter: function(a) {
						a.deleteH(1, "char")
					},
					delWordBefore: function(a) {
						a.deleteH(-1, "word")
					},
					delWordAfter: function(a) {
						a.deleteH(1, "word")
					},
					delGroupBefore: function(a) {
						a.deleteH(-1, "group")
					},
					delGroupAfter: function(a) {
						a.deleteH(1, "group")
					},
					indentAuto: function(a) {
						a.indentSelection("smart")
					},
					indentMore: function(a) {
						a.indentSelection("add")
					},
					indentLess: function(a) {
						a.indentSelection("subtract")
					},
					insertTab: function(a) {
						a.replaceSelection("	", "end", "+input")
					},
					defaultTab: function(a) {
						a.somethingSelected() ? a.indentSelection("add") : a.replaceSelection("	", "end", "+input")
					},
					transposeChars: function(a) {
						var b = a.getCursor(),
							c = a.getLine(b.line);
						b.ch > 0 && b.ch < c.length - 1 && a.replaceRange(c.charAt(b.ch) + c.charAt(b.ch - 1), Sa(b.line, b.ch - 1), Sa(b.line, b.ch + 1))
					},
					newlineAndIndent: function(a) {
						fa(a, function() {
							a.replaceSelection("\n", "end", "+input"), a.indentLine(a.getCursor().line, null, !0)
						})()
					},
					toggleOverwrite: function(a) {
						a.toggleOverwrite()
					}
				},
				ke = a.keyMap = {};
			ke.basic = {
				Left: "goCharLeft",
				Right: "goCharRight",
				Up: "goLineUp",
				Down: "goLineDown",
				End: "goLineEnd",
				Home: "goLineStartSmart",
				PageUp: "goPageUp",
				PageDown: "goPageDown",
				Delete: "delCharAfter",
				Backspace: "delCharBefore",
				Tab: "defaultTab",
				"Shift-Tab": "indentAuto",
				Enter: "newlineAndIndent",
				Insert: "toggleOverwrite"
			}, ke.pcDefault = {
				"Ctrl-A": "selectAll",
				"Ctrl-D": "deleteLine",
				"Ctrl-Z": "undo",
				"Shift-Ctrl-Z": "redo",
				"Ctrl-Y": "redo",
				"Ctrl-Home": "goDocStart",
				"Alt-Up": "goDocStart",
				"Ctrl-End": "goDocEnd",
				"Ctrl-Down": "goDocEnd",
				"Ctrl-Left": "goGroupLeft",
				"Ctrl-Right": "goGroupRight",
				"Alt-Left": "goLineStart",
				"Alt-Right": "goLineEnd",
				"Ctrl-Backspace": "delGroupBefore",
				"Ctrl-Delete": "delGroupAfter",
				"Ctrl-S": "save",
				"Ctrl-F": "find",
				"Ctrl-G": "findNext",
				"Shift-Ctrl-G": "findPrev",
				"Shift-Ctrl-F": "replace",
				"Shift-Ctrl-R": "replaceAll",
				"Ctrl-[": "indentLess",
				"Ctrl-]": "indentMore",
				fallthrough: "basic"
			}, ke.macDefault = {
				"Cmd-A": "selectAll",
				"Cmd-D": "deleteLine",
				"Cmd-Z": "undo",
				"Shift-Cmd-Z": "redo",
				"Cmd-Y": "redo",
				"Cmd-Up": "goDocStart",
				"Cmd-End": "goDocEnd",
				"Cmd-Down": "goDocEnd",
				"Alt-Left": "goGroupLeft",
				"Alt-Right": "goGroupRight",
				"Cmd-Left": "goLineStart",
				"Cmd-Right": "goLineEnd",
				"Alt-Backspace": "delGroupBefore",
				"Ctrl-Alt-Backspace": "delGroupAfter",
				"Alt-Delete": "delGroupAfter",
				"Cmd-S": "save",
				"Cmd-F": "find",
				"Cmd-G": "findNext",
				"Shift-Cmd-G": "findPrev",
				"Cmd-Alt-F": "replace",
				"Shift-Cmd-Alt-F": "replaceAll",
				"Cmd-[": "indentLess",
				"Cmd-]": "indentMore",
				"Cmd-Backspace": "delLineLeft",
				fallthrough: ["basic", "emacsy"]
			}, ke["default"] = Ld ? ke.macDefault : ke.pcDefault, ke.emacsy = {
				"Ctrl-F": "goCharRight",
				"Ctrl-B": "goCharLeft",
				"Ctrl-P": "goLineUp",
				"Ctrl-N": "goLineDown",
				"Alt-F": "goWordRight",
				"Alt-B": "goWordLeft",
				"Ctrl-A": "goLineStart",
				"Ctrl-E": "goLineEnd",
				"Ctrl-V": "goPageDown",
				"Shift-Ctrl-V": "goPageUp",
				"Ctrl-D": "delCharAfter",
				"Ctrl-H": "delCharBefore",
				"Alt-D": "delWordAfter",
				"Alt-Backspace": "delWordBefore",
				"Ctrl-K": "killLine",
				"Ctrl-T": "transposeChars"
			}, a.lookupKey = tb, a.isModifierKey = ub, a.keyName = vb, a.fromTextArea = function(b, c) {
				function d() {
					b.value = j.getValue()
				}
				if (c || (c = {}), c.value = b.value, !c.tabindex && b.tabindex && (c.tabindex = b.tabindex), !c.placeholder && b.placeholder && (c.placeholder = b.placeholder), null == c.autofocus) {
					var e = document.body;
					try {
						e = document.activeElement
					} catch (f) {}
					c.autofocus = e == b || null != b.getAttribute("autofocus") && e == document.body
				}
				if (b.form && (Kc(b.form, "submit", d), !c.leaveSubmitMethodAlone)) {
					var g = b.form,
						h = g.submit;
					try {
						var i = g.submit = function() {
							d(), g.submit = h, g.submit(), g.submit = i
						}
					} catch (f) {}
				}
				b.style.display = "none";
				var j = a(function(a) {
					b.parentNode.insertBefore(a, b.nextSibling)
				}, c);
				return j.save = d, j.getTextArea = function() {
					return b
				}, j.toTextArea = function() {
					d(), b.parentNode.removeChild(j.getWrapperElement()), b.style.display = "", b.form && (Lc(b.form, "submit", d), "function" == typeof b.form.submit && (b.form.submit = h))
				}, j
			}, wb.prototype = {
				eol: function() {
					return this.pos >= this.string.length
				},
				sol: function() {
					return 0 == this.pos
				},
				peek: function() {
					return this.string.charAt(this.pos) || void 0
				},
				next: function() {
					return this.pos < this.string.length ? this.string.charAt(this.pos++) : void 0
				},
				eat: function(a) {
					var b = this.string.charAt(this.pos);
					if ("string" == typeof a) var c = b == a;
					else var c = b && (a.test ? a.test(b) : a(b));
					return c ? (++this.pos, b) : void 0
				},
				eatWhile: function(a) {
					for (var b = this.pos; this.eat(a););
					return this.pos > b
				},
				eatSpace: function() {
					for (var a = this.pos;
						/[\s\u00a0]/.test(this.string.charAt(this.pos));) ++this.pos;
					return this.pos > a
				},
				skipToEnd: function() {
					this.pos = this.string.length
				},
				skipTo: function(a) {
					var b = this.string.indexOf(a, this.pos);
					return b > -1 ? (this.pos = b, !0) : void 0
				},
				backUp: function(a) {
					this.pos -= a
				},
				column: function() {
					return this.lastColumnPos < this.start && (this.lastColumnValue = Tc(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue), this.lastColumnPos = this.start), this.lastColumnValue
				},
				indentation: function() {
					return Tc(this.string, null, this.tabSize)
				},
				match: function(a, b, c) {
					if ("string" != typeof a) {
						var d = this.string.slice(this.pos).match(a);
						return d && d.index > 0 ? null : (d && b !== !1 && (this.pos += d[0].length), d)
					}
					var e = function(a) {
							return c ? a.toLowerCase() : a
						},
						f = this.string.substr(this.pos, a.length);
					return e(f) == e(a) ? (b !== !1 && (this.pos += a.length), !0) : void 0
				},
				current: function() {
					return this.string.slice(this.start, this.pos)
				}
			}, a.StringStream = wb, a.TextMarker = xb, Rc(xb), xb.prototype.clear = function() {
				if (!this.explicitlyCleared) {
					var a = this.doc.cm,
						b = a && !a.curOp;
					if (b && da(a), Qc(this, "clear")) {
						var c = this.find();
						c && Nc(this, "clear", c.from, c.to)
					}
					for (var d = null, e = null, f = 0; f < this.lines.length; ++f) {
						var g = this.lines[f],
							h = Bb(g.markedSpans, this);
						null != h.to && (e = oc(g)), g.markedSpans = Cb(g.markedSpans, h), null != h.from ? d = oc(g) : this.collapsed && !Nb(this.doc, g) && a && nc(g, ba(a.display))
					}
					if (a && this.collapsed && !a.options.lineWrapping)
						for (var f = 0; f < this.lines.length; ++f) {
							var i = Mb(a.doc, this.lines[f]),
								j = k(a.doc, i);
							j > a.display.maxLineLength && (a.display.maxLine = i, a.display.maxLineLength = j, a.display.maxLineChanged = !0)
						}
					null != d && a && ia(a, d, e + 1), this.lines.length = 0, this.explicitlyCleared = !0, this.atomic && this.doc.cantEdit && (this.doc.cantEdit = !1, a && bb(a)), b && ea(a)
				}
			}, xb.prototype.find = function() {
				for (var a, b, c = 0; c < this.lines.length; ++c) {
					var d = this.lines[c],
						e = Bb(d.markedSpans, this);
					if (null != e.from || null != e.to) {
						var f = oc(d);
						null != e.from && (a = Sa(f, e.from)), null != e.to && (b = Sa(f, e.to))
					}
				}
				return "bookmark" == this.type ? a : a && {
					from: a,
					to: b
				}
			}, xb.prototype.changed = function() {
				var a = this.find(),
					b = this.doc.cm;
				if (a && b) {
					"bookmark" != this.type && (a = a.from);
					var c = kc(this.doc, a.line);
					if (P(b, c), a.line >= b.display.showingFrom && a.line < b.display.showingTo) {
						for (var d = b.display.lineDiv.firstChild; d; d = d.nextSibling)
							if (d.lineObj == c) {
								d.offsetHeight != c.height && nc(c, d.offsetHeight);
								break
							}
						ha(b, function() {
							b.curOp.selectionChanged = b.curOp.forceUpdate = b.curOp.updateMaxLine = !0
						})
					}
				}
			}, xb.prototype.attachLine = function(a) {
				if (!this.lines.length && this.doc.cm) {
					var b = this.doc.cm.curOp;
					b.maybeHiddenMarkers && -1 != Xc(b.maybeHiddenMarkers, this) || (b.maybeUnhiddenMarkers || (b.maybeUnhiddenMarkers = [])).push(this)
				}
				this.lines.push(a)
			}, xb.prototype.detachLine = function(a) {
				if (this.lines.splice(Xc(this.lines, a), 1), !this.lines.length && this.doc.cm) {
					var b = this.doc.cm.curOp;
					(b.maybeHiddenMarkers || (b.maybeHiddenMarkers = [])).push(this)
				}
			}, a.SharedTextMarker = zb, Rc(zb), zb.prototype.clear = function() {
				if (!this.explicitlyCleared) {
					this.explicitlyCleared = !0;
					for (var a = 0; a < this.markers.length; ++a) this.markers[a].clear();
					Nc(this, "clear")
				}
			}, zb.prototype.find = function() {
				return this.primary.find()
			};
			var le = a.LineWidget = function(a, b, c) {
				if (c)
					for (var d in c) c.hasOwnProperty(d) && (this[d] = c[d]);
				this.cm = a, this.node = b
			};
			Rc(le), le.prototype.clear = Rb(function() {
				var a = this.line.widgets,
					b = oc(this.line);
				if (null != b && a) {
					for (var c = 0; c < a.length; ++c) a[c] == this && a.splice(c--, 1);
					a.length || (this.line.widgets = null);
					var d = qc(this.cm, this.line) < this.cm.doc.scrollTop;
					nc(this.line, Math.max(0, this.line.height - Sb(this))), d && ib(this.cm, 0, -this.height), ia(this.cm, b, b + 1)
				}
			}), le.prototype.changed = Rb(function() {
				var a = this.height;
				this.height = null;
				var b = Sb(this) - a;
				if (b) {
					nc(this.line, this.line.height + b);
					var c = oc(this.line);
					ia(this.cm, c, c + 1)
				}
			});
			var me = a.Line = function(a, b, c) {
				this.text = a, Qb(this, b), this.height = c ? c(this) : 1
			};
			Rc(me);
			var ne = {},
				oe = /[\t\u0000-\u0019\u00ad\u200b\u2028\u2029\uFEFF]/g;
			gc.prototype = {
				chunkSize: function() {
					return this.lines.length
				},
				removeInner: function(a, b) {
					for (var c = a, d = a + b; d > c; ++c) {
						var e = this.lines[c];
						this.height -= e.height, Vb(e), Nc(e, "delete")
					}
					this.lines.splice(a, b)
				},
				collapse: function(a) {
					a.splice.apply(a, [a.length, 0].concat(this.lines))
				},
				insertInner: function(a, b, c) {
					this.height += c, this.lines = this.lines.slice(0, a).concat(b).concat(this.lines.slice(a));
					for (var d = 0, e = b.length; e > d; ++d) b[d].parent = this
				},
				iterN: function(a, b, c) {
					for (var d = a + b; d > a; ++a)
						if (c(this.lines[a])) return !0
				}
			}, hc.prototype = {
				chunkSize: function() {
					return this.size
				},
				removeInner: function(a, b) {
					this.size -= b;
					for (var c = 0; c < this.children.length; ++c) {
						var d = this.children[c],
							e = d.chunkSize();
						if (e > a) {
							var f = Math.min(b, e - a),
								g = d.height;
							if (d.removeInner(a, f), this.height -= g - d.height, e == f && (this.children.splice(c--, 1), d.parent = null), 0 == (b -= f)) break;
							a = 0
						} else a -= e
					}
					if (this.size - b < 25) {
						var h = [];
						this.collapse(h), this.children = [new gc(h)], this.children[0].parent = this
					}
				},
				collapse: function(a) {
					for (var b = 0, c = this.children.length; c > b; ++b) this.children[b].collapse(a)
				},
				insertInner: function(a, b, c) {
					this.size += b.length, this.height += c;
					for (var d = 0, e = this.children.length; e > d; ++d) {
						var f = this.children[d],
							g = f.chunkSize();
						if (g >= a) {
							if (f.insertInner(a, b, c), f.lines && f.lines.length > 50) {
								for (; f.lines.length > 50;) {
									var h = f.lines.splice(f.lines.length - 25, 25),
										i = new gc(h);
									f.height -= i.height, this.children.splice(d + 1, 0, i), i.parent = this
								}
								this.maybeSpill()
							}
							break
						}
						a -= g
					}
				},
				maybeSpill: function() {
					if (!(this.children.length <= 10)) {
						var a = this;
						do {
							var b = a.children.splice(a.children.length - 5, 5),
								c = new hc(b);
							if (a.parent) {
								a.size -= c.size, a.height -= c.height;
								var d = Xc(a.parent.children, a);
								a.parent.children.splice(d + 1, 0, c)
							} else {
								var e = new hc(a.children);
								e.parent = a, a.children = [e, c], a = e
							}
							c.parent = a.parent
						} while (a.children.length > 10);
						a.parent.maybeSpill()
					}
				},
				iterN: function(a, b, c) {
					for (var d = 0, e = this.children.length; e > d; ++d) {
						var f = this.children[d],
							g = f.chunkSize();
						if (g > a) {
							var h = Math.min(b, g - a);
							if (f.iterN(a, h, c)) return !0;
							if (0 == (b -= h)) break;
							a = 0
						} else a -= g
					}
				}
			};
			var pe = 0,
				qe = a.Doc = function(a, b, c) {
					if (!(this instanceof qe)) return new qe(a, b, c);
					null == c && (c = 0), hc.call(this, [new gc([new me("", null)])]), this.first = c, this.scrollTop = this.scrollLeft = 0, this.cantEdit = !1, this.history = sc(), this.cleanGeneration = 1, this.frontier = c;
					var d = Sa(c, 0);
					this.sel = {
						from: d,
						to: d,
						head: d,
						anchor: d,
						shift: !1,
						extend: !1,
						goalColumn: null
					}, this.id = ++pe, this.modeOption = b, "string" == typeof a && (a = De(a)), fc(this, {
						from: d,
						to: d,
						text: a
					}, null, {
						head: d,
						anchor: d
					})
				};
			qe.prototype = Yc(hc.prototype, {
				constructor: qe,
				iter: function(a, b, c) {
					c ? this.iterN(a - this.first, b - a, c) : this.iterN(this.first, this.first + this.size, a)
				},
				insert: function(a, b) {
					for (var c = 0, d = 0, e = b.length; e > d; ++d) c += b[d].height;
					this.insertInner(a - this.first, b, c)
				},
				remove: function(a, b) {
					this.removeInner(a - this.first, b)
				},
				getValue: function(a) {
					var b = mc(this, this.first, this.first + this.size);
					return a === !1 ? b : b.join(a || "\n")
				},
				setValue: function(a) {
					var b = Sa(this.first, 0),
						c = this.first + this.size - 1;
					La(this, {
						from: b,
						to: Sa(c, kc(this, c).text.length),
						text: De(a),
						origin: "setValue"
					}, {
						head: b,
						anchor: b
					}, !0)
				},
				replaceRange: function(a, b, c, d) {
					b = Xa(this, b), c = c ? Xa(this, c) : b, Ra(this, a, b, c, d)
				},
				getRange: function(a, b, c) {
					var d = lc(this, Xa(this, a), Xa(this, b));
					return c === !1 ? d : d.join(c || "\n")
				},
				getLine: function(a) {
					var b = this.getLineHandle(a);
					return b && b.text
				},
				setLine: function(a, b) {
					Za(this, a) && Ra(this, b, Sa(a, 0), Xa(this, Sa(a)))
				},
				removeLine: function(a) {
					a ? Ra(this, "", Xa(this, Sa(a - 1)), Xa(this, Sa(a))) : Ra(this, "", Sa(0, 0), Xa(this, Sa(1, 0)))
				},
				getLineHandle: function(a) {
					return Za(this, a) ? kc(this, a) : void 0
				},
				getLineNumber: function(a) {
					return oc(a)
				},
				getLineHandleVisualStart: function(a) {
					return "number" == typeof a && (a = kc(this, a)), Mb(this, a)
				},
				lineCount: function() {
					return this.size
				},
				firstLine: function() {
					return this.first
				},
				lastLine: function() {
					return this.first + this.size - 1
				},
				clipPos: function(a) {
					return Xa(this, a)
				},
				getCursor: function(a) {
					var b, c = this.sel;
					return b = null == a || "head" == a ? c.head : "anchor" == a ? c.anchor : "end" == a || a === !1 ? c.to : c.from, Va(b)
				},
				somethingSelected: function() {
					return !Ta(this.sel.head, this.sel.anchor)
				},
				setCursor: ga(function(a, b, c) {
					var d = Xa(this, "number" == typeof a ? Sa(a, b || 0) : a);
					c ? $a(this, d) : ab(this, d, d)
				}),
				setSelection: ga(function(a, b, c) {
					ab(this, Xa(this, a), Xa(this, b || a), c)
				}),
				extendSelection: ga(function(a, b, c) {
					$a(this, Xa(this, a), b && Xa(this, b), c)
				}),
				getSelection: function(a) {
					return this.getRange(this.sel.from, this.sel.to, a)
				},
				replaceSelection: function(a, b, c) {
					La(this, {
						from: this.sel.from,
						to: this.sel.to,
						text: De(a),
						origin: c
					}, b || "around")
				},
				undo: ga(function() {
					Na(this, "undo")
				}),
				redo: ga(function() {
					Na(this, "redo")
				}),
				setExtending: function(a) {
					this.sel.extend = a
				},
				historySize: function() {
					var a = this.history;
					return {
						undo: a.done.length,
						redo: a.undone.length
					}
				},
				clearHistory: function() {
					this.history = sc(this.history.maxGeneration)
				},
				markClean: function() {
					this.cleanGeneration = this.changeGeneration()
				},
				changeGeneration: function() {
					return this.history.lastOp = this.history.lastOrigin = null, this.history.generation
				},
				isClean: function(a) {
					return this.history.generation == (a || this.cleanGeneration)
				},
				getHistory: function() {
					return {
						done: yc(this.history.done),
						undone: yc(this.history.undone)
					}
				},
				setHistory: function(a) {
					var b = this.history = sc(this.history.maxGeneration);
					b.done = a.done.slice(0), b.undone = a.undone.slice(0)
				},
				markText: function(a, b, c) {
					return yb(this, Xa(this, a), Xa(this, b), c, "range")
				},
				setBookmark: function(a, b) {
					var c = {
						replacedWith: b && (null == b.nodeType ? b.widget : b),
						insertLeft: b && b.insertLeft
					};
					return a = Xa(this, a), yb(this, a, a, c, "bookmark")
				},
				findMarksAt: function(a) {
					a = Xa(this, a);
					var b = [],
						c = kc(this, a.line).markedSpans;
					if (c)
						for (var d = 0; d < c.length; ++d) {
							var e = c[d];
							(null == e.from || e.from <= a.ch) && (null == e.to || e.to >= a.ch) && b.push(e.marker.parent || e.marker)
						}
					return b
				},
				getAllMarks: function() {
					var a = [];
					return this.iter(function(b) {
						var c = b.markedSpans;
						if (c)
							for (var d = 0; d < c.length; ++d) null != c[d].from && a.push(c[d].marker)
					}), a
				},
				posFromIndex: function(a) {
					var b, c = this.first;
					return this.iter(function(d) {
						var e = d.text.length + 1;
						return e > a ? (b = a, !0) : (a -= e, void++c)
					}), Xa(this, Sa(c, b))
				},
				indexFromPos: function(a) {
					a = Xa(this, a);
					var b = a.ch;
					return a.line < this.first || a.ch < 0 ? 0 : (this.iter(this.first, a.line, function(a) {
						b += a.text.length + 1
					}), b)
				},
				copy: function(a) {
					var b = new qe(mc(this, this.first, this.first + this.size), this.modeOption, this.first);
					return b.scrollTop = this.scrollTop, b.scrollLeft = this.scrollLeft, b.sel = {
						from: this.sel.from,
						to: this.sel.to,
						head: this.sel.head,
						anchor: this.sel.anchor,
						shift: this.sel.shift,
						extend: !1,
						goalColumn: this.sel.goalColumn
					}, a && (b.history.undoDepth = this.history.undoDepth, b.setHistory(this.getHistory())), b
				},
				linkedDoc: function(a) {
					a || (a = {});
					var b = this.first,
						c = this.first + this.size;
					null != a.from && a.from > b && (b = a.from), null != a.to && a.to < c && (c = a.to);
					var d = new qe(mc(this, b, c), a.mode || this.modeOption, b);
					return a.sharedHist && (d.history = this.history), (this.linked || (this.linked = [])).push({
						doc: d,
						sharedHist: a.sharedHist
					}), d.linked = [{
						doc: this,
						isParent: !0,
						sharedHist: a.sharedHist
					}], d
				},
				unlinkDoc: function(b) {
					if (b instanceof a && (b = b.doc), this.linked)
						for (var c = 0; c < this.linked.length; ++c) {
							var d = this.linked[c];
							if (d.doc == b) {
								this.linked.splice(c, 1), b.unlinkDoc(this);
								break
							}
						}
					if (b.history == this.history) {
						var e = [b.id];
						ic(b, function(a) {
							e.push(a.id)
						}, !0), b.history = sc(), b.history.done = yc(this.history.done, e), b.history.undone = yc(this.history.undone, e)
					}
				},
				iterLinkedDocs: function(a) {
					ic(this, a)
				},
				getMode: function() {
					return this.mode
				},
				getEditor: function() {
					return this.cm
				}
			}), qe.prototype.eachLine = qe.prototype.iter;
			var re = "iter insert remove copy getEditor".split(" ");
			for (var se in qe.prototype) qe.prototype.hasOwnProperty(se) && Xc(re, se) < 0 && (a.prototype[se] = function(a) {
				return function() {
					return a.apply(this.doc, arguments)
				}
			}(qe.prototype[se]));
			Rc(qe), a.e_stop = Hc, a.e_preventDefault = Ec, a.e_stopPropagation = Fc;
			var te, ue = 0;
			a.on = Kc, a.off = Lc, a.signal = Mc;
			var ve = 30,
				we = a.Pass = {
					toString: function() {
						return "CodeMirror.Pass"
					}
				};
			Sc.prototype = {
				set: function(a, b) {
					clearTimeout(this.id), this.id = setTimeout(b, a)
				}
			}, a.countColumn = Tc;
			var xe = [""],
				ye = /[\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/,
				ze = /[\u0300-\u036F\u0483-\u0487\u0488-\u0489\u0591-\u05BD\u05BF\u05C1-\u05C2\u05C4-\u05C5\u05C7\u0610-\u061A\u064B-\u065F\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7-\u06E8\u06EA-\u06ED\uA66F\uA670-\uA672\uA674-\uA67D\uA69F\udc00-\udfff]/;
			a.replaceGetRect = function(a) {
				gd = a
			};
			var Ae = function() {
				if (zd) return !1;
				var a = cd("div");
				return "draggable" in a || "dragDrop" in a
			}();
			wd ? hd = function(a, b) {
				return 36 == a.charCodeAt(b - 1) && 39 == a.charCodeAt(b)
			} : Ed && !/Version\/([6-9]|\d\d)\b/.test(navigator.userAgent) ? hd = function(a, b) {
				return /\-[^ \-?]|\?[^ !\'\"\),.\-\/:;\?\]\}]/.test(a.slice(b - 1, b + 1))
			} : Ad && !/Chrome\/(?:29|[3-9]\d|\d\d\d)\./.test(navigator.userAgent) && (hd = function(a, b) {
				if (b > 1 && 45 == a.charCodeAt(b - 1)) {
					if (/\w/.test(a.charAt(b - 2)) && /[^\-?\.]/.test(a.charAt(b))) return !0;
					if (b > 2 && /[\d\.,]/.test(a.charAt(b - 2)) && /[\d\.,]/.test(a.charAt(b))) return !1
				}
				return /[~!#%&*)=+}\]|\"\.>,:;][({[<]|-[^\-?\.\u2010-\u201f\u2026]|\?[\w~`@#$%\^&*(_=+{[|><]|\u2026[\w~`@#$%\^&*(_=+{[><]/.test(a.slice(b - 1, b + 1))
			});
			var Be, Ce, De = 3 != "\n\nb".split(/\n/).length ? function(a) {
				for (var b = 0, c = [], d = a.length; d >= b;) {
					var e = a.indexOf("\n", b); - 1 == e && (e = a.length);
					var f = a.slice(b, "\r" == a.charAt(e - 1) ? e - 1 : e),
						g = f.indexOf("\r"); - 1 != g ? (c.push(f.slice(0, g)), b += g + 1) : (c.push(f), b = e + 1)
				}
				return c
			} : function(a) {
				return a.split(/\r\n?|\n/)
			};
			a.splitLines = De;
			var Ee = window.getSelection ? function(a) {
					try {
						return a.selectionStart != a.selectionEnd
					} catch (b) {
						return !1
					}
				} : function(a) {
					try {
						var b = a.ownerDocument.selection.createRange()
					} catch (c) {}
					return b && b.parentElement() == a ? 0 != b.compareEndPoints("StartToEnd", b) : !1
				},
				Fe = function() {
					var a = cd("div");
					return "oncopy" in a ? !0 : (a.setAttribute("oncopy", "return;"), "function" == typeof a.oncopy)
				}(),
				Ge = {
					3: "Enter",
					8: "Backspace",
					9: "Tab",
					13: "Enter",
					16: "Shift",
					17: "Ctrl",
					18: "Alt",
					19: "Pause",
					20: "CapsLock",
					27: "Esc",
					32: "Space",
					33: "PageUp",
					34: "PageDown",
					35: "End",
					36: "Home",
					37: "Left",
					38: "Up",
					39: "Right",
					40: "Down",
					44: "PrintScrn",
					45: "Insert",
					46: "Delete",
					59: ";",
					91: "Mod",
					92: "Mod",
					93: "Mod",
					109: "-",
					107: "=",
					127: "Delete",
					186: ";",
					187: "=",
					188: ",",
					189: "-",
					190: ".",
					191: "/",
					192: "`",
					219: "[",
					220: "\\",
					221: "]",
					222: "'",
					63276: "PageUp",
					63277: "PageDown",
					63275: "End",
					63273: "Home",
					63234: "Left",
					63232: "Up",
					63235: "Right",
					63233: "Down",
					63302: "Insert",
					63272: "Delete"
				};
			a.keyNames = Ge,
				function() {
					for (var a = 0; 10 > a; a++) Ge[a + 48] = String(a);
					for (var a = 65; 90 >= a; a++) Ge[a] = String.fromCharCode(a);
					for (var a = 1; 12 >= a; a++) Ge[a + 111] = Ge[a + 63235] = "F" + a
				}();
			var He, Ie = function() {
				function a(a) {
					return 255 >= a ? b.charAt(a) : a >= 1424 && 1524 >= a ? "R" : a >= 1536 && 1791 >= a ? c.charAt(a - 1536) : a >= 1792 && 2220 >= a ? "r" : "L"
				}
				var b = "bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLL",
					c = "rrrrrrrrrrrr,rNNmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmrrrrrrrnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmNmmmmrrrrrrrrrrrrrrrrrr",
					d = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,
					e = /[stwN]/,
					f = /[LRr]/,
					g = /[Lb1n]/,
					h = /[1n]/,
					i = "L";
				return function(b) {
					if (!d.test(b)) return !1;
					for (var c, j = b.length, k = [], l = 0; j > l; ++l) k.push(c = a(b.charCodeAt(l)));
					for (var l = 0, m = i; j > l; ++l) {
						var c = k[l];
						"m" == c ? k[l] = m : m = c
					}
					for (var l = 0, n = i; j > l; ++l) {
						var c = k[l];
						"1" == c && "r" == n ? k[l] = "n" : f.test(c) && (n = c, "r" == c && (k[l] = "R"))
					}
					for (var l = 1, m = k[0]; j - 1 > l; ++l) {
						var c = k[l];
						"+" == c && "1" == m && "1" == k[l + 1] ? k[l] = "1" : "," != c || m != k[l + 1] || "1" != m && "n" != m || (k[l] = m), m = c
					}
					for (var l = 0; j > l; ++l) {
						var c = k[l];
						if ("," == c) k[l] = "N";
						else if ("%" == c) {
							for (var o = l + 1; j > o && "%" == k[o]; ++o);
							for (var p = l && "!" == k[l - 1] || j - 1 > o && "1" == k[o] ? "1" : "N", q = l; o > q; ++q) k[q] = p;
							l = o - 1
						}
					}
					for (var l = 0, n = i; j > l; ++l) {
						var c = k[l];
						"L" == n && "1" == c ? k[l] = "L" : f.test(c) && (n = c)
					}
					for (var l = 0; j > l; ++l)
						if (e.test(k[l])) {
							for (var o = l + 1; j > o && e.test(k[o]); ++o);
							for (var r = "L" == (l ? k[l - 1] : i), s = "L" == (j - 1 > o ? k[o] : i), p = r || s ? "L" : "R", q = l; o > q; ++q) k[q] = p;
							l = o - 1
						}
					for (var t, u = [], l = 0; j > l;)
						if (g.test(k[l])) {
							var v = l;
							for (++l; j > l && g.test(k[l]); ++l);
							u.push({
								from: v,
								to: l,
								level: 0
							})
						} else {
							var w = l,
								x = u.length;
							for (++l; j > l && "L" != k[l]; ++l);
							for (var q = w; l > q;)
								if (h.test(k[q])) {
									q > w && u.splice(x, 0, {
										from: w,
										to: q,
										level: 1
									});
									var y = q;
									for (++q; l > q && h.test(k[q]); ++q);
									u.splice(x, 0, {
										from: y,
										to: q,
										level: 2
									}), w = q
								} else ++q;
							l > w && u.splice(x, 0, {
								from: w,
								to: l,
								level: 1
							})
						}
					return 1 == u[0].level && (t = b.match(/^\s+/)) && (u[0].from = t[0].length, u.unshift({
						from: 0,
						to: t[0].length,
						level: 0
					})), 1 == Vc(u).level && (t = b.match(/\s+$/)) && (Vc(u).to -= t[0].length, u.push({
						from: j - t[0].length,
						to: j,
						level: 0
					})), u[0].level != Vc(u).level && u.push({
						from: j,
						to: j,
						level: u[0].level
					}), u
				}
			}();
			return a.version = "3.16.0", a
		}(), define("codemirror/codemirror", ["css!../components/codemirror/codemirror.css"], function(a) {
			return function() {
				var b;
				return b || a.CodeMirror
			}
		}(this)), define("tantaman/web/widgets/CodeEditor", ["libs/backbone", "codemirror/codemirror"], function(a, b) {
			return a.View.extend({
				className: "CodeEditor modal hide",
				events: {
					"click .ok": "saveCode",
					"click .cancel": "hide",
					hidden: "_hidden"
				},
				initialize: function() {
					this.template = JST["tantaman.web.widgets/CodeEditor"]
				},
				saveCode: function() {
					var a = this.mirror.getValue();
					this._saveCb(a)
				},
				show: function(a, c) {
					this._saveCb = a, this.$el.modal("show"), this.mirror || (this.mirror = b.fromTextArea(this.$input[0], {
						mode: this.options.mode
					})), c && this.mirror.setValue(c)
				},
				hide: function() {
					this.$el.modal("hide")
				},
				_hidden: function() {
					this.$input.val("")
				},
				render: function() {
					return this.$el.html(this.template(this.options)), this.$el.addClass(this.options["class"]), this.$input = this.$el.find(".codeInput"), this.$el.modal({
						show: !1
					}), this
				},
				constructor: function() {
					a.View.prototype.constructor.apply(this, arguments)
				}
			})
		}), define("tantaman/web/widgets/Button", ["libs/backbone"], function(a) {
			"use strict";
			return a.View.extend({
				className: "btn btn-plast",
				tagName: "a",
				events: {
					click: "_clicked"
				},
				initialize: function() {},
				_clicked: function() {
					this._disabled || this.options.cb()
				},
				render: function() {
					return this.$el.html('<i class="' + this.options.icon + ' icon-white"></i>' + this.options.name), this
				},
				disable: function() {
					this.$el.addClass("disabled"), this._disabled = !0
				},
				enable: function() {
					this._disabled = !1, this.$el.removeClass("disabled")
				},
				constructor: function() {
					a.View.prototype.constructor.apply(this, arguments)
				}
			})
		}), define("tantaman/web/css_manip/CssManip", [], function() {
			var a = /\.-?[_a-zA-Z]+[_a-zA-Z0-9-]*/g;
			return {
				createStyleElem: function(a) {
					var b = document.createElement("style");
					return b.type = "text/css", a.id && (b.id = a.id), b
				},
				getStyleElem: function(a) {
					var b = document.getElementById(a.id);
					return !b && a.create && (b = this.createStyleElem(a), this.appendStyleElem(b)), b
				},
				appendStyleElem: function(a) {
					document.getElementsByTagName("head")[0].appendChild(a)
				},
				extractClasses: function(b) {
					for (var c = b.rules || b.cssRules, d = {}, e = 0; e < c.length; ++e) {
						var f = c[e],
							g = f.selectorText.match(a);
						if (g)
							for (var h = 0; h < g.length; ++h) {
								var i = g[h].substring(1);
								d[i] = !0
							}
					}
					return d
				}
			}
		}),
		function(a, b) {
			"use strict";

			function c(a) {
				var b = Object.keys(a),
					c = [];
				return b.forEach(function(b) {
					if ("^" == b[0]) throw "rules with ^ as their first character are currently unsupported.";
					var d = {
						regex: new RegExp("^(" + b + ")"),
						action: a[b]
					};
					c.push(d)
				}), c
			}

			function d(a, b) {
				a || (a = {}), b || (b = {});
				var c = b.initial;
				if (c)
					for (var d in a) c[d] = a[d];
				else b.initial = a;
				return b
			}

			function e(a, b, f) {
				"string" == typeof a && (a = new e.StringStream(a)), this._stream = a, this._currString = "", this._state = "initial", b = d(b, f), this._rules = {};
				for (var g in b) this._rules[g] = c(b[g])
			}
			e.EOF = {
				toString: function() {
					return "eof"
				}
			}, e.IGNORE = {
				toString: function() {
					return "ignored"
				}
			}, e.NO_MATCH = {
				msg: "NO SUITABLE CONTINUOUS MATCH"
			}, e.StringStream = function(a) {
				this._string = a
			}, e.StringStream.prototype = {
				nextString: function() {
					var a = this._string;
					return this._string = b, a
				}
			}, e.prototype = {
				lex: function() {
					var a = this._getInput();
					if (!(a || "" != this._currString && this._currString)) return e.EOF;
					this._currString += a;
					for (var b, c, d = this._rules[this._state]; !b;) {
						for (var f = 0; f < d.length; ++f) {
							var g = d[f],
								h = g.regex.exec(this._currString);
							h && (!b || h[0].length > b[0].length) && (b = h, c = f)
						}
						if (!b) {
							var a = this._getInput(!0);
							if (!a) throw e.NO_MATCH;
							this._currString += a
						}
					}
					this._currString = this._currString.substring(b[0].length);
					var g = d[c];
					if ("function" == typeof g.action) {
						var i = g.action(b[0], this);
						return i === e.IGNORE ? this.lex() : i
					}
					if (g.action === e.IGNORE) {
						return this.lex()
					}
					return g.action
				},
				_getInput: function(a) {
					return !this._currString || "" == this._currString || a ? this._stream.nextString() : ""
				},
				state: function(a) {
					return a ? void(this._state = a) : this._state
				}
			}, "function" == typeof define ? define("lexed", [], function() {
				return e
			}) : a.Lexed = e
		}(this), define("strut/themes/StylesheetPreProcessor", ["lexed"], function(a) {
			var b = {
				initial: {
					"/\\*": function(a, b) {
						return b.state("comment"), a
					},
					"@[^\\n{]+": function(a) {
						return a
					},
					"\\s+": function(a) {
						return a
					},
					"{": function(a, b) {
						return b.state("ruleDefinition"), a
					},
					",": function(a) {
						return a
					},
					"[^{\\s\\/,@]+": function(a, b) {
						return b.state("ruleName"), {
							text: a
						}
					}
				},
				ruleName: {
					"{": function(a, b) {
						return b.state("ruleDefinition"), a
					},
					",": function(a, b) {
						return b.state("initial"), a
					},
					"[^{,]+": function(a) {
						return a
					}
				},
				comment: {
					"\\*/": function(a, b) {
						return b.state("initial"), a
					},
					"\\*": function(a) {
						return a
					},
					"[^*]": function(a) {
						return a
					}
				},
				ruleDefinition: {
					"/\\*": function(a, b) {
						return b.state("comment"), a
					},
					"{": function(a, b) {
						return console.log("inner rule"), b.state("innerRule"), a
					},
					"[^{}]": function(a) {
						return a
					},
					"}": function(a, b) {
						return console.log("initial"), b.state("initial"), a
					}
				},
				innerRule: {
					"/\\*": function(a, b) {
						return b.state("comment"), a
					},
					"[^}]": function(a) {
						return a
					},
					"}": function(a, b) {
						return b.state("ruleDefinition"), a
					}
				}
			};
			return {
				beforeSave: function(c) {
					for (var d = "", e = new a(c, null, b);
						(token = e.lex()) != a.EOF;) d += token.text ? ".strut-surface " + token.text : token;
					return d
				},
				beforeEdit: function(a) {
					return a ? a.replace(/.strut-surface /g, "") : ""
				}
			}
		}), CodeMirror.defineMode("css", function(a, b) {
			"use strict";

			function c(a, b) {
				return o = b, a
			}

			function d(a, b) {
				var d = a.next();
				if (h[d]) {
					var g = h[d](a, b);
					if (g !== !1) return g
				}
				if ("@" == d) return a.eatWhile(/[\w\\\-]/), c("def", a.current());
				if ("=" == d) c(null, "compare");
				else {
					if (("~" == d || "|" == d) && a.eat("=")) return c(null, "compare");
					if ('"' == d || "'" == d) return b.tokenize = e(d), b.tokenize(a, b);
					if ("#" == d) return a.eatWhile(/[\w\\\-]/), c("atom", "hash");
					if ("!" == d) return a.match(/^\s*\w*/), c("keyword", "important");
					if (/\d/.test(d)) return a.eatWhile(/[\w.%]/), c("number", "unit");
					if ("-" !== d) return /[,+>*\/]/.test(d) ? c(null, "select-op") : "." == d && a.match(/^-?[_a-z][_a-z0-9-]*/i) ? c("qualifier", "qualifier") : ":" == d ? c("operator", d) : /[;{}\[\]\(\)]/.test(d) ? c(null, d) : "u" == d && a.match("rl(") ? (a.backUp(1), b.tokenize = f, c("property", "variable")) : (a.eatWhile(/[\w\\\-]/), c("property", "variable"));
					if (/\d/.test(a.peek())) return a.eatWhile(/[\w.%]/), c("number", "unit");
					if (a.match(/^[^-]+-/)) return c("meta", "meta")
				}
			}

			function e(a, b) {
				return function(e, f) {
					for (var g, h = !1; null != (g = e.next()) && (g != a || h);) h = !h && "\\" == g;
					return h || (b && e.backUp(1), f.tokenize = d), c("string", "string")
				}
			}

			function f(a, b) {
				return a.next(), b.tokenize = a.match(/\s*[\"\']/, !1) ? d : e(")", !0), c(null, "(")
			}
			b.propertyKeywords || (b = CodeMirror.resolveMode("text/css"));
			var g = a.indentUnit,
				h = b.hooks || {},
				i = b.atMediaTypes || {},
				j = b.atMediaFeatures || {},
				k = b.propertyKeywords || {},
				l = b.colorKeywords || {},
				m = b.valueKeywords || {},
				n = !!b.allowNested,
				o = null;
			return {
				startState: function(a) {
					return {
						tokenize: d,
						baseIndent: a || 0,
						stack: [],
						lastToken: null
					}
				},
				token: function(a, b) {
					if (b.tokenize = b.tokenize || d, b.tokenize == d && a.eatSpace()) return null;
					var e = b.tokenize(a, b);
					e && "string" != typeof e && (e = c(e[0], e[1]));
					var f = b.stack[b.stack.length - 1];
					if ("variable" == e) return "variable-definition" == o && b.stack.push("propertyValue"), b.lastToken = "variable-2";
					if ("property" == e) {
						var g = a.current().toLowerCase();
						"propertyValue" == f ? e = m.hasOwnProperty(g) ? "string-2" : l.hasOwnProperty(g) ? "keyword" : "variable-2" : "rule" == f ? k.hasOwnProperty(g) || (e += " error") : "block" == f ? e = k.hasOwnProperty(g) ? "property" : l.hasOwnProperty(g) ? "keyword" : m.hasOwnProperty(g) ? "string-2" : "tag" : f && "@media{" != f ? "@media" == f ? e = i[a.current()] ? "attribute" : /^(only|not)$/.test(g) ? "keyword" : "and" == g ? "error" : j.hasOwnProperty(g) ? "error" : "attribute error" : "@mediaType" == f ? e = i.hasOwnProperty(g) ? "attribute" : "and" == g ? "operator" : (/^(only|not)$/.test(g),
							"error") : "@mediaType(" == f ? k.hasOwnProperty(g) || (i.hasOwnProperty(g) ? e = "error" : "and" == g ? e = "operator" : /^(only|not)$/.test(g) ? e = "error" : e += " error") : e = "@import" == f ? "tag" : "error" : e = "tag"
					} else "atom" == e ? f && "@media{" != f && "block" != f ? "propertyValue" == f ? /^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(a.current()) || (e += " error") : e = "error" : e = "builtin" : "@media" == f && "{" == o && (e = "error");
					if ("{" == o)
						if ("@media" == f || "@mediaType" == f) b.stack[b.stack.length - 1] = "@media{";
						else {
							var h = n ? "block" : "rule";
							b.stack.push(h)
						} else "}" == o ? ("interpolation" == f && (e = "operator"), b.stack.pop(), "propertyValue" == f && b.stack.pop()) : "interpolation" == o ? b.stack.push("interpolation") : "@media" == o ? b.stack.push("@media") : "@import" == o ? b.stack.push("@import") : "@media" == f && /\b(keyword|attribute)\b/.test(e) ? b.stack[b.stack.length - 1] = "@mediaType" : "@mediaType" == f && "," == a.current() ? b.stack[b.stack.length - 1] = "@media" : "(" == o ? "@media" == f || "@mediaType" == f ? (b.stack[b.stack.length - 1] = "@mediaType", b.stack.push("@mediaType(")) : b.stack.push("(") : ")" == o ? ("propertyValue" == f && b.stack.pop(), b.stack.pop()) : ":" == o && "property" == b.lastToken ? b.stack.push("propertyValue") : "propertyValue" == f && ";" == o ? b.stack.pop() : "@import" == f && ";" == o && b.stack.pop();
					return b.lastToken = e
				},
				indent: function(a, b) {
					var c = a.stack.length;
					return /^\}/.test(b) && (c -= "propertyValue" == a.stack[c - 1] ? 2 : 1), a.baseIndent + c * g
				},
				electricChars: "}",
				blockCommentStart: "/*",
				blockCommentEnd: "*/",
				fold: "brace"
			}
		}),
		function() {
			function a(a) {
				for (var b = {}, c = 0; c < a.length; ++c) b[a[c]] = !0;
				return b
			}

			function b(a, b) {
				for (var c, d = !1; null != (c = a.next());) {
					if (d && "/" == c) {
						b.tokenize = null;
						break
					}
					d = "*" == c
				}
				return ["comment", "comment"]
			}
			var c = a(["all", "aural", "braille", "handheld", "print", "projection", "screen", "tty", "tv", "embossed"]),
				d = a(["width", "min-width", "max-width", "height", "min-height", "max-height", "device-width", "min-device-width", "max-device-width", "device-height", "min-device-height", "max-device-height", "aspect-ratio", "min-aspect-ratio", "max-aspect-ratio", "device-aspect-ratio", "min-device-aspect-ratio", "max-device-aspect-ratio", "color", "min-color", "max-color", "color-index", "min-color-index", "max-color-index", "monochrome", "min-monochrome", "max-monochrome", "resolution", "min-resolution", "max-resolution", "scan", "grid"]),
				e = a(["align-content", "align-items", "align-self", "alignment-adjust", "alignment-baseline", "anchor-point", "animation", "animation-delay", "animation-direction", "animation-duration", "animation-iteration-count", "animation-name", "animation-play-state", "animation-timing-function", "appearance", "azimuth", "backface-visibility", "background", "background-attachment", "background-clip", "background-color", "background-image", "background-origin", "background-position", "background-repeat", "background-size", "baseline-shift", "binding", "bleed", "bookmark-label", "bookmark-level", "bookmark-state", "bookmark-target", "border", "border-bottom", "border-bottom-color", "border-bottom-left-radius", "border-bottom-right-radius", "border-bottom-style", "border-bottom-width", "border-collapse", "border-color", "border-image", "border-image-outset", "border-image-repeat", "border-image-slice", "border-image-source", "border-image-width", "border-left", "border-left-color", "border-left-style", "border-left-width", "border-radius", "border-right", "border-right-color", "border-right-style", "border-right-width", "border-spacing", "border-style", "border-top", "border-top-color", "border-top-left-radius", "border-top-right-radius", "border-top-style", "border-top-width", "border-width", "bottom", "box-decoration-break", "box-shadow", "box-sizing", "break-after", "break-before", "break-inside", "caption-side", "clear", "clip", "color", "color-profile", "column-count", "column-fill", "column-gap", "column-rule", "column-rule-color", "column-rule-style", "column-rule-width", "column-span", "column-width", "columns", "content", "counter-increment", "counter-reset", "crop", "cue", "cue-after", "cue-before", "cursor", "direction", "display", "dominant-baseline", "drop-initial-after-adjust", "drop-initial-after-align", "drop-initial-before-adjust", "drop-initial-before-align", "drop-initial-size", "drop-initial-value", "elevation", "empty-cells", "fit", "fit-position", "flex", "flex-basis", "flex-direction", "flex-flow", "flex-grow", "flex-shrink", "flex-wrap", "float", "float-offset", "flow-from", "flow-into", "font", "font-feature-settings", "font-family", "font-kerning", "font-language-override", "font-size", "font-size-adjust", "font-stretch", "font-style", "font-synthesis", "font-variant", "font-variant-alternates", "font-variant-caps", "font-variant-east-asian", "font-variant-ligatures", "font-variant-numeric", "font-variant-position", "font-weight", "grid-cell", "grid-column", "grid-column-align", "grid-column-sizing", "grid-column-span", "grid-columns", "grid-flow", "grid-row", "grid-row-align", "grid-row-sizing", "grid-row-span", "grid-rows", "grid-template", "hanging-punctuation", "height", "hyphens", "icon", "image-orientation", "image-rendering", "image-resolution", "inline-box-align", "justify-content", "left", "letter-spacing", "line-break", "line-height", "line-stacking", "line-stacking-ruby", "line-stacking-shift", "line-stacking-strategy", "list-style", "list-style-image", "list-style-position", "list-style-type", "margin", "margin-bottom", "margin-left", "margin-right", "margin-top", "marker-offset", "marks", "marquee-direction", "marquee-loop", "marquee-play-count", "marquee-speed", "marquee-style", "max-height", "max-width", "min-height", "min-width", "move-to", "nav-down", "nav-index", "nav-left", "nav-right", "nav-up", "opacity", "order", "orphans", "outline", "outline-color", "outline-offset", "outline-style", "outline-width", "overflow", "overflow-style", "overflow-wrap", "overflow-x", "overflow-y", "padding", "padding-bottom", "padding-left", "padding-right", "padding-top", "page", "page-break-after", "page-break-before", "page-break-inside", "page-policy", "pause", "pause-after", "pause-before", "perspective", "perspective-origin", "pitch", "pitch-range", "play-during", "position", "presentation-level", "punctuation-trim", "quotes", "region-break-after", "region-break-before", "region-break-inside", "region-fragment", "rendering-intent", "resize", "rest", "rest-after", "rest-before", "richness", "right", "rotation", "rotation-point", "ruby-align", "ruby-overhang", "ruby-position", "ruby-span", "shape-inside", "shape-outside", "size", "speak", "speak-as", "speak-header", "speak-numeral", "speak-punctuation", "speech-rate", "stress", "string-set", "tab-size", "table-layout", "target", "target-name", "target-new", "target-position", "text-align", "text-align-last", "text-decoration", "text-decoration-color", "text-decoration-line", "text-decoration-skip", "text-decoration-style", "text-emphasis", "text-emphasis-color", "text-emphasis-position", "text-emphasis-style", "text-height", "text-indent", "text-justify", "text-outline", "text-overflow", "text-shadow", "text-size-adjust", "text-space-collapse", "text-transform", "text-underline-position", "text-wrap", "top", "transform", "transform-origin", "transform-style", "transition", "transition-delay", "transition-duration", "transition-property", "transition-timing-function", "unicode-bidi", "vertical-align", "visibility", "voice-balance", "voice-duration", "voice-family", "voice-pitch", "voice-range", "voice-rate", "voice-stress", "voice-volume", "volume", "white-space", "widows", "width", "word-break", "word-spacing", "word-wrap", "z-index", "zoom", "clip-path", "clip-rule", "mask", "enable-background", "filter", "flood-color", "flood-opacity", "lighting-color", "stop-color", "stop-opacity", "pointer-events", "color-interpolation", "color-interpolation-filters", "color-profile", "color-rendering", "fill", "fill-opacity", "fill-rule", "image-rendering", "marker", "marker-end", "marker-mid", "marker-start", "shape-rendering", "stroke", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke-width", "text-rendering", "baseline-shift", "dominant-baseline", "glyph-orientation-horizontal", "glyph-orientation-vertical", "kerning", "text-anchor", "writing-mode"]),
				f = a(["aliceblue", "antiquewhite", "aqua", "aquamarine", "azure", "beige", "bisque", "black", "blanchedalmond", "blue", "blueviolet", "brown", "burlywood", "cadetblue", "chartreuse", "chocolate", "coral", "cornflowerblue", "cornsilk", "crimson", "cyan", "darkblue", "darkcyan", "darkgoldenrod", "darkgray", "darkgreen", "darkkhaki", "darkmagenta", "darkolivegreen", "darkorange", "darkorchid", "darkred", "darksalmon", "darkseagreen", "darkslateblue", "darkslategray", "darkturquoise", "darkviolet", "deeppink", "deepskyblue", "dimgray", "dodgerblue", "firebrick", "floralwhite", "forestgreen", "fuchsia", "gainsboro", "ghostwhite", "gold", "goldenrod", "gray", "grey", "green", "greenyellow", "honeydew", "hotpink", "indianred", "indigo", "ivory", "khaki", "lavender", "lavenderblush", "lawngreen", "lemonchiffon", "lightblue", "lightcoral", "lightcyan", "lightgoldenrodyellow", "lightgray", "lightgreen", "lightpink", "lightsalmon", "lightseagreen", "lightskyblue", "lightslategray", "lightsteelblue", "lightyellow", "lime", "limegreen", "linen", "magenta", "maroon", "mediumaquamarine", "mediumblue", "mediumorchid", "mediumpurple", "mediumseagreen", "mediumslateblue", "mediumspringgreen", "mediumturquoise", "mediumvioletred", "midnightblue", "mintcream", "mistyrose", "moccasin", "navajowhite", "navy", "oldlace", "olive", "olivedrab", "orange", "orangered", "orchid", "palegoldenrod", "palegreen", "paleturquoise", "palevioletred", "papayawhip", "peachpuff", "peru", "pink", "plum", "powderblue", "purple", "red", "rosybrown", "royalblue", "saddlebrown", "salmon", "sandybrown", "seagreen", "seashell", "sienna", "silver", "skyblue", "slateblue", "slategray", "snow", "springgreen", "steelblue", "tan", "teal", "thistle", "tomato", "turquoise", "violet", "wheat", "white", "whitesmoke", "yellow", "yellowgreen"]),
				g = a(["above", "absolute", "activeborder", "activecaption", "afar", "after-white-space", "ahead", "alias", "all", "all-scroll", "alternate", "always", "amharic", "amharic-abegede", "antialiased", "appworkspace", "arabic-indic", "armenian", "asterisks", "auto", "avoid", "avoid-column", "avoid-page", "avoid-region", "background", "backwards", "baseline", "below", "bidi-override", "binary", "bengali", "blink", "block", "block-axis", "bold", "bolder", "border", "border-box", "both", "bottom", "break", "break-all", "break-word", "button", "button-bevel", "buttonface", "buttonhighlight", "buttonshadow", "buttontext", "cambodian", "capitalize", "caps-lock-indicator", "caption", "captiontext", "caret", "cell", "center", "checkbox", "circle", "cjk-earthly-branch", "cjk-heavenly-stem", "cjk-ideographic", "clear", "clip", "close-quote", "col-resize", "collapse", "column", "compact", "condensed", "contain", "content", "content-box", "context-menu", "continuous", "copy", "cover", "crop", "cross", "crosshair", "currentcolor", "cursive", "dashed", "decimal", "decimal-leading-zero", "default", "default-button", "destination-atop", "destination-in", "destination-out", "destination-over", "devanagari", "disc", "discard", "document", "dot-dash", "dot-dot-dash", "dotted", "double", "down", "e-resize", "ease", "ease-in", "ease-in-out", "ease-out", "element", "ellipse", "ellipsis", "embed", "end", "ethiopic", "ethiopic-abegede", "ethiopic-abegede-am-et", "ethiopic-abegede-gez", "ethiopic-abegede-ti-er", "ethiopic-abegede-ti-et", "ethiopic-halehame-aa-er", "ethiopic-halehame-aa-et", "ethiopic-halehame-am-et", "ethiopic-halehame-gez", "ethiopic-halehame-om-et", "ethiopic-halehame-sid-et", "ethiopic-halehame-so-et", "ethiopic-halehame-ti-er", "ethiopic-halehame-ti-et", "ethiopic-halehame-tig", "ew-resize", "expanded", "extra-condensed", "extra-expanded", "fantasy", "fast", "fill", "fixed", "flat", "footnotes", "forwards", "from", "geometricPrecision", "georgian", "graytext", "groove", "gujarati", "gurmukhi", "hand", "hangul", "hangul-consonant", "hebrew", "help", "hidden", "hide", "higher", "highlight", "highlighttext", "hiragana", "hiragana-iroha", "horizontal", "hsl", "hsla", "icon", "ignore", "inactiveborder", "inactivecaption", "inactivecaptiontext", "infinite", "infobackground", "infotext", "inherit", "initial", "inline", "inline-axis", "inline-block", "inline-table", "inset", "inside", "intrinsic", "invert", "italic", "justify", "kannada", "katakana", "katakana-iroha", "keep-all", "khmer", "landscape", "lao", "large", "larger", "left", "level", "lighter", "line-through", "linear", "lines", "list-item", "listbox", "listitem", "local", "logical", "loud", "lower", "lower-alpha", "lower-armenian", "lower-greek", "lower-hexadecimal", "lower-latin", "lower-norwegian", "lower-roman", "lowercase", "ltr", "malayalam", "match", "media-controls-background", "media-current-time-display", "media-fullscreen-button", "media-mute-button", "media-play-button", "media-return-to-realtime-button", "media-rewind-button", "media-seek-back-button", "media-seek-forward-button", "media-slider", "media-sliderthumb", "media-time-remaining-display", "media-volume-slider", "media-volume-slider-container", "media-volume-sliderthumb", "medium", "menu", "menulist", "menulist-button", "menulist-text", "menulist-textfield", "menutext", "message-box", "middle", "min-intrinsic", "mix", "mongolian", "monospace", "move", "multiple", "myanmar", "n-resize", "narrower", "ne-resize", "nesw-resize", "no-close-quote", "no-drop", "no-open-quote", "no-repeat", "none", "normal", "not-allowed", "nowrap", "ns-resize", "nw-resize", "nwse-resize", "oblique", "octal", "open-quote", "optimizeLegibility", "optimizeSpeed", "oriya", "oromo", "outset", "outside", "outside-shape", "overlay", "overline", "padding", "padding-box", "painted", "page", "paused", "persian", "plus-darker", "plus-lighter", "pointer", "polygon", "portrait", "pre", "pre-line", "pre-wrap", "preserve-3d", "progress", "push-button", "radio", "read-only", "read-write", "read-write-plaintext-only", "rectangle", "region", "relative", "repeat", "repeat-x", "repeat-y", "reset", "reverse", "rgb", "rgba", "ridge", "right", "round", "row-resize", "rtl", "run-in", "running", "s-resize", "sans-serif", "scroll", "scrollbar", "se-resize", "searchfield", "searchfield-cancel-button", "searchfield-decoration", "searchfield-results-button", "searchfield-results-decoration", "semi-condensed", "semi-expanded", "separate", "serif", "show", "sidama", "single", "skip-white-space", "slide", "slider-horizontal", "slider-vertical", "sliderthumb-horizontal", "sliderthumb-vertical", "slow", "small", "small-caps", "small-caption", "smaller", "solid", "somali", "source-atop", "source-in", "source-out", "source-over", "space", "square", "square-button", "start", "static", "status-bar", "stretch", "stroke", "sub", "subpixel-antialiased", "super", "sw-resize", "table", "table-caption", "table-cell", "table-column", "table-column-group", "table-footer-group", "table-header-group", "table-row", "table-row-group", "telugu", "text", "text-bottom", "text-top", "textarea", "textfield", "thai", "thick", "thin", "threeddarkshadow", "threedface", "threedhighlight", "threedlightshadow", "threedshadow", "tibetan", "tigre", "tigrinya-er", "tigrinya-er-abegede", "tigrinya-et", "tigrinya-et-abegede", "to", "top", "transparent", "ultra-condensed", "ultra-expanded", "underline", "up", "upper-alpha", "upper-armenian", "upper-greek", "upper-hexadecimal", "upper-latin", "upper-norwegian", "upper-roman", "uppercase", "urdu", "url", "vertical", "vertical-text", "visible", "visibleFill", "visiblePainted", "visibleStroke", "visual", "w-resize", "wait", "wave", "wider", "window", "windowframe", "windowtext", "x-large", "x-small", "xor", "xx-large", "xx-small"]);
			CodeMirror.defineMIME("text/css", {
				atMediaTypes: c,
				atMediaFeatures: d,
				propertyKeywords: e,
				colorKeywords: f,
				valueKeywords: g,
				hooks: {
					"<": function(a, b) {
						function c(a, b) {
							for (var c, d = 0; null != (c = a.next());) {
								if (d >= 2 && ">" == c) {
									b.tokenize = null;
									break
								}
								d = "-" == c ? d + 1 : 0
							}
							return ["comment", "comment"]
						}
						return a.eat("!") ? (b.tokenize = c, c(a, b)) : void 0
					},
					"/": function(a, c) {
						return a.eat("*") ? (c.tokenize = b, b(a, c)) : !1
					}
				},
				name: "css"
			}), CodeMirror.defineMIME("text/x-scss", {
				atMediaTypes: c,
				atMediaFeatures: d,
				propertyKeywords: e,
				colorKeywords: f,
				valueKeywords: g,
				allowNested: !0,
				hooks: {
					":": function(a) {
						return a.match(/\s*{/) ? [null, "{"] : !1
					},
					$: function(a) {
						return a.match(/^[\w-]+/), ":" == a.peek() ? ["variable", "variable-definition"] : ["variable", "variable"]
					},
					"/": function(a, c) {
						return a.eat("/") ? (a.skipToEnd(), ["comment", "comment"]) : a.eat("*") ? (c.tokenize = b, b(a, c)) : ["operator", "operator"]
					},
					"#": function(a) {
						return a.eat("{") ? ["operator", "interpolation"] : (a.eatWhile(/[\w\\\-]/), ["atom", "hash"])
					}
				},
				name: "css"
			})
		}(), define("codemirror/modes/css", ["codemirror/codemirror"], function() {}), define("strut/themes/StylesheetProvider", ["tantaman/web/widgets/CodeEditor", "tantaman/web/widgets/Button", "tantaman/web/css_manip/CssManip", "css!styles/strut.themes/stylesheetEditor.css", "./StylesheetPreProcessor", "codemirror/modes/css"], function(a, b, c, d, e) {
			function f(a) {
				this._cssEditor = g, this._editorModel = a, i.innerHTML = a.customStylesheet(), a.deck().on("change:customStylesheet", this._editorSheetChanged, this), this._button = new b({
					icon: "icon-edit",
					cb: this._launch.bind(this),
					name: "CSS"
				}), this._button.$el.addClass("iconBtns btn-grouped"), this._cssSaved = this._cssSaved.bind(this), j || (j = !0)
			}
			var g = new a({
					"class": "stylesheetEditor",
					title: "Edit CSS",
					placeholder: "/*.example {\n	border: 4px groove orange;\n}*/",
					mode: "css"
				}),
				h = "userStylesheet",
				i = c.getStyleElem({
					id: h,
					create: !0
				}),
				j = !1;
			return $("#modals").append(g.render().$el), f.prototype = {
				view: function() {
					return this._button
				},
				_launch: function() {
					var a = this._editorModel.customStylesheet();
					this._cssEditor.show(this._cssSaved, e.beforeEdit(a))
				},
				_cssSaved: function(a) {
					a = e.beforeSave(a), i.innerHTML = a, this._editorModel.customStylesheet(a), this._cssEditor.hide()
				},
				_editorSheetChanged: function(a, b) {
					i.innerHTML = b
				},
				dispose: function() {
					this._editorModel.deck().off(null, null, this)
				}
			}, f
		}), define("tantaman/web/widgets/PopoverTextbox", ["libs/backbone"], function(a) {
			return a.View.extend({
				events: {
					"click .ok": "_save",
					"click .cancel": "hide",
					click: "_stopProp",
					mousedown: "_stopProp"
				},
				className: "popover",
				initialize: function() {
					this.hide = this.hide.bind(this), this.template = JST["tantaman.web.widgets/PopoverTextbox"]
				},
				show: function(a, b, c) {
					console.log("Showing popover"), this._cb = b, this.$el.css(a), this.$el.css("display", "block"), this.$input.val(c), this.$input.focus()
				},
				hide: function() {
					this.$el.css("display", ""), this.$input.val("")
				},
				_save: function(a) {
					a.stopPropagation(), this._cb(this.$input.val())
				},
				_stopProp: function(a) {
					a.stopPropagation()
				},
				render: function() {
					return this.$el.html(this.template(this.options)), this.$input = this.$el.find("input"), this
				},
				remove: function() {
					a.View.prototype.remove.apply(this, arguments)
				},
				constructor: function() {
					a.View.prototype.constructor.apply(this, arguments)
				}
			})
		}), define("strut/themes/ClassEditor", ["tantaman/web/widgets/Button", "tantaman/web/widgets/PopoverTextbox"], function(a, b) {
			function c(c) {
				this._button = new a({
					icon: "icon-plus",
					cb: this._launch.bind(this),
					name: "Class"
				}), this._appended = !1, this._button.$el.addClass("iconBtns btn-grouped"), this._button.disable(), this._deck = c.deck(), this._popover = new b({
					title: "Classes: "
				}), this._popover.render();
				var d = this._deck.get("activeSlide");
				d && this._activeSlideChanged(this._deck, d), this._deck.on("change:activeSlide", this._activeSlideChanged, this), this._classesSaved = this._classesSaved.bind(this)
			}
			return c.prototype = {
				view: function() {
					return this._button
				},
				_activeSlideChanged: function(a, b) {
					this._activeSlide && this._activeSlide.off(null, null, this), this._activeSlide = b, this._activeSlide && (this._activeSlide.on("change:activeComponent", this._activeComponentsChanged, this), this._activeComponentsChanged(b))
				},
				_activeComponentsChanged: function() {
					this._activeComponents = this._activeSlide.selected, this._activeComponents.length ? this._button.enable() : this._button.disable(), this._popover.hide()
				},
				_launch: function() {
					if (!this._appended) {
						var a = $(".slideContainer");
						a.append(this._popover.$el), this._appended = !0
					}
					this._activeComponents.length ? this._popover.show({
						left: this._activeComponents[0].get("x"),
						top: this._activeComponents[0].get("y")
					}, this._classesSaved, this._activeComponents[0].customClasses()) : alert("Please, select some component first.")
				},
				_classesSaved: function(a) {
					this._activeComponents.forEach(function(b) {
						b.customClasses(a)
					}), this._popover.hide()
				},
				dispose: function() {
					this._activeSlide && this._activeSlide.off(null, null, this), this._deck.off(null, null, this), this._popover.remove()
				}
			}, c
		}), define("strut/themes/main", ["./BackgroundProvider", "./AvailableBackgrounds", "./AvailableSurfaces", "./StylesheetProvider", "./ClassEditor"], function(a, b, c, d, e) {
			"use strict";
			var f = {
					create: function(c) {
						return new a({
							backgrounds: b,
							editorModel: c,
							selector: ".operatingTable .slideContainer",
							attr: "Background",
							template: JST["strut.themes/BackgroundChooserDropdown"]
						})
					}
				},
				g = {
					create: function(b) {
						return new a({
							backgrounds: c,
							editorModel: b,
							selector: ".strut-surface",
							attr: "Surface",
							template: JST["strut.themes/SurfaceChooserDropdown"]
						})
					}
				},
				h = {
					create: function(a) {
						return new d(a)
					}
				},
				i = {
					create: function(a) {
						return new e(a)
					}
				};
			return {
				initialize: function(a) {
					a.register({
						interfaces: "strut.ThemeProvider",
						meta: {
							modes: {
								"slide-editor": !0,
								overview: !0
							},
							overflow: !1
						}
					}, f), a.register({
						interfaces: "strut.ThemeProvider",
						meta: {
							modes: {
								"slide-editor": !0,
								overview: !0
							},
							overflow: !1
						}
					}, g), a.register({
						interfaces: "strut.ThemeProvider",
						meta: {
							modes: {
								overview: !0,
								"slide-editor": !0
							},
							overflow: !0
						}
					}, h), a.register({
						interfaces: "strut.ThemeProvider",
						meta: {
							modes: {
								overview: !0,
								"slide-editor": !0
							},
							overflow: !0
						}
					}, i)
				}
			}
		}),
		function() {
			function a(a, b, c) {
				return a.addEventListener ? void a.addEventListener(b, c, !1) : void a.attachEvent("on" + b, c)
			}

			function b(a) {
				if ("keypress" == a.type) {
					var b = String.fromCharCode(a.which);
					return a.shiftKey || (b = b.toLowerCase()), b
				}
				return s[a.which] ? s[a.which] : t[a.which] ? t[a.which] : String.fromCharCode(a.which).toLowerCase()
			}

			function c(a, b) {
				return a.sort().join(",") === b.sort().join(",")
			}

			function d(a, b) {
				a = a || {};
				var c, d = !1;
				for (c in y) a[c] && y[c] > b ? d = !0 : y[c] = 0;
				d || (A = !1)
			}

			function e(a, b, d, e, f) {
				var g, h, i = [],
					k = d.type;
				if (!w[a]) return [];
				for ("keyup" == k && j(a) && (b = [a]), g = 0; g < w[a].length; ++g) h = w[a][g], h.seq && y[h.seq] != h.level || k == h.action && ("keypress" == k && !d.metaKey && !d.ctrlKey || c(b, h.modifiers)) && (e && h.combo == f && w[a].splice(g, 1), i.push(h));
				return i
			}

			function f(a) {
				var b = [];
				return a.shiftKey && b.push("shift"), a.altKey && b.push("alt"), a.ctrlKey && b.push("ctrl"), a.metaKey && b.push("meta"), b
			}

			function g(a, b, c) {
				C.stopCallback(b, b.target || b.srcElement, c) || a(b, c) === !1 && (b.preventDefault && b.preventDefault(), b.stopPropagation && b.stopPropagation(), b.returnValue = !1, b.cancelBubble = !0)
			}

			function h(a, b, c) {
				var f, h = e(a, b, c),
					i = {},
					k = 0,
					l = !1;
				for (f = 0; f < h.length; ++f) h[f].seq ? (l = !0, k = Math.max(k, h[f].level), i[h[f].seq] = 1, g(h[f].callback, c, h[f].combo)) : l || A || g(h[f].callback, c, h[f].combo);
				c.type != A || j(a) || d(i, k)
			}

			function i(a) {
				"number" != typeof a.which && (a.which = a.keyCode);
				var c = b(a);
				if (c) {
					if ("keyup" == a.type && z == c) return void(z = !1);
					"keydown" == a.type ? C.pressed[c] = !0 : "keyup" == a.type && delete C.pressed[c], C.handleKey(c, f(a), a)
				}
			}

			function j(a) {
				return "shift" == a || "ctrl" == a || "alt" == a || "meta" == a
			}

			function k() {
				clearTimeout(r), r = setTimeout(d, 1e3)
			}

			function l() {
				if (!q) {
					q = {};
					for (var a in s) a > 95 && 112 > a || s.hasOwnProperty(a) && (q[s[a]] = a)
				}
				return q
			}

			function m(a, b, c) {
				return c || (c = l()[a] ? "keydown" : "keypress"), "keypress" == c && b.length && (c = "keydown"), c
			}

			function n(a, c, e, f) {
				y[a] = 0, f || (f = m(c[0], []));
				var h, i = function() {
						A = f, ++y[a], k()
					},
					j = function(c) {
						g(e, c, a), "keyup" !== f && (z = b(c)), setTimeout(d, 10)
					};
				for (h = 0; h < c.length; ++h) o(c[h], h < c.length - 1 ? i : j, f, a, h)
			}

			function o(a, b, c, d, f) {
				x[a + ":" + c] = b, a = a.replace(/\s+/g, " ");
				var g, h, i, k = a.split(" "),
					l = [];
				if (k.length > 1) return void n(a, k, b, c);
				for (i = "+" === a ? ["+"] : a.split("+"), g = 0; g < i.length; ++g) h = i[g], v[h] && (h = v[h]), c && "keypress" != c && u[h] && (h = u[h], l.push("shift")), j(h) && l.push(h);
				c = m(h, l, c), w[h] || (w[h] = []), e(h, l, {
					type: c
				}, !d, a), w[h][d ? "unshift" : "push"]({
					callback: b,
					modifiers: l,
					action: c,
					seq: d,
					level: f,
					combo: a
				})
			}

			function p(a, b, c) {
				for (var d = 0; d < a.length; ++d) o(a[d], b, c)
			}
			for (var q, r, s = {
					8: "backspace",
					9: "tab",
					13: "enter",
					16: "shift",
					17: "ctrl",
					18: "alt",
					20: "capslock",
					27: "esc",
					32: "space",
					33: "pageup",
					34: "pagedown",
					35: "end",
					36: "home",
					37: "left",
					38: "up",
					39: "right",
					40: "down",
					45: "ins",
					46: "del",
					91: "meta",
					93: "meta",
					224: "meta"
				}, t = {
					106: "*",
					107: "+",
					109: "-",
					110: ".",
					111: "/",
					186: ";",
					187: "=",
					188: ",",
					189: "-",
					190: ".",
					191: "/",
					192: "`",
					219: "[",
					220: "\\",
					221: "]",
					222: "'"
				}, u = {
					"~": "`",
					"!": "1",
					"@": "2",
					"#": "3",
					$: "4",
					"%": "5",
					"^": "6",
					"&": "7",
					"*": "8",
					"(": "9",
					")": "0",
					_: "-",
					"+": "=",
					":": ";",
					'"': "'",
					"<": ",",
					">": ".",
					"?": "/",
					"|": "\\"
				}, v = {
					option: "alt",
					command: "meta",
					"return": "enter",
					escape: "esc"
				}, w = {}, x = {}, y = {}, z = !1, A = !1, B = 1; 20 > B; ++B) s[111 + B] = "f" + B;
			for (B = 0; 9 >= B; ++B) s[B + 96] = B;
			a(document, "keypress", i), a(document, "keydown", i), a(document, "keyup", i);
			var C = {
				bind: function(a, b, c) {
					return a = a instanceof Array ? a : [a], p(a, b, c), this
				},
				unbind: function(a, b) {
					return C.bind(a, function() {}, b)
				},
				trigger: function(a, b) {
					return x[a + ":" + b] && x[a + ":" + b]({}, a), this
				},
				reset: function() {
					return w = {}, x = {}, this
				},
				stopCallback: function(a, b) {
					return (" " + b.className + " ").indexOf(" mousetrap ") > -1 ? !1 : "INPUT" == b.tagName || "SELECT" == b.tagName || "TEXTAREA" == b.tagName || b.contentEditable && "true" == b.contentEditable
				},
				handleKey: h,
				pressed: {}
			};
			window.Mousetrap = C, "function" == typeof define && define.amd && define("libs/mousetrap", C)
		}(), define("strut/editor/GlobalEvents", ["libs/mousetrap", "libs/backbone"], function(a, b) {
			"use strict";
			var c = _.extend({
				pressed: a.pressed
			}, b.Events);
			return a.bind(["ctrl+x", "command+x"], function(a) {
				c.trigger("cut", a)
			}), a.bind(["ctrl+c", "command+c"], function(a) {
				c.trigger("copy", a)
			}), a.bind(["ctrl+v", "command+v"], function(a) {
				c.trigger("paste", a)
			}), a.bind(["del", "command+backspace"], function(a) {
				c.trigger("delete", a)
			}), a.bind(["ctrl+z", "command+z"], function(a) {
				c.trigger("undo", a)
			}), a.bind(["ctrl+y", "command+y"], function(a) {
				c.trigger("redo", a)
			}), $(window).blur(function() {
				var a = Object.keys(c.pressed);
				a.forEach(function(a) {
					delete c.pressed[a]
				})
			}), c
		}), define("strut/editor/main", ["./GlobalEvents", "lang"], function(a, b) {
			"use strict";
			return {
				initialize: function(c) {
					var d;
					d = -1 != navigator.appVersion.indexOf("Mac") ? [
						["undo", "\u2318+Z"],
						["redo", "\u2318+Y"],
						["cut", "\u2318+X"],
						["copy", "\u2318+C"],
						["paste", "\u2318+V"],
						["delete", "\u2318+\u232b"]
					] : [
						["undo", "Ctrl+Z"],
						["redo", "Ctrl+Y"],
						["cut", "Ctrl+X"],
						["copy", "Ctrl+C"],
						["paste", "Ctrl+V"],
						["delete", "Del"]
					], d.forEach(function(d) {
						c.register({
							interfaces: "strut.editor.glob.action",
							meta: {
								title: b[d[0]],
								action: d[0],
								hotkey: d[1]
							}
						}, function() {
							a.trigger(d[0])
						})
					})
				}
			}
		}), ! function(a) {
			if ("object" == typeof exports && "undefined" != typeof module) module.exports = a();
			else if ("function" == typeof define && define.amd) define("libs/jszip", [], a);
			else {
				var b;
				"undefined" != typeof window ? b = window : "undefined" != typeof global ? b = global : "undefined" != typeof self && (b = self), b.JSZip = a()
			}
		}(function() {
			return function a(b, c, d) {
				function e(g, h) {
					if (!c[g]) {
						if (!b[g]) {
							var i = "function" == typeof require && require;
							if (!h && i) return i(g, !0);
							if (f) return f(g, !0);
							throw new Error("Cannot find module '" + g + "'")
						}
						var j = c[g] = {
							exports: {}
						};
						b[g][0].call(j.exports, function(a) {
							var c = b[g][1][a];
							return e(c ? c : a)
						}, j, j.exports, a, b, c, d)
					}
					return c[g].exports
				}
				for (var f = "function" == typeof require && require, g = 0; g < d.length; g++) e(d[g]);
				return e
			}({
				1: [function(a, b, c) {
					"use strict";
					var d = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";
					c.encode = function(a) {
						for (var b, c, e, f, g, h, i, j = "", k = 0; k < a.length;) b = a.charCodeAt(k++), c = a.charCodeAt(k++), e = a.charCodeAt(k++), f = b >> 2, g = (3 & b) << 4 | c >> 4, h = (15 & c) << 2 | e >> 6, i = 63 & e, isNaN(c) ? h = i = 64 : isNaN(e) && (i = 64), j = j + d.charAt(f) + d.charAt(g) + d.charAt(h) + d.charAt(i);
						return j
					}, c.decode = function(a) {
						var b, c, e, f, g, h, i, j = "",
							k = 0;
						for (a = a.replace(/[^A-Za-z0-9\+\/\=]/g, ""); k < a.length;) f = d.indexOf(a.charAt(k++)), g = d.indexOf(a.charAt(k++)), h = d.indexOf(a.charAt(k++)), i = d.indexOf(a.charAt(k++)), b = f << 2 | g >> 4, c = (15 & g) << 4 | h >> 2, e = (3 & h) << 6 | i, j += String.fromCharCode(b), 64 != h && (j += String.fromCharCode(c)), 64 != i && (j += String.fromCharCode(e));
						return j
					}
				}, {}],
				2: [function(a, b) {
					"use strict";

					function c() {
						this.compressedSize = 0, this.uncompressedSize = 0, this.crc32 = 0, this.compressionMethod = null, this.compressedContent = null
					}
					c.prototype = {
						getContent: function() {
							return null
						},
						getCompressedContent: function() {
							return null
						}
					}, b.exports = c
				}, {}],
				3: [function(a, b, c) {
					"use strict";
					c.STORE = {
						magic: "\x00\x00",
						compress: function(a) {
							return a
						},
						uncompress: function(a) {
							return a
						},
						compressInputType: null,
						uncompressInputType: null
					}, c.DEFLATE = a("./flate")
				}, {
					"./flate": 8
				}],
				4: [function(a, b) {
					"use strict";
					var c = a("./utils"),
						d = [0, 1996959894, 3993919788, 2567524794, 124634137, 1886057615, 3915621685, 2657392035, 249268274, 2044508324, 3772115230, 2547177864, 162941995, 2125561021, 3887607047, 2428444049, 498536548, 1789927666, 4089016648, 2227061214, 450548861, 1843258603, 4107580753, 2211677639, 325883990, 1684777152, 4251122042, 2321926636, 335633487, 1661365465, 4195302755, 2366115317, 997073096, 1281953886, 3579855332, 2724688242, 1006888145, 1258607687, 3524101629, 2768942443, 901097722, 1119000684, 3686517206, 2898065728, 853044451, 1172266101, 3705015759, 2882616665, 651767980, 1373503546, 3369554304, 3218104598, 565507253, 1454621731, 3485111705, 3099436303, 671266974, 1594198024, 3322730930, 2970347812, 795835527, 1483230225, 3244367275, 3060149565, 1994146192, 31158534, 2563907772, 4023717930, 1907459465, 112637215, 2680153253, 3904427059, 2013776290, 251722036, 2517215374, 3775830040, 2137656763, 141376813, 2439277719, 3865271297, 1802195444, 476864866, 2238001368, 4066508878, 1812370925, 453092731, 2181625025, 4111451223, 1706088902, 314042704, 2344532202, 4240017532, 1658658271, 366619977, 2362670323, 4224994405, 1303535960, 984961486, 2747007092, 3569037538, 1256170817, 1037604311, 2765210733, 3554079995, 1131014506, 879679996, 2909243462, 3663771856, 1141124467, 855842277, 2852801631, 3708648649, 1342533948, 654459306, 3188396048, 3373015174, 1466479909, 544179635, 3110523913, 3462522015, 1591671054, 702138776, 2966460450, 3352799412, 1504918807, 783551873, 3082640443, 3233442989, 3988292384, 2596254646, 62317068, 1957810842, 3939845945, 2647816111, 81470997, 1943803523, 3814918930, 2489596804, 225274430, 2053790376, 3826175755, 2466906013, 167816743, 2097651377, 4027552580, 2265490386, 503444072, 1762050814, 4150417245, 2154129355, 426522225, 1852507879, 4275313526, 2312317920, 282753626, 1742555852, 4189708143, 2394877945, 397917763, 1622183637, 3604390888, 2714866558, 953729732, 1340076626, 3518719985, 2797360999, 1068828381, 1219638859, 3624741850, 2936675148, 906185462, 1090812512, 3747672003, 2825379669, 829329135, 1181335161, 3412177804, 3160834842, 628085408, 1382605366, 3423369109, 3138078467, 570562233, 1426400815, 3317316542, 2998733608, 733239954, 1555261956, 3268935591, 3050360625, 752459403, 1541320221, 2607071920, 3965973030, 1969922972, 40735498, 2617837225, 3943577151, 1913087877, 83908371, 2512341634, 3803740692, 2075208622, 213261112, 2463272603, 3855990285, 2094854071, 198958881, 2262029012, 4057260610, 1759359992, 534414190, 2176718541, 4139329115, 1873836001, 414664567, 2282248934, 4279200368, 1711684554, 285281116, 2405801727, 4167216745, 1634467795, 376229701, 2685067896, 3608007406, 1308918612, 956543938, 2808555105, 3495958263, 1231636301, 1047427035, 2932959818, 3654703836, 1088359270, 936918e3, 2847714899, 3736837829, 1202900863, 817233897, 3183342108, 3401237130, 1404277552, 615818150, 3134207493, 3453421203, 1423857449, 601450431, 3009837614, 3294710456, 1567103746, 711928724, 3020668471, 3272380065, 1510334235, 755167117];
					b.exports = function(a, b) {
						if ("undefined" == typeof a || !a.length) return 0;
						var e = "string" !== c.getTypeOf(a);
						"undefined" == typeof b && (b = 0);
						var f = 0,
							g = 0,
							h = 0;
						b = -1 ^ b;
						for (var i = 0, j = a.length; j > i; i++) h = e ? a[i] : a.charCodeAt(i), g = 255 & (b ^ h), f = d[g], b = b >>> 8 ^ f;
						return -1 ^ b
					}
				}, {
					"./utils": 21
				}],
				5: [function(a, b) {
					"use strict";

					function c() {
						this.data = null, this.length = 0, this.index = 0
					}
					var d = a("./utils");
					c.prototype = {
						checkOffset: function(a) {
							this.checkIndex(this.index + a)
						},
						checkIndex: function(a) {
							if (this.length < a || 0 > a) throw new Error("End of data reached (data length = " + this.length + ", asked index = " + a + "). Corrupted zip ?")
						},
						setIndex: function(a) {
							this.checkIndex(a), this.index = a
						},
						skip: function(a) {
							this.setIndex(this.index + a)
						},
						byteAt: function() {},
						readInt: function(a) {
							var b, c = 0;
							for (this.checkOffset(a), b = this.index + a - 1; b >= this.index; b--) c = (c << 8) + this.byteAt(b);
							return this.index += a, c
						},
						readString: function(a) {
							return d.transformTo("string", this.readData(a))
						},
						readData: function() {},
						lastIndexOfSignature: function() {},
						readDate: function() {
							var a = this.readInt(4);
							return new Date((a >> 25 & 127) + 1980, (a >> 21 & 15) - 1, a >> 16 & 31, a >> 11 & 31, a >> 5 & 63, (31 & a) << 1)
						}
					}, b.exports = c
				}, {
					"./utils": 21
				}],
				6: [function(a, b, c) {
					"use strict";
					c.base64 = !1, c.binary = !1, c.dir = !1, c.createFolders = !1, c.date = null, c.compression = null, c.comment = null
				}, {}],
				7: [function(a, b, c) {
					"use strict";
					var d = a("./utils");
					c.string2binary = function(a) {
						return d.string2binary(a)
					}, c.string2Uint8Array = function(a) {
						return d.transformTo("uint8array", a)
					}, c.uint8Array2String = function(a) {
						return d.transformTo("string", a)
					}, c.string2Blob = function(a) {
						var b = d.transformTo("arraybuffer", a);

						return d.arrayBuffer2Blob(b)
					}, c.arrayBuffer2Blob = function(a) {
						return d.arrayBuffer2Blob(a)
					}, c.transformTo = function(a, b) {
						return d.transformTo(a, b)
					}, c.getTypeOf = function(a) {
						return d.getTypeOf(a)
					}, c.checkSupport = function(a) {
						return d.checkSupport(a)
					}, c.MAX_VALUE_16BITS = d.MAX_VALUE_16BITS, c.MAX_VALUE_32BITS = d.MAX_VALUE_32BITS, c.pretty = function(a) {
						return d.pretty(a)
					}, c.findCompression = function(a) {
						return d.findCompression(a)
					}, c.isRegExp = function(a) {
						return d.isRegExp(a)
					}
				}, {
					"./utils": 21
				}],
				8: [function(a, b, c) {
					"use strict";
					var d = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Uint32Array,
						e = a("pako");
					c.uncompressInputType = d ? "uint8array" : "array", c.compressInputType = d ? "uint8array" : "array", c.magic = "\b\x00", c.compress = function(a) {
						return e.deflateRaw(a)
					}, c.uncompress = function(a) {
						return e.inflateRaw(a)
					}
				}, {
					pako: 24
				}],
				9: [function(a, b) {
					"use strict";

					function c(a, b) {
						return this instanceof c ? (this.files = {}, this.comment = null, this.root = "", a && this.load(a, b), void(this.clone = function() {
							var a = new c;
							for (var b in this) "function" != typeof this[b] && (a[b] = this[b]);
							return a
						})) : new c(a, b)
					}
					var d = a("./base64");
					c.prototype = a("./object"), c.prototype.load = a("./load"), c.support = a("./support"), c.defaults = a("./defaults"), c.utils = a("./deprecatedPublicUtils"), c.base64 = {
						encode: function(a) {
							return d.encode(a)
						},
						decode: function(a) {
							return d.decode(a)
						}
					}, c.compressions = a("./compressions"), b.exports = c
				}, {
					"./base64": 1,
					"./compressions": 3,
					"./defaults": 6,
					"./deprecatedPublicUtils": 7,
					"./load": 10,
					"./object": 13,
					"./support": 17
				}],
				10: [function(a, b) {
					"use strict";
					var c = a("./base64"),
						d = a("./zipEntries");
					b.exports = function(a, b) {
						var e, f, g, h;
						for (b = b || {}, b.base64 && (a = c.decode(a)), f = new d(a, b), e = f.files, g = 0; g < e.length; g++) h = e[g], this.file(h.fileName, h.decompressed, {
							binary: !0,
							optimizedBinaryString: !0,
							date: h.date,
							dir: h.dir,
							comment: h.fileComment.length ? h.fileComment : null,
							createFolders: b.createFolders
						});
						return f.zipComment.length && (this.comment = f.zipComment), this
					}
				}, {
					"./base64": 1,
					"./zipEntries": 22
				}],
				11: [function(a, b) {
					(function(a) {
						"use strict";
						b.exports = function(b, c) {
							return new a(b, c)
						}, b.exports.test = function(b) {
							return a.isBuffer(b)
						}
					}).call(this, "undefined" != typeof Buffer ? Buffer : void 0)
				}, {}],
				12: [function(a, b) {
					"use strict";

					function c(a) {
						this.data = a, this.length = this.data.length, this.index = 0
					}
					var d = a("./uint8ArrayReader");
					c.prototype = new d, c.prototype.readData = function(a) {
						this.checkOffset(a);
						var b = this.data.slice(this.index, this.index + a);
						return this.index += a, b
					}, b.exports = c
				}, {
					"./uint8ArrayReader": 18
				}],
				13: [function(a, b) {
					"use strict";
					var c = a("./support"),
						d = a("./utils"),
						e = a("./crc32"),
						f = a("./signature"),
						g = a("./defaults"),
						h = a("./base64"),
						i = a("./compressions"),
						j = a("./compressedObject"),
						k = a("./nodeBuffer"),
						l = a("./utf8"),
						m = a("./stringWriter"),
						n = a("./uint8ArrayWriter"),
						o = function(a) {
							if (a._data instanceof j && (a._data = a._data.getContent(), a.options.binary = !0, a.options.base64 = !1, "uint8array" === d.getTypeOf(a._data))) {
								var b = a._data;
								a._data = new Uint8Array(b.length), 0 !== b.length && a._data.set(b, 0)
							}
							return a._data
						},
						p = function(a) {
							var b = o(a),
								e = d.getTypeOf(b);
							return "string" === e ? !a.options.binary && c.nodebuffer ? k(b, "utf-8") : a.asBinary() : b
						},
						q = function(a) {
							var b = o(this);
							return null === b || "undefined" == typeof b ? "" : (this.options.base64 && (b = h.decode(b)), b = a && this.options.binary ? A.utf8decode(b) : d.transformTo("string", b), a || this.options.binary || (b = d.transformTo("string", A.utf8encode(b))), b)
						},
						r = function(a, b, c) {
							this.name = a, this.dir = c.dir, this.date = c.date, this.comment = c.comment, this._data = b, this.options = c, this._initialMetadata = {
								dir: c.dir,
								date: c.date
							}
						};
					r.prototype = {
						asText: function() {
							return q.call(this, !0)
						},
						asBinary: function() {
							return q.call(this, !1)
						},
						asNodeBuffer: function() {
							var a = p(this);
							return d.transformTo("nodebuffer", a)
						},
						asUint8Array: function() {
							var a = p(this);
							return d.transformTo("uint8array", a)
						},
						asArrayBuffer: function() {
							return this.asUint8Array().buffer
						}
					};
					var s = function(a, b) {
							var c, d = "";
							for (c = 0; b > c; c++) d += String.fromCharCode(255 & a), a >>>= 8;
							return d
						},
						t = function() {
							var a, b, c = {};
							for (a = 0; a < arguments.length; a++)
								for (b in arguments[a]) arguments[a].hasOwnProperty(b) && "undefined" == typeof c[b] && (c[b] = arguments[a][b]);
							return c
						},
						u = function(a) {
							return a = a || {}, a.base64 !== !0 || null !== a.binary && void 0 !== a.binary || (a.binary = !0), a = t(a, g), a.date = a.date || new Date, null !== a.compression && (a.compression = a.compression.toUpperCase()), a
						},
						v = function(a, b, c) {
							var e, f = d.getTypeOf(b);
							if (c = u(c), c.createFolders && (e = w(a)) && x.call(this, e, !0), c.dir || null === b || "undefined" == typeof b) c.base64 = !1, c.binary = !1, b = null;
							else if ("string" === f) c.binary && !c.base64 && c.optimizedBinaryString !== !0 && (b = d.string2binary(b));
							else {
								if (c.base64 = !1, c.binary = !0, !(f || b instanceof j)) throw new Error("The data of '" + a + "' is in an unsupported format !");
								"arraybuffer" === f && (b = d.transformTo("uint8array", b))
							}
							var g = new r(a, b, c);
							return this.files[a] = g, g
						},
						w = function(a) {
							"/" == a.slice(-1) && (a = a.substring(0, a.length - 1));
							var b = a.lastIndexOf("/");
							return b > 0 ? a.substring(0, b) : ""
						},
						x = function(a, b) {
							return "/" != a.slice(-1) && (a += "/"), b = "undefined" != typeof b ? b : !1, this.files[a] || v.call(this, a, null, {
								dir: !0,
								createFolders: b
							}), this.files[a]
						},
						y = function(a, b) {
							var c, f = new j;
							return a._data instanceof j ? (f.uncompressedSize = a._data.uncompressedSize, f.crc32 = a._data.crc32, 0 === f.uncompressedSize || a.dir ? (b = i.STORE, f.compressedContent = "", f.crc32 = 0) : a._data.compressionMethod === b.magic ? f.compressedContent = a._data.getCompressedContent() : (c = a._data.getContent(), f.compressedContent = b.compress(d.transformTo(b.compressInputType, c)))) : (c = p(a), (!c || 0 === c.length || a.dir) && (b = i.STORE, c = ""), f.uncompressedSize = c.length, f.crc32 = e(c), f.compressedContent = b.compress(d.transformTo(b.compressInputType, c))), f.compressedSize = f.compressedContent.length, f.compressionMethod = b.magic, f
						},
						z = function(a, b, c, g) {
							var h, i, j, k, m = (c.compressedContent, d.transformTo("string", l.utf8encode(b.name))),
								n = b.comment || "",
								o = d.transformTo("string", l.utf8encode(n)),
								p = m.length !== b.name.length,
								q = o.length !== n.length,
								r = b.options,
								t = "",
								u = "",
								v = "";
							j = b._initialMetadata.dir !== b.dir ? b.dir : r.dir, k = b._initialMetadata.date !== b.date ? b.date : r.date, h = k.getHours(), h <<= 6, h |= k.getMinutes(), h <<= 5, h |= k.getSeconds() / 2, i = k.getFullYear() - 1980, i <<= 4, i |= k.getMonth() + 1, i <<= 5, i |= k.getDate(), p && (u = s(1, 1) + s(e(m), 4) + m, t += "up" + s(u.length, 2) + u), q && (v = s(1, 1) + s(this.crc32(o), 4) + o, t += "uc" + s(v.length, 2) + v);
							var w = "";
							w += "\n\x00", w += p || q ? "\x00\b" : "\x00\x00", w += c.compressionMethod, w += s(h, 2), w += s(i, 2), w += s(c.crc32, 4), w += s(c.compressedSize, 4), w += s(c.uncompressedSize, 4), w += s(m.length, 2), w += s(t.length, 2);
							var x = f.LOCAL_FILE_HEADER + w + m + t,
								y = f.CENTRAL_FILE_HEADER + "\x00" + w + s(o.length, 2) + "\x00\x00\x00\x00" + (j === !0 ? "\x00\x00\x00" : "\x00\x00\x00\x00") + s(g, 4) + m + t + o;
							return {
								fileRecord: x,
								dirRecord: y,
								compressedObject: c
							}
						},
						A = {
							load: function() {
								throw new Error("Load method is not defined. Is the file jszip-load.js included ?")
							},
							filter: function(a) {
								var b, c, d, e, f = [];
								for (b in this.files) this.files.hasOwnProperty(b) && (d = this.files[b], e = new r(d.name, d._data, t(d.options)), c = b.slice(this.root.length, b.length), b.slice(0, this.root.length) === this.root && a(c, e) && f.push(e));
								return f
							},
							file: function(a, b, c) {
								if (1 === arguments.length) {
									if (d.isRegExp(a)) {
										var e = a;
										return this.filter(function(a, b) {
											return !b.dir && e.test(a)
										})
									}
									return this.filter(function(b, c) {
										return !c.dir && b === a
									})[0] || null
								}
								return a = this.root + a, v.call(this, a, b, c), this
							},
							folder: function(a) {
								if (!a) return this;
								if (d.isRegExp(a)) return this.filter(function(b, c) {
									return c.dir && a.test(b)
								});
								var b = this.root + a,
									c = x.call(this, b),
									e = this.clone();
								return e.root = c.name, e
							},
							remove: function(a) {
								a = this.root + a;
								var b = this.files[a];
								if (b || ("/" != a.slice(-1) && (a += "/"), b = this.files[a]), b && !b.dir) delete this.files[a];
								else
									for (var c = this.filter(function(b, c) {
											return c.name.slice(0, a.length) === a
										}), d = 0; d < c.length; d++) delete this.files[c[d].name];
								return this
							},
							generate: function(a) {
								a = t(a || {}, {
									base64: !0,
									compression: "STORE",
									type: "base64",
									comment: null
								}), d.checkSupport(a.type);
								var b, c, e = [],
									g = 0,
									j = 0,
									k = d.transformTo("string", this.utf8encode(a.comment || this.comment || ""));
								for (var l in this.files)
									if (this.files.hasOwnProperty(l)) {
										var o = this.files[l],
											p = o.options.compression || a.compression.toUpperCase(),
											q = i[p];
										if (!q) throw new Error(p + " is not a valid compression method !");
										var r = y.call(this, o, q),
											u = z.call(this, l, o, r, g);
										g += u.fileRecord.length + r.compressedSize, j += u.dirRecord.length, e.push(u)
									}
								var v = "";
								v = f.CENTRAL_DIRECTORY_END + "\x00\x00\x00\x00" + s(e.length, 2) + s(e.length, 2) + s(j, 4) + s(g, 4) + s(k.length, 2) + k;
								var w = a.type.toLowerCase();
								for (b = "uint8array" === w || "arraybuffer" === w || "blob" === w || "nodebuffer" === w ? new n(g + j + v.length) : new m(g + j + v.length), c = 0; c < e.length; c++) b.append(e[c].fileRecord), b.append(e[c].compressedObject.compressedContent);
								for (c = 0; c < e.length; c++) b.append(e[c].dirRecord);
								b.append(v);
								var x = b.finalize();
								switch (a.type.toLowerCase()) {
									case "uint8array":
									case "arraybuffer":
									case "nodebuffer":
										return d.transformTo(a.type.toLowerCase(), x);
									case "blob":
										return d.arrayBuffer2Blob(d.transformTo("arraybuffer", x));
									case "base64":
										return a.base64 ? h.encode(x) : x;
									default:
										return x
								}
							},
							crc32: function(a, b) {
								return e(a, b)
							},
							utf8encode: function(a) {
								return d.transformTo("string", l.utf8encode(a))
							},
							utf8decode: function(a) {
								return l.utf8decode(a)
							}
						};
					b.exports = A
				}, {
					"./base64": 1,
					"./compressedObject": 2,
					"./compressions": 3,
					"./crc32": 4,
					"./defaults": 6,
					"./nodeBuffer": 11,
					"./signature": 14,
					"./stringWriter": 16,
					"./support": 17,
					"./uint8ArrayWriter": 19,
					"./utf8": 20,
					"./utils": 21
				}],
				14: [function(a, b, c) {
					"use strict";
					c.LOCAL_FILE_HEADER = "PK", c.CENTRAL_FILE_HEADER = "PK", c.CENTRAL_DIRECTORY_END = "PK", c.ZIP64_CENTRAL_DIRECTORY_LOCATOR = "PK", c.ZIP64_CENTRAL_DIRECTORY_END = "PK", c.DATA_DESCRIPTOR = "PK\b"
				}, {}],
				15: [function(a, b) {
					"use strict";

					function c(a, b) {
						this.data = a, b || (this.data = e.string2binary(this.data)), this.length = this.data.length, this.index = 0
					}
					var d = a("./dataReader"),
						e = a("./utils");
					c.prototype = new d, c.prototype.byteAt = function(a) {
						return this.data.charCodeAt(a)
					}, c.prototype.lastIndexOfSignature = function(a) {
						return this.data.lastIndexOf(a)
					}, c.prototype.readData = function(a) {
						this.checkOffset(a);
						var b = this.data.slice(this.index, this.index + a);
						return this.index += a, b
					}, b.exports = c
				}, {
					"./dataReader": 5,
					"./utils": 21
				}],
				16: [function(a, b) {
					"use strict";
					var c = a("./utils"),
						d = function() {
							this.data = []
						};
					d.prototype = {
						append: function(a) {
							a = c.transformTo("string", a), this.data.push(a)
						},
						finalize: function() {
							return this.data.join("")
						}
					}, b.exports = d
				}, {
					"./utils": 21
				}],
				17: [function(a, b, c) {
					(function(a) {
						"use strict";
						if (c.base64 = !0, c.array = !0, c.string = !0, c.arraybuffer = "undefined" != typeof ArrayBuffer && "undefined" != typeof Uint8Array, c.nodebuffer = "undefined" != typeof a, c.uint8array = "undefined" != typeof Uint8Array, "undefined" == typeof ArrayBuffer) c.blob = !1;
						else {
							var b = new ArrayBuffer(0);
							try {
								c.blob = 0 === new Blob([b], {
									type: "application/zip"
								}).size
							} catch (d) {
								try {
									var e = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder,
										f = new e;
									f.append(b), c.blob = 0 === f.getBlob("application/zip").size
								} catch (d) {
									c.blob = !1
								}
							}
						}
					}).call(this, "undefined" != typeof Buffer ? Buffer : void 0)
				}, {}],
				18: [function(a, b) {
					"use strict";

					function c(a) {
						a && (this.data = a, this.length = this.data.length, this.index = 0)
					}
					var d = a("./dataReader");
					c.prototype = new d, c.prototype.byteAt = function(a) {
						return this.data[a]
					}, c.prototype.lastIndexOfSignature = function(a) {
						for (var b = a.charCodeAt(0), c = a.charCodeAt(1), d = a.charCodeAt(2), e = a.charCodeAt(3), f = this.length - 4; f >= 0; --f)
							if (this.data[f] === b && this.data[f + 1] === c && this.data[f + 2] === d && this.data[f + 3] === e) return f;
						return -1
					}, c.prototype.readData = function(a) {
						if (this.checkOffset(a), 0 === a) return new Uint8Array(0);
						var b = this.data.subarray(this.index, this.index + a);
						return this.index += a, b
					}, b.exports = c
				}, {
					"./dataReader": 5
				}],
				19: [function(a, b) {
					"use strict";
					var c = a("./utils"),
						d = function(a) {
							this.data = new Uint8Array(a), this.index = 0
						};
					d.prototype = {
						append: function(a) {
							0 !== a.length && (a = c.transformTo("uint8array", a), this.data.set(a, this.index), this.index += a.length)
						},
						finalize: function() {
							return this.data
						}
					}, b.exports = d
				}, {
					"./utils": 21
				}],
				20: [function(a, b, c) {
					"use strict";
					for (var d = a("./utils"), e = a("./support"), f = a("./nodeBuffer"), g = new Array(256), h = 0; 256 > h; h++) g[h] = h >= 252 ? 6 : h >= 248 ? 5 : h >= 240 ? 4 : h >= 224 ? 3 : h >= 192 ? 2 : 1;
					g[254] = g[254] = 1;
					var i = function(a) {
							var b, c, d, f, g, h = a.length,
								i = 0;
							for (f = 0; h > f; f++) c = a.charCodeAt(f), 55296 === (64512 & c) && h > f + 1 && (d = a.charCodeAt(f + 1), 56320 === (64512 & d) && (c = 65536 + (c - 55296 << 10) + (d - 56320), f++)), i += 128 > c ? 1 : 2048 > c ? 2 : 65536 > c ? 3 : 4;
							for (b = e.uint8array ? new Uint8Array(i) : new Array(i), g = 0, f = 0; i > g; f++) c = a.charCodeAt(f), 55296 === (64512 & c) && h > f + 1 && (d = a.charCodeAt(f + 1), 56320 === (64512 & d) && (c = 65536 + (c - 55296 << 10) + (d - 56320), f++)), 128 > c ? b[g++] = c : 2048 > c ? (b[g++] = 192 | c >>> 6, b[g++] = 128 | 63 & c) : 65536 > c ? (b[g++] = 224 | c >>> 12, b[g++] = 128 | c >>> 6 & 63, b[g++] = 128 | 63 & c) : (b[g++] = 240 | c >>> 18, b[g++] = 128 | c >>> 12 & 63, b[g++] = 128 | c >>> 6 & 63, b[g++] = 128 | 63 & c);
							return b
						},
						j = function(a, b) {
							var c;
							for (b = b || a.length, b > a.length && (b = a.length), c = b - 1; c >= 0 && 128 === (192 & a[c]);) c--;
							return 0 > c ? b : 0 === c ? b : c + g[a[c]] > b ? c : b
						},
						k = function(a) {
							var b, c, e, f, h = a.length,
								i = new Array(2 * h);
							for (c = 0, b = 0; h > b;)
								if (e = a[b++], 128 > e) i[c++] = e;
								else if (f = g[e], f > 4) i[c++] = 65533, b += f - 1;
							else {
								for (e &= 2 === f ? 31 : 3 === f ? 15 : 7; f > 1 && h > b;) e = e << 6 | 63 & a[b++], f--;
								f > 1 ? i[c++] = 65533 : 65536 > e ? i[c++] = e : (e -= 65536, i[c++] = 55296 | e >> 10 & 1023, i[c++] = 56320 | 1023 & e)
							}
							return i.length !== c && (i.subarray ? i = i.subarray(0, c) : i.length = c), d.applyFromCharCode(i)
						};
					c.utf8encode = function(a) {
						return e.nodebuffer ? f(a, "utf-8") : i(a)
					}, c.utf8decode = function(a) {
						if (e.nodebuffer) return d.transformTo("nodebuffer", a).toString("utf-8");
						a = d.transformTo(e.uint8array ? "uint8array" : "array", a);
						for (var b = [], c = 0, f = a.length, g = 65536; f > c;) {
							var h = j(a, Math.min(c + g, f));
							b.push(k(e.uint8array ? a.subarray(c, h) : a.slice(c, h))), c = h
						}
						return b.join("")
					}
				}, {
					"./nodeBuffer": 11,
					"./support": 17,
					"./utils": 21
				}],
				21: [function(a, b, c) {
					"use strict";

					function d(a) {
						return a
					}

					function e(a, b) {
						for (var c = 0; c < a.length; ++c) b[c] = 255 & a.charCodeAt(c);
						return b
					}

					function f(a) {
						var b = 65536,
							d = [],
							e = a.length,
							f = c.getTypeOf(a),
							g = 0,
							h = !0;
						try {
							switch (f) {
								case "uint8array":
									String.fromCharCode.apply(null, new Uint8Array(0));
									break;
								case "nodebuffer":
									String.fromCharCode.apply(null, j(0))
							}
						} catch (i) {
							h = !1
						}
						if (!h) {
							for (var k = "", l = 0; l < a.length; l++) k += String.fromCharCode(a[l]);
							return k
						}
						for (; e > g && b > 1;) try {
							d.push("array" === f || "nodebuffer" === f ? String.fromCharCode.apply(null, a.slice(g, Math.min(g + b, e))) : String.fromCharCode.apply(null, a.subarray(g, Math.min(g + b, e)))), g += b
						} catch (i) {
							b = Math.floor(b / 2)
						}
						return d.join("")
					}

					function g(a, b) {
						for (var c = 0; c < a.length; c++) b[c] = a[c];
						return b
					}
					var h = a("./support"),
						i = a("./compressions"),
						j = a("./nodeBuffer");
					c.string2binary = function(a) {
						for (var b = "", c = 0; c < a.length; c++) b += String.fromCharCode(255 & a.charCodeAt(c));
						return b
					}, c.arrayBuffer2Blob = function(a) {
						c.checkSupport("blob");
						try {
							return new Blob([a], {
								type: "application/zip"
							})
						} catch (b) {
							try {
								var d = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder || window.MSBlobBuilder,
									e = new d;
								return e.append(a), e.getBlob("application/zip")
							} catch (b) {
								throw new Error("Bug : can't construct the Blob.")
							}
						}
					}, c.applyFromCharCode = f;
					var k = {};
					k.string = {
						string: d,
						array: function(a) {
							return e(a, new Array(a.length))
						},
						arraybuffer: function(a) {
							return k.string.uint8array(a).buffer
						},
						uint8array: function(a) {
							return e(a, new Uint8Array(a.length))
						},
						nodebuffer: function(a) {
							return e(a, j(a.length))
						}
					}, k.array = {
						string: f,
						array: d,
						arraybuffer: function(a) {
							return new Uint8Array(a).buffer
						},
						uint8array: function(a) {
							return new Uint8Array(a)
						},
						nodebuffer: function(a) {
							return j(a)
						}
					}, k.arraybuffer = {
						string: function(a) {
							return f(new Uint8Array(a))
						},
						array: function(a) {
							return g(new Uint8Array(a), new Array(a.byteLength))
						},
						arraybuffer: d,
						uint8array: function(a) {
							return new Uint8Array(a)
						},
						nodebuffer: function(a) {
							return j(new Uint8Array(a))
						}
					}, k.uint8array = {
						string: f,
						array: function(a) {
							return g(a, new Array(a.length))
						},
						arraybuffer: function(a) {
							return a.buffer
						},
						uint8array: d,
						nodebuffer: function(a) {
							return j(a)
						}
					}, k.nodebuffer = {
						string: f,
						array: function(a) {
							return g(a, new Array(a.length))
						},
						arraybuffer: function(a) {
							return k.nodebuffer.uint8array(a).buffer
						},
						uint8array: function(a) {
							return g(a, new Uint8Array(a.length))
						},
						nodebuffer: d
					}, c.transformTo = function(a, b) {
						if (b || (b = ""), !a) return b;
						c.checkSupport(a);
						var d = c.getTypeOf(b),
							e = k[d][a](b);
						return e
					}, c.getTypeOf = function(a) {
						return "string" == typeof a ? "string" : "[object Array]" === Object.prototype.toString.call(a) ? "array" : h.nodebuffer && j.test(a) ? "nodebuffer" : h.uint8array && a instanceof Uint8Array ? "uint8array" : h.arraybuffer && a instanceof ArrayBuffer ? "arraybuffer" : void 0
					}, c.checkSupport = function(a) {
						var b = h[a.toLowerCase()];
						if (!b) throw new Error(a + " is not supported by this browser")
					}, c.MAX_VALUE_16BITS = 65535, c.MAX_VALUE_32BITS = -1, c.pretty = function(a) {
						var b, c, d = "";
						for (c = 0; c < (a || "").length; c++) b = a.charCodeAt(c), d += "\\x" + (16 > b ? "0" : "") + b.toString(16).toUpperCase();
						return d
					}, c.findCompression = function(a) {
						for (var b in i)
							if (i.hasOwnProperty(b) && i[b].magic === a) return i[b];
						return null
					}, c.isRegExp = function(a) {
						return "[object RegExp]" === Object.prototype.toString.call(a)
					}
				}, {
					"./compressions": 3,
					"./nodeBuffer": 11,
					"./support": 17
				}],
				22: [function(a, b) {
					"use strict";

					function c(a, b) {
						this.files = [], this.loadOptions = b, a && this.load(a)
					}
					var d = a("./stringReader"),
						e = a("./nodeBufferReader"),
						f = a("./uint8ArrayReader"),
						g = a("./utils"),
						h = a("./signature"),
						i = a("./zipEntry"),
						j = a("./support"),
						k = a("./object");
					c.prototype = {
						checkSignature: function(a) {
							var b = this.reader.readString(4);
							if (b !== a) throw new Error("Corrupted zip or bug : unexpected signature (" + g.pretty(b) + ", expected " + g.pretty(a) + ")")
						},
						readBlockEndOfCentral: function() {
							this.diskNumber = this.reader.readInt(2), this.diskWithCentralDirStart = this.reader.readInt(2), this.centralDirRecordsOnThisDisk = this.reader.readInt(2), this.centralDirRecords = this.reader.readInt(2), this.centralDirSize = this.reader.readInt(4), this.centralDirOffset = this.reader.readInt(4), this.zipCommentLength = this.reader.readInt(2), this.zipComment = this.reader.readString(this.zipCommentLength), this.zipComment = k.utf8decode(this.zipComment)
						},
						readBlockZip64EndOfCentral: function() {
							this.zip64EndOfCentralSize = this.reader.readInt(8), this.versionMadeBy = this.reader.readString(2), this.versionNeeded = this.reader.readInt(2), this.diskNumber = this.reader.readInt(4), this.diskWithCentralDirStart = this.reader.readInt(4), this.centralDirRecordsOnThisDisk = this.reader.readInt(8), this.centralDirRecords = this.reader.readInt(8), this.centralDirSize = this.reader.readInt(8), this.centralDirOffset = this.reader.readInt(8), this.zip64ExtensibleData = {};
							for (var a, b, c, d = this.zip64EndOfCentralSize - 44, e = 0; d > e;) a = this.reader.readInt(2), b = this.reader.readInt(4), c = this.reader.readString(b), this.zip64ExtensibleData[a] = {
								id: a,
								length: b,
								value: c
							}
						},
						readBlockZip64EndOfCentralLocator: function() {
							if (this.diskWithZip64CentralDirStart = this.reader.readInt(4), this.relativeOffsetEndOfZip64CentralDir = this.reader.readInt(8), this.disksCount = this.reader.readInt(4), this.disksCount > 1) throw new Error("Multi-volumes zip are not supported")
						},
						readLocalFiles: function() {
							var a, b;
							for (a = 0; a < this.files.length; a++) b = this.files[a], this.reader.setIndex(b.localHeaderOffset), this.checkSignature(h.LOCAL_FILE_HEADER), b.readLocalPart(this.reader), b.handleUTF8()
						},
						readCentralDir: function() {
							var a;
							for (this.reader.setIndex(this.centralDirOffset); this.reader.readString(4) === h.CENTRAL_FILE_HEADER;) a = new i({
								zip64: this.zip64
							}, this.loadOptions), a.readCentralPart(this.reader), this.files.push(a)
						},
						readEndOfCentral: function() {
							var a = this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);
							if (-1 === a) throw new Error("Corrupted zip : can't find end of central directory");
							if (this.reader.setIndex(a), this.checkSignature(h.CENTRAL_DIRECTORY_END), this.readBlockEndOfCentral(), this.diskNumber === g.MAX_VALUE_16BITS || this.diskWithCentralDirStart === g.MAX_VALUE_16BITS || this.centralDirRecordsOnThisDisk === g.MAX_VALUE_16BITS || this.centralDirRecords === g.MAX_VALUE_16BITS || this.centralDirSize === g.MAX_VALUE_32BITS || this.centralDirOffset === g.MAX_VALUE_32BITS) {
								if (this.zip64 = !0, a = this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR), -1 === a) throw new Error("Corrupted zip : can't find the ZIP64 end of central directory locator");
								this.reader.setIndex(a), this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR), this.readBlockZip64EndOfCentralLocator(), this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir), this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END), this.readBlockZip64EndOfCentral()
							}
						},
						prepareReader: function(a) {
							var b = g.getTypeOf(a);
							this.reader = "string" !== b || j.uint8array ? "nodebuffer" === b ? new e(a) : new f(g.transformTo("uint8array", a)) : new d(a, this.loadOptions.optimizedBinaryString)
						},
						load: function(a) {
							this.prepareReader(a), this.readEndOfCentral(), this.readCentralDir(), this.readLocalFiles()
						}
					}, b.exports = c
				}, {
					"./nodeBufferReader": 12,
					"./object": 13,
					"./signature": 14,
					"./stringReader": 15,
					"./support": 17,
					"./uint8ArrayReader": 18,
					"./utils": 21,
					"./zipEntry": 23
				}],
				23: [function(a, b) {
					"use strict";

					function c(a, b) {
						this.options = a, this.loadOptions = b
					}
					var d = a("./stringReader"),
						e = a("./utils"),
						f = a("./compressedObject"),
						g = a("./object");
					c.prototype = {
						isEncrypted: function() {
							return 1 === (1 & this.bitFlag)
						},
						useUTF8: function() {
							return 2048 === (2048 & this.bitFlag)
						},
						prepareCompressedContent: function(a, b, c) {
							return function() {
								var d = a.index;
								a.setIndex(b);
								var e = a.readData(c);
								return a.setIndex(d), e
							}
						},
						prepareContent: function(a, b, c, d, f) {
							return function() {
								var a = e.transformTo(d.uncompressInputType, this.getCompressedContent()),
									b = d.uncompress(a);
								if (b.length !== f) throw new Error("Bug : uncompressed data size mismatch");
								return b
							}
						},
						readLocalPart: function(a) {
							var b, c;
							if (a.skip(22), this.fileNameLength = a.readInt(2), c = a.readInt(2), this.fileName = a.readString(this.fileNameLength), a.skip(c), -1 == this.compressedSize || -1 == this.uncompressedSize) throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize == -1 || uncompressedSize == -1)");
							if (b = e.findCompression(this.compressionMethod), null === b) throw new Error("Corrupted zip : compression " + e.pretty(this.compressionMethod) + " unknown (inner file : " + this.fileName + ")");
							if (this.decompressed = new f, this.decompressed.compressedSize = this.compressedSize, this.decompressed.uncompressedSize = this.uncompressedSize, this.decompressed.crc32 = this.crc32, this.decompressed.compressionMethod = this.compressionMethod, this.decompressed.getCompressedContent = this.prepareCompressedContent(a, a.index, this.compressedSize, b), this.decompressed.getContent = this.prepareContent(a, a.index, this.compressedSize, b, this.uncompressedSize), this.loadOptions.checkCRC32 && (this.decompressed = e.transformTo("string", this.decompressed.getContent()), g.crc32(this.decompressed) !== this.crc32)) throw new Error("Corrupted zip : CRC32 mismatch")
						},
						readCentralPart: function(a) {
							if (this.versionMadeBy = a.readString(2), this.versionNeeded = a.readInt(2), this.bitFlag = a.readInt(2), this.compressionMethod = a.readString(2), this.date = a.readDate(), this.crc32 = a.readInt(4), this.compressedSize = a.readInt(4), this.uncompressedSize = a.readInt(4), this.fileNameLength = a.readInt(2), this.extraFieldsLength = a.readInt(2), this.fileCommentLength = a.readInt(2), this.diskNumberStart = a.readInt(2), this.internalFileAttributes = a.readInt(2), this.externalFileAttributes = a.readInt(4), this.localHeaderOffset = a.readInt(4), this.isEncrypted()) throw new Error("Encrypted zip are not supported");
							this.fileName = a.readString(this.fileNameLength), this.readExtraFields(a), this.parseZIP64ExtraField(a), this.fileComment = a.readString(this.fileCommentLength), this.dir = 16 & this.externalFileAttributes ? !0 : !1
						},
						parseZIP64ExtraField: function() {
							if (this.extraFields[1]) {
								var a = new d(this.extraFields[1].value);
								this.uncompressedSize === e.MAX_VALUE_32BITS && (this.uncompressedSize = a.readInt(8)), this.compressedSize === e.MAX_VALUE_32BITS && (this.compressedSize = a.readInt(8)), this.localHeaderOffset === e.MAX_VALUE_32BITS && (this.localHeaderOffset = a.readInt(8)), this.diskNumberStart === e.MAX_VALUE_32BITS && (this.diskNumberStart = a.readInt(4))
							}
						},
						readExtraFields: function(a) {
							var b, c, d, e = a.index;
							for (this.extraFields = this.extraFields || {}; a.index < e + this.extraFieldsLength;) b = a.readInt(2), c = a.readInt(2), d = a.readString(c), this.extraFields[b] = {
								id: b,
								length: c,
								value: d
							}
						},
						handleUTF8: function() {
							if (this.useUTF8()) this.fileName = g.utf8decode(this.fileName), this.fileComment = g.utf8decode(this.fileComment);
							else {
								var a = this.findExtraFieldUnicodePath();
								null !== a && (this.fileName = a);
								var b = this.findExtraFieldUnicodeComment();
								null !== b && (this.fileComment = b)
							}
						},
						findExtraFieldUnicodePath: function() {
							var a = this.extraFields[28789];
							if (a) {
								var b = new d(a.value);
								return 1 !== b.readInt(1) ? null : g.crc32(this.fileName) !== b.readInt(4) ? null : g.utf8decode(b.readString(a.length - 5))
							}
							return null
						},
						findExtraFieldUnicodeComment: function() {
							var a = this.extraFields[25461];
							if (a) {
								var b = new d(a.value);
								return 1 !== b.readInt(1) ? null : g.crc32(this.fileComment) !== b.readInt(4) ? null : g.utf8decode(b.readString(a.length - 5))
							}
							return null
						}
					}, b.exports = c
				}, {
					"./compressedObject": 2,
					"./object": 13,
					"./stringReader": 15,
					"./utils": 21
				}],
				24: [function(a, b) {
					"use strict";
					var c = a("./lib/utils/common").assign,
						d = a("./lib/deflate"),
						e = a("./lib/inflate"),
						f = a("./lib/zlib/constants"),
						g = {};
					c(g, d, e, f), b.exports = g
				}, {
					"./lib/deflate": 25,
					"./lib/inflate": 26,
					"./lib/utils/common": 27,
					"./lib/zlib/constants": 30
				}],
				25: [function(a, b, c) {
					"use strict";

					function d(a, b) {
						var c = new s(b);
						if (c.push(a, !0), c.err) throw c.msg;
						return c.result
					}

					function e(a, b) {
						return b = b || {}, b.raw = !0, d(a, b)
					}

					function f(a, b) {
						return b = b || {}, b.gzip = !0, d(a, b)
					}
					var g = a("./zlib/deflate.js"),
						h = a("./utils/common"),
						i = a("./utils/strings"),
						j = a("./zlib/messages"),
						k = a("./zlib/zstream"),
						l = 0,
						m = 4,
						n = 0,
						o = 1,
						p = -1,
						q = 0,
						r = 8,
						s = function(a) {
							this.options = h.assign({
								level: p,
								method: r,
								chunkSize: 16384,
								windowBits: 15,
								memLevel: 8,
								strategy: q,
								to: ""
							}, a || {});
							var b = this.options;
							b.raw && b.windowBits > 0 ? b.windowBits = -b.windowBits : b.gzip && b.windowBits > 0 && b.windowBits < 16 && (b.windowBits += 16), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new k, this.strm.avail_out = 0;
							var c = g.deflateInit2(this.strm, b.level, b.method, b.windowBits, b.memLevel, b.strategy);
							if (c !== n) throw new Error(j[c]);
							b.header && g.deflateSetHeader(this.strm, b.header)
						};
					s.prototype.push = function(a, b) {
						var c, d, e = this.strm,
							f = this.options.chunkSize;
						if (this.ended) return !1;
						d = b === ~~b ? b : b === !0 ? m : l, e.input = "string" == typeof a ? i.string2buf(a) : a, e.next_in = 0, e.avail_in = e.input.length;
						do {
							if (0 === e.avail_out && (e.output = new h.Buf8(f), e.next_out = 0, e.avail_out = f), c = g.deflate(e, d), c !== o && c !== n) return this.onEnd(c), this.ended = !0, !1;
							(0 === e.avail_out || 0 === e.avail_in && d === m) && this.onData("string" === this.options.to ? i.buf2binstring(h.shrinkBuf(e.output, e.next_out)) : h.shrinkBuf(e.output, e.next_out))
						} while ((e.avail_in > 0 || 0 === e.avail_out) && c !== o);
						return d === m ? (c = g.deflateEnd(this.strm), this.onEnd(c), this.ended = !0, c === n) : !0
					}, s.prototype.onData = function(a) {
						this.chunks.push(a)
					}, s.prototype.onEnd = function(a) {
						a === n && (this.result = "string" === this.options.to ? this.chunks.join("") : h.flattenChunks(this.chunks)), this.chunks = [], this.err = a, this.msg = this.strm.msg
					}, c.Deflate = s, c.deflate = d, c.deflateRaw = e, c.gzip = f
				}, {
					"./utils/common": 27,
					"./utils/strings": 28,
					"./zlib/deflate.js": 32,
					"./zlib/messages": 37,
					"./zlib/zstream": 39
				}],
				26: [function(a, b, c) {
					"use strict";

					function d(a, b) {
						var c = new m(b);
						if (c.push(a, !0), c.err) throw c.msg;
						return c.result
					}

					function e(a, b) {
						return b = b || {}, b.raw = !0, d(a, b)
					}
					var f = a("./zlib/inflate.js"),
						g = a("./utils/common"),
						h = a("./utils/strings"),
						i = a("./zlib/constants"),
						j = a("./zlib/messages"),
						k = a("./zlib/zstream"),
						l = a("./zlib/gzheader"),
						m = function(a) {
							this.options = g.assign({
								chunkSize: 16384,
								windowBits: 0,
								to: ""
							}, a || {});
							var b = this.options;
							b.raw && b.windowBits >= 0 && b.windowBits < 16 && (b.windowBits = -b.windowBits, 0 === b.windowBits && (b.windowBits = -15)), !(b.windowBits >= 0 && b.windowBits < 16) || a && a.windowBits || (b.windowBits += 32), b.windowBits > 15 && b.windowBits < 48 && 0 === (15 & b.windowBits) && (b.windowBits |= 15), this.err = 0, this.msg = "", this.ended = !1, this.chunks = [], this.strm = new k, this.strm.avail_out = 0;
							var c = f.inflateInit2(this.strm, b.windowBits);
							if (c !== i.Z_OK) throw new Error(j[c]);
							this.header = new l, f.inflateGetHeader(this.strm, this.header)
						};
					m.prototype.push = function(a, b) {
						var c, d, e, j, k, l = this.strm,
							m = this.options.chunkSize;
						if (this.ended) return !1;
						d = b === ~~b ? b : b === !0 ? i.Z_FINISH : i.Z_NO_FLUSH, l.input = "string" == typeof a ? h.binstring2buf(a) : a, l.next_in = 0, l.avail_in = l.input.length;
						do {
							if (0 === l.avail_out && (l.output = new g.Buf8(m), l.next_out = 0, l.avail_out = m), c = f.inflate(l, i.Z_NO_FLUSH), c !== i.Z_STREAM_END && c !== i.Z_OK) return this.onEnd(c), this.ended = !0, !1;
							l.next_out && (0 === l.avail_out || c === i.Z_STREAM_END || 0 === l.avail_in && d === i.Z_FINISH) && ("string" === this.options.to ? (e = h.utf8border(l.output, l.next_out), j = l.next_out - e, k = h.buf2string(l.output, e), l.next_out = j, l.avail_out = m - j, j && g.arraySet(l.output, l.output, e, j, 0), this.onData(k)) : this.onData(g.shrinkBuf(l.output, l.next_out)))
						} while (l.avail_in > 0 && c !== i.Z_STREAM_END);
						return c === i.Z_STREAM_END && (d = i.Z_FINISH), d === i.Z_FINISH ? (c = f.inflateEnd(this.strm), this.onEnd(c), this.ended = !0, c === i.Z_OK) : !0
					}, m.prototype.onData = function(a) {
						this.chunks.push(a)
					}, m.prototype.onEnd = function(a) {
						a === i.Z_OK && (this.result = "string" === this.options.to ? this.chunks.join("") : g.flattenChunks(this.chunks)), this.chunks = [], this.err = a, this.msg = this.strm.msg
					}, c.Inflate = m, c.inflate = d, c.inflateRaw = e, c.ungzip = d
				}, {
					"./utils/common": 27,
					"./utils/strings": 28,
					"./zlib/constants": 30,
					"./zlib/gzheader": 33,
					"./zlib/inflate.js": 35,
					"./zlib/messages": 37,
					"./zlib/zstream": 39
				}],
				27: [function(a, b, c) {
					"use strict";
					var d = "undefined" != typeof Uint8Array && "undefined" != typeof Uint16Array && "undefined" != typeof Int32Array;
					c.assign = function(a) {
						for (var b = Array.prototype.slice.call(arguments, 1); b.length;) {
							var c = b.shift();
							if (c) {
								if ("object" != typeof c) throw new TypeError(c + "must be non-object");
								for (var d in c) c.hasOwnProperty(d) && (a[d] = c[d])
							}
						}
						return a
					}, c.shrinkBuf = function(a, b) {
						return a.length === b ? a : a.subarray ? a.subarray(0, b) : (a.length = b, a)
					};
					var e = {
							arraySet: function(a, b, c, d, e) {
								if (b.subarray && a.subarray) return void a.set(b.subarray(c, c + d), e);
								for (var f = 0; d > f; f++) a[e + f] = b[c + f]
							},
							flattenChunks: function(a) {
								var b, c, d, e, f, g;
								for (d = 0, b = 0, c = a.length; c > b; b++) d += a[b].length;
								for (g = new Uint8Array(d), e = 0, b = 0, c = a.length; c > b; b++) f = a[b], g.set(f, e), e += f.length;
								return g
							}
						},
						f = {
							arraySet: function(a, b, c, d, e) {
								for (var f = 0; d > f; f++) a[e + f] = b[c + f]
							},
							flattenChunks: function(a) {
								return [].concat.apply([], a)
							}
						};
					c.setTyped = function(a) {
						a ? (c.Buf8 = Uint8Array, c.Buf16 = Uint16Array, c.Buf32 = Int32Array, c.assign(c, e)) : (c.Buf8 = Array, c.Buf16 = Array, c.Buf32 = Array, c.assign(c, f))
					}, c.setTyped(d)
				}, {}],
				28: [function(a, b, c) {
					"use strict";

					function d(a, b) {
						if (65537 > b && (a.subarray && g || !a.subarray && f)) return String.fromCharCode.apply(null, e.shrinkBuf(a, b));
						for (var c = "", d = 0; b > d; d++) c += String.fromCharCode(a[d]);
						return c
					}
					var e = a("./common"),
						f = !0,
						g = !0;
					try {
						String.fromCharCode.apply(null, [0])
					} catch (h) {
						f = !1
					}
					try {
						String.fromCharCode.apply(null, new Uint8Array(1))
					} catch (h) {
						g = !1
					}
					for (var i = new e.Buf8(256), j = 0; 256 > j; j++) i[j] = j >= 252 ? 6 : j >= 248 ? 5 : j >= 240 ? 4 : j >= 224 ? 3 : j >= 192 ? 2 : 1;
					i[254] = i[254] = 1, c.string2buf = function(a) {
						var b, c, d, f, g, h = a.length,
							i = 0;
						for (f = 0; h > f; f++) c = a.charCodeAt(f), 55296 === (64512 & c) && h > f + 1 && (d = a.charCodeAt(f + 1), 56320 === (64512 & d) && (c = 65536 + (c - 55296 << 10) + (d - 56320), f++)), i += 128 > c ? 1 : 2048 > c ? 2 : 65536 > c ? 3 : 4;
						for (b = new e.Buf8(i), g = 0, f = 0; i > g; f++) c = a.charCodeAt(f), 55296 === (64512 & c) && h > f + 1 && (d = a.charCodeAt(f + 1), 56320 === (64512 & d) && (c = 65536 + (c - 55296 << 10) + (d - 56320), f++)), 128 > c ? b[g++] = c : 2048 > c ? (b[g++] = 192 | c >>> 6, b[g++] = 128 | 63 & c) : 65536 > c ? (b[g++] = 224 | c >>> 12, b[g++] = 128 | c >>> 6 & 63, b[g++] = 128 | 63 & c) : (b[g++] = 240 | c >>> 18, b[g++] = 128 | c >>> 12 & 63, b[g++] = 128 | c >>> 6 & 63, b[g++] = 128 | 63 & c);
						return b
					}, c.buf2binstring = function(a) {
						return d(a, a.length)
					}, c.binstring2buf = function(a) {
						for (var b = new e.Buf8(a.length), c = 0, d = b.length; d > c; c++) b[c] = a.charCodeAt(c);
						return b
					}, c.buf2string = function(a, b) {
						var c, e, f, g, h = b || a.length,
							j = new Array(2 * h);
						for (e = 0, c = 0; h > c;)
							if (f = a[c++], 128 > f) j[e++] = f;
							else if (g = i[f], g > 4) j[e++] = 65533, c += g - 1;
						else {
							for (f &= 2 === g ? 31 : 3 === g ? 15 : 7; g > 1 && h > c;) f = f << 6 | 63 & a[c++], g--;
							g > 1 ? j[e++] = 65533 : 65536 > f ? j[e++] = f : (f -= 65536, j[e++] = 55296 | f >> 10 & 1023, j[e++] = 56320 | 1023 & f)
						}
						return d(j, e)
					}, c.utf8border = function(a, b) {
						var c;
						for (b = b || a.length, b > a.length && (b = a.length), c = b - 1; c >= 0 && 128 === (192 & a[c]);) c--;
						return 0 > c ? b : 0 === c ? b : c + i[a[c]] > b ? c : b
					}
				}, {
					"./common": 27
				}],
				29: [function(a, b) {
					"use strict";

					function c(a, b, c, d) {
						for (var e = 65535 & a | 0, f = a >>> 16 & 65535 | 0, g = 0; 0 !== c;) {
							g = c > 2e3 ? 2e3 : c, c -= g;
							do e = e + b[d++] | 0, f = f + e | 0; while (--g);
							e %= 65521, f %= 65521
						}
						return e | f << 16 | 0
					}
					b.exports = c
				}, {}],
				30: [function(a, b) {
					b.exports = {
						Z_NO_FLUSH: 0,
						Z_PARTIAL_FLUSH: 1,
						Z_SYNC_FLUSH: 2,
						Z_FULL_FLUSH: 3,
						Z_FINISH: 4,
						Z_BLOCK: 5,
						Z_TREES: 6,
						Z_OK: 0,
						Z_STREAM_END: 1,
						Z_NEED_DICT: 2,
						Z_ERRNO: -1,
						Z_STREAM_ERROR: -2,
						Z_DATA_ERROR: -3,
						Z_BUF_ERROR: -5,
						Z_NO_COMPRESSION: 0,
						Z_BEST_SPEED: 1,
						Z_BEST_COMPRESSION: 9,
						Z_DEFAULT_COMPRESSION: -1,
						Z_FILTERED: 1,
						Z_HUFFMAN_ONLY: 2,
						Z_RLE: 3,
						Z_FIXED: 4,
						Z_DEFAULT_STRATEGY: 0,
						Z_BINARY: 0,
						Z_TEXT: 1,
						Z_UNKNOWN: 2,
						Z_DEFLATED: 8
					}
				}, {}],
				31: [function(a, b) {
					"use strict";

					function c() {
						for (var a, b = [], c = 0; 256 > c; c++) {
							a = c;
							for (var d = 0; 8 > d; d++) a = 1 & a ? 3988292384 ^ a >>> 1 : a >>> 1;
							b[c] = a
						}
						return b
					}

					function d(a, b, c, d) {
						var f = e,
							g = d + c;
						a = -1 ^ a;
						for (var h = d; g > h; h++) a = a >>> 8 ^ f[255 & (a ^ b[h])];
						return -1 ^ a
					}
					var e = c();
					b.exports = d
				}, {}],
				32: [function(a, b, c) {
					"use strict";

					function d(a, b) {
						return a.msg = G[b], b
					}

					function e(a) {
						return (a << 1) - (a > 4 ? 9 : 0)
					}

					function f(a) {
						for (var b = a.length; --b >= 0;) a[b] = 0
					}

					function g(a) {
						var b = a.state,
							c = b.pending;
						c > a.avail_out && (c = a.avail_out), 0 !== c && (C.arraySet(a.output, b.pending_buf, b.pending_out, c, a.next_out), a.next_out += c, b.pending_out += c, a.total_out += c, a.avail_out -= c, b.pending -= c, 0 === b.pending && (b.pending_out = 0))
					}

					function h(a, b) {
						D._tr_flush_block(a, a.block_start >= 0 ? a.block_start : -1, a.strstart - a.block_start, b), a.block_start = a.strstart, g(a.strm)
					}

					function i(a, b) {
						a.pending_buf[a.pending++] = b
					}

					function j(a, b) {
						a.pending_buf[a.pending++] = b >>> 8 & 255, a.pending_buf[a.pending++] = 255 & b
					}

					function k(a, b, c, d) {
						var e = a.avail_in;
						return e > d && (e = d), 0 === e ? 0 : (a.avail_in -= e, C.arraySet(b, a.input, a.next_in, e, c), 1 === a.state.wrap ? a.adler = E(a.adler, b, e, c) : 2 === a.state.wrap && (a.adler = F(a.adler, b, e, c)), a.next_in += e, a.total_in += e, e)
					}

					function l(a, b) {
						var c, d, e = a.max_chain_length,
							f = a.strstart,
							g = a.prev_length,
							h = a.nice_match,
							i = a.strstart > a.w_size - ja ? a.strstart - (a.w_size - ja) : 0,
							j = a.window,
							k = a.w_mask,
							l = a.prev,
							m = a.strstart + ia,
							n = j[f + g - 1],
							o = j[f + g];
						a.prev_length >= a.good_match && (e >>= 2), h > a.lookahead && (h = a.lookahead);
						do
							if (c = b, j[c + g] === o && j[c + g - 1] === n && j[c] === j[f] && j[++c] === j[f + 1]) {
								f += 2, c++;
								do; while (j[++f] === j[++c] && j[++f] === j[++c] && j[++f] === j[++c] && j[++f] === j[++c] && j[++f] === j[++c] && j[++f] === j[++c] && j[++f] === j[++c] && j[++f] === j[++c] && m > f);
								if (d = ia - (m - f), f = m - ia, d > g) {
									if (a.match_start = b, g = d, d >= h) break;
									n = j[f + g - 1], o = j[f + g]
								}
							}
						while ((b = l[b & k]) > i && 0 !== --e);
						return g <= a.lookahead ? g : a.lookahead
					}

					function m(a) {
						var b, c, d, e, f, g = a.w_size;
						do {
							if (e = a.window_size - a.lookahead - a.strstart, a.strstart >= g + (g - ja)) {
								C.arraySet(a.window, a.window, g, g, 0), a.match_start -= g, a.strstart -= g, a.block_start -= g, c = a.hash_size, b = c;
								do d = a.head[--b], a.head[b] = d >= g ? d - g : 0; while (--c);
								c = g, b = c;
								do d = a.prev[--b], a.prev[b] = d >= g ? d - g : 0; while (--c);
								e += g
							}
							if (0 === a.strm.avail_in) break;
							if (c = k(a.strm, a.window, a.strstart + a.lookahead, e), a.lookahead += c, a.lookahead + a.insert >= ha)
								for (f = a.strstart - a.insert, a.ins_h = a.window[f], a.ins_h = (a.ins_h << a.hash_shift ^ a.window[f + 1]) & a.hash_mask; a.insert && (a.ins_h = (a.ins_h << a.hash_shift ^ a.window[f + ha - 1]) & a.hash_mask, a.prev[f & a.w_mask] = a.head[a.ins_h], a.head[a.ins_h] = f, f++, a.insert--, !(a.lookahead + a.insert < ha)););
						} while (a.lookahead < ja && 0 !== a.strm.avail_in)
					}

					function n(a, b) {
						var c = 65535;
						for (c > a.pending_buf_size - 5 && (c = a.pending_buf_size - 5);;) {
							if (a.lookahead <= 1) {
								if (m(a), 0 === a.lookahead && b === H) return sa;
								if (0 === a.lookahead) break
							}
							a.strstart += a.lookahead, a.lookahead = 0;
							var d = a.block_start + c;
							if ((0 === a.strstart || a.strstart >= d) && (a.lookahead = a.strstart - d, a.strstart = d, h(a, !1), 0 === a.strm.avail_out)) return sa;
							if (a.strstart - a.block_start >= a.w_size - ja && (h(a, !1), 0 === a.strm.avail_out)) return sa
						}
						return a.insert = 0, b === K ? (h(a, !0), 0 === a.strm.avail_out ? ua : va) : a.strstart > a.block_start && (h(a, !1), 0 === a.strm.avail_out) ? sa : sa
					}

					function o(a, b) {
						for (var c, d;;) {
							if (a.lookahead < ja) {
								if (m(a), a.lookahead < ja && b === H) return sa;
								if (0 === a.lookahead) break
							}
							if (c = 0, a.lookahead >= ha && (a.ins_h = (a.ins_h << a.hash_shift ^ a.window[a.strstart + ha - 1]) & a.hash_mask, c = a.prev[a.strstart & a.w_mask] = a.head[a.ins_h], a.head[a.ins_h] = a.strstart), 0 !== c && a.strstart - c <= a.w_size - ja && (a.match_length = l(a, c)), a.match_length >= ha)
								if (d = D._tr_tally(a, a.strstart - a.match_start, a.match_length - ha), a.lookahead -= a.match_length, a.match_length <= a.max_lazy_match && a.lookahead >= ha) {
									a.match_length--;
									do a.strstart++, a.ins_h = (a.ins_h << a.hash_shift ^ a.window[a.strstart + ha - 1]) & a.hash_mask, c = a.prev[a.strstart & a.w_mask] = a.head[a.ins_h], a.head[a.ins_h] = a.strstart; while (0 !== --a.match_length);
									a.strstart++
								} else a.strstart += a.match_length, a.match_length = 0, a.ins_h = a.window[a.strstart], a.ins_h = (a.ins_h << a.hash_shift ^ a.window[a.strstart + 1]) & a.hash_mask;
							else d = D._tr_tally(a, 0, a.window[a.strstart]), a.lookahead--, a.strstart++;
							if (d && (h(a, !1), 0 === a.strm.avail_out)) return sa
						}
						return a.insert = a.strstart < ha - 1 ? a.strstart : ha - 1, b === K ? (h(a, !0), 0 === a.strm.avail_out ? ua : va) : a.last_lit && (h(a, !1), 0 === a.strm.avail_out) ? sa : ta
					}

					function p(a, b) {
						for (var c, d, e;;) {
							if (a.lookahead < ja) {
								if (m(a), a.lookahead < ja && b === H) return sa;
								if (0 === a.lookahead) break
							}
							if (c = 0, a.lookahead >= ha && (a.ins_h = (a.ins_h << a.hash_shift ^ a.window[a.strstart + ha - 1]) & a.hash_mask, c = a.prev[a.strstart & a.w_mask] = a.head[a.ins_h], a.head[a.ins_h] = a.strstart), a.prev_length = a.match_length, a.prev_match = a.match_start, a.match_length = ha - 1, 0 !== c && a.prev_length < a.max_lazy_match && a.strstart - c <= a.w_size - ja && (a.match_length = l(a, c), a.match_length <= 5 && (a.strategy === S || a.match_length === ha && a.strstart - a.match_start > 4096) && (a.match_length = ha - 1)), a.prev_length >= ha && a.match_length <= a.prev_length) {
								e = a.strstart + a.lookahead - ha, d = D._tr_tally(a, a.strstart - 1 - a.prev_match, a.prev_length - ha), a.lookahead -= a.prev_length - 1, a.prev_length -= 2;
								do ++a.strstart <= e && (a.ins_h = (a.ins_h << a.hash_shift ^ a.window[a.strstart + ha - 1]) & a.hash_mask, c = a.prev[a.strstart & a.w_mask] = a.head[a.ins_h], a.head[a.ins_h] = a.strstart); while (0 !== --a.prev_length);
								if (a.match_available = 0, a.match_length = ha - 1, a.strstart++, d && (h(a, !1), 0 === a.strm.avail_out)) return sa
							} else if (a.match_available) {
								if (d = D._tr_tally(a, 0, a.window[a.strstart - 1]), d && h(a, !1), a.strstart++, a.lookahead--, 0 === a.strm.avail_out) return sa
							} else a.match_available = 1, a.strstart++, a.lookahead--
						}
						return a.match_available && (d = D._tr_tally(a, 0, a.window[a.strstart - 1]), a.match_available = 0), a.insert = a.strstart < ha - 1 ? a.strstart : ha - 1, b === K ? (h(a, !0), 0 === a.strm.avail_out ? ua : va) : a.last_lit && (h(a, !1), 0 === a.strm.avail_out) ? sa : ta
					}

					function q(a, b) {
						for (var c, d, e, f, g = a.window;;) {
							if (a.lookahead <= ia) {
								if (m(a), a.lookahead <= ia && b === H) return sa;
								if (0 === a.lookahead) break
							}
							if (a.match_length = 0, a.lookahead >= ha && a.strstart > 0 && (e = a.strstart - 1, d = g[e], d === g[++e] && d === g[++e] && d === g[++e])) {
								f = a.strstart + ia;
								do; while (d === g[++e] && d === g[++e] && d === g[++e] && d === g[++e] && d === g[++e] && d === g[++e] && d === g[++e] && d === g[++e] && f > e);
								a.match_length = ia - (f - e), a.match_length > a.lookahead && (a.match_length = a.lookahead)
							}
							if (a.match_length >= ha ? (c = D._tr_tally(a, 1, a.match_length - ha), a.lookahead -= a.match_length, a.strstart += a.match_length, a.match_length = 0) : (c = D._tr_tally(a, 0, a.window[a.strstart]), a.lookahead--, a.strstart++), c && (h(a, !1), 0 === a.strm.avail_out)) return sa
						}
						return a.insert = 0, b === K ? (h(a, !0), 0 === a.strm.avail_out ? ua : va) : a.last_lit && (h(a, !1), 0 === a.strm.avail_out) ? sa : ta
					}

					function r(a, b) {
						for (var c;;) {
							if (0 === a.lookahead && (m(a), 0 === a.lookahead)) {
								if (b === H) return sa;
								break
							}
							if (a.match_length = 0, c = D._tr_tally(a, 0, a.window[a.strstart]), a.lookahead--, a.strstart++, c && (h(a, !1), 0 === a.strm.avail_out)) return sa
						}
						return a.insert = 0, b === K ? (h(a, !0), 0 === a.strm.avail_out ? ua : va) : a.last_lit && (h(a, !1), 0 === a.strm.avail_out) ? sa : ta
					}

					function s(a) {
						a.window_size = 2 * a.w_size, f(a.head), a.max_lazy_match = B[a.level].max_lazy, a.good_match = B[a.level].good_length, a.nice_match = B[a.level].nice_length, a.max_chain_length = B[a.level].max_chain, a.strstart = 0, a.block_start = 0, a.lookahead = 0, a.insert = 0, a.match_length = a.prev_length = ha - 1, a.match_available = 0, a.ins_h = 0
					}

					function t() {
						this.strm = null, this.status = 0, this.pending_buf = null, this.pending_buf_size = 0, this.pending_out = 0, this.pending = 0, this.wrap = 0, this.gzhead = null, this.gzindex = 0, this.method = Y, this.last_flush = -1, this.w_size = 0, this.w_bits = 0, this.w_mask = 0, this.window = null, this.window_size = 0, this.prev = null, this.head = null, this.ins_h = 0, this.hash_size = 0, this.hash_bits = 0, this.hash_mask = 0, this.hash_shift = 0, this.block_start = 0, this.match_length = 0, this.prev_match = 0, this.match_available = 0, this.strstart = 0, this.match_start = 0, this.lookahead = 0, this.prev_length = 0, this.max_chain_length = 0, this.max_lazy_match = 0, this.level = 0, this.strategy = 0, this.good_match = 0, this.nice_match = 0, this.dyn_ltree = new C.Buf16(2 * fa), this.dyn_dtree = new C.Buf16(2 * (2 * da + 1)), this.bl_tree = new C.Buf16(2 * (2 * ea + 1)), f(this.dyn_ltree), f(this.dyn_dtree), f(this.bl_tree), this.l_desc = null, this.d_desc = null, this.bl_desc = null, this.bl_count = new C.Buf16(ga + 1), this.heap = new C.Buf16(2 * ca + 1), f(this.heap), this.heap_len = 0, this.heap_max = 0, this.depth = new C.Buf16(2 * ca + 1), f(this.depth), this.l_buf = 0, this.lit_bufsize = 0, this.last_lit = 0, this.d_buf = 0, this.opt_len = 0, this.static_len = 0, this.matches = 0, this.insert = 0, this.bi_buf = 0, this.bi_valid = 0
					}

					function u(a) {
						var b;
						return a && a.state ? (a.total_in = a.total_out = 0, a.data_type = X, b = a.state, b.pending = 0, b.pending_out = 0, b.wrap < 0 && (b.wrap = -b.wrap), b.status = b.wrap ? la : qa, a.adler = 2 === b.wrap ? 0 : 1, b.last_flush = H, D._tr_init(b), M) : d(a, O)
					}

					function v(a) {
						var b = u(a);
						return b === M && s(a.state), b
					}

					function w(a, b) {
						return a && a.state ? 2 !== a.state.wrap ? O : (a.state.gzhead = b, M) : O
					}

					function x(a, b, c, e, f, g) {
						if (!a) return O;
						var h = 1;
						if (b === R && (b = 6), 0 > e ? (h = 0, e = -e) : e > 15 && (h = 2, e -= 16), 1 > f || f > Z || c !== Y || 8 > e || e > 15 || 0 > b || b > 9 || 0 > g || g > V) return d(a, O);
						8 === e && (e = 9);
						var i = new t;
						return a.state = i, i.strm = a, i.wrap = h, i.gzhead = null, i.w_bits = e, i.w_size = 1 << i.w_bits, i.w_mask = i.w_size - 1, i.hash_bits = f + 7, i.hash_size = 1 << i.hash_bits, i.hash_mask = i.hash_size - 1, i.hash_shift = ~~((i.hash_bits + ha - 1) / ha), i.window = new C.Buf8(2 * i.w_size), i.head = new C.Buf16(i.hash_size), i.prev = new C.Buf16(i.w_size), i.lit_bufsize = 1 << f + 6, i.pending_buf_size = 4 * i.lit_bufsize, i.pending_buf = new C.Buf8(i.pending_buf_size), i.d_buf = i.lit_bufsize >> 1, i.l_buf = 3 * i.lit_bufsize, i.level = b, i.strategy = g, i.method = c, v(a)
					}

					function y(a, b) {
						return x(a, b, Y, $, _, W)
					}

					function z(a, b) {
						var c, h, k, l;
						if (!a || !a.state || b > L || 0 > b) return a ? d(a, O) : O;
						if (h = a.state, !a.output || !a.input && 0 !== a.avail_in || h.status === ra && b !== K) return d(a, 0 === a.avail_out ? Q : O);
						if (h.strm = a, c = h.last_flush, h.last_flush = b, h.status === la)
							if (2 === h.wrap) a.adler = 0, i(h, 31), i(h, 139), i(h, 8), h.gzhead ? (i(h, (h.gzhead.text ? 1 : 0) + (h.gzhead.hcrc ? 2 : 0) + (h.gzhead.extra ? 4 : 0) + (h.gzhead.name ? 8 : 0) + (h.gzhead.comment ? 16 : 0)), i(h, 255 & h.gzhead.time), i(h, h.gzhead.time >> 8 & 255), i(h, h.gzhead.time >> 16 & 255), i(h, h.gzhead.time >> 24 & 255), i(h, 9 === h.level ? 2 : h.strategy >= T || h.level < 2 ? 4 : 0), i(h, 255 & h.gzhead.os), h.gzhead.extra && h.gzhead.extra.length && (i(h, 255 & h.gzhead.extra.length), i(h, h.gzhead.extra.length >> 8 & 255)), h.gzhead.hcrc && (a.adler = F(a.adler, h.pending_buf, h.pending, 0)), h.gzindex = 0, h.status = ma) : (i(h, 0), i(h, 0), i(h, 0), i(h, 0), i(h, 0), i(h, 9 === h.level ? 2 : h.strategy >= T || h.level < 2 ? 4 : 0), i(h, wa), h.status = qa);
							else {
								var m = Y + (h.w_bits - 8 << 4) << 8,
									n = -1;
								n = h.strategy >= T || h.level < 2 ? 0 : h.level < 6 ? 1 : 6 === h.level ? 2 : 3, m |= n << 6, 0 !== h.strstart && (m |= ka), m += 31 - m % 31, h.status = qa, j(h, m), 0 !== h.strstart && (j(h, a.adler >>> 16), j(h, 65535 & a.adler)), a.adler = 1
							}
						if (h.status === ma)
							if (h.gzhead.extra) {
								for (k = h.pending; h.gzindex < (65535 & h.gzhead.extra.length) && (h.pending !== h.pending_buf_size || (h.gzhead.hcrc && h.pending > k && (a.adler = F(a.adler, h.pending_buf, h.pending - k, k)), g(a), k = h.pending, h.pending !== h.pending_buf_size));) i(h, 255 & h.gzhead.extra[h.gzindex]), h.gzindex++;
								h.gzhead.hcrc && h.pending > k && (a.adler = F(a.adler, h.pending_buf, h.pending - k, k)), h.gzindex === h.gzhead.extra.length && (h.gzindex = 0, h.status = na)
							} else h.status = na;
						if (h.status === na)
							if (h.gzhead.name) {
								k = h.pending;
								do {
									if (h.pending === h.pending_buf_size && (h.gzhead.hcrc && h.pending > k && (a.adler = F(a.adler, h.pending_buf, h.pending - k, k)), g(a), k = h.pending, h.pending === h.pending_buf_size)) {
										l = 1;
										break
									}
									l = h.gzindex < h.gzhead.name.length ? 255 & h.gzhead.name.charCodeAt(h.gzindex++) : 0, i(h, l)
								} while (0 !== l);
								h.gzhead.hcrc && h.pending > k && (a.adler = F(a.adler, h.pending_buf, h.pending - k, k)), 0 === l && (h.gzindex = 0, h.status = oa)
							} else h.status = oa;
						if (h.status === oa)
							if (h.gzhead.comment) {
								k = h.pending;
								do {
									if (h.pending === h.pending_buf_size && (h.gzhead.hcrc && h.pending > k && (a.adler = F(a.adler, h.pending_buf, h.pending - k, k)), g(a), k = h.pending, h.pending === h.pending_buf_size)) {
										l = 1;
										break
									}
									l = h.gzindex < h.gzhead.comment.length ? 255 & h.gzhead.comment.charCodeAt(h.gzindex++) : 0, i(h, l)
								} while (0 !== l);
								h.gzhead.hcrc && h.pending > k && (a.adler = F(a.adler, h.pending_buf, h.pending - k, k)), 0 === l && (h.status = pa)
							} else h.status = pa;
						if (h.status === pa && (h.gzhead.hcrc ? (h.pending + 2 > h.pending_buf_size && g(a), h.pending + 2 <= h.pending_buf_size && (i(h, 255 & a.adler), i(h, a.adler >> 8 & 255), a.adler = 0, h.status = qa)) : h.status = qa), 0 !== h.pending) {
							if (g(a), 0 === a.avail_out) return h.last_flush = -1, M
						} else if (0 === a.avail_in && e(b) <= e(c) && b !== K) return d(a, Q);
						if (h.status === ra && 0 !== a.avail_in) return d(a, Q);
						if (0 !== a.avail_in || 0 !== h.lookahead || b !== H && h.status !== ra) {
							var o = h.strategy === T ? r(h, b) : h.strategy === U ? q(h, b) : B[h.level].func(h, b);
							if ((o === ua || o === va) && (h.status = ra), o === sa || o === ua) return 0 === a.avail_out && (h.last_flush = -1), M;
							if (o === ta && (b === I ? D._tr_align(h) : b !== L && (D._tr_stored_block(h, 0, 0, !1), b === J && (f(h.head), 0 === h.lookahead && (h.strstart = 0, h.block_start = 0, h.insert = 0))), g(a), 0 === a.avail_out)) return h.last_flush = -1, M
						}
						return b !== K ? M : h.wrap <= 0 ? N : (2 === h.wrap ? (i(h, 255 & a.adler), i(h, a.adler >> 8 & 255), i(h, a.adler >> 16 & 255), i(h, a.adler >> 24 & 255), i(h, 255 & a.total_in), i(h, a.total_in >> 8 & 255), i(h, a.total_in >> 16 & 255), i(h, a.total_in >> 24 & 255)) : (j(h, a.adler >>> 16), j(h, 65535 & a.adler)), g(a), h.wrap > 0 && (h.wrap = -h.wrap), 0 !== h.pending ? M : N)
					}

					function A(a) {
						var b;
						return a && a.state ? (b = a.state.status, b !== la && b !== ma && b !== na && b !== oa && b !== pa && b !== qa && b !== ra ? d(a, O) : (a.state = null, b === qa ? d(a, P) : M)) : O
					}
					var B, C = a("../utils/common"),
						D = a("./trees"),
						E = a("./adler32"),
						F = a("./crc32"),
						G = a("./messages"),
						H = 0,
						I = 1,
						J = 3,
						K = 4,
						L = 5,
						M = 0,
						N = 1,
						O = -2,
						P = -3,
						Q = -5,
						R = -1,
						S = 1,
						T = 2,
						U = 3,
						V = 4,
						W = 0,
						X = 2,
						Y = 8,
						Z = 9,
						$ = 15,
						_ = 8,
						aa = 29,
						ba = 256,
						ca = ba + 1 + aa,
						da = 30,
						ea = 19,
						fa = 2 * ca + 1,
						ga = 15,
						ha = 3,
						ia = 258,
						ja = ia + ha + 1,
						ka = 32,
						la = 42,
						ma = 69,
						na = 73,
						oa = 91,
						pa = 103,
						qa = 113,
						ra = 666,
						sa = 1,
						ta = 2,
						ua = 3,
						va = 4,
						wa = 3,
						xa = function(a, b, c, d, e) {
							this.good_length = a, this.max_lazy = b, this.nice_length = c, this.max_chain = d, this.func = e
						};
					B = [new xa(0, 0, 0, 0, n), new xa(4, 4, 8, 4, o), new xa(4, 5, 16, 8, o), new xa(4, 6, 32, 32, o), new xa(4, 4, 16, 16, p), new xa(8, 16, 32, 32, p), new xa(8, 16, 128, 128, p), new xa(8, 32, 128, 256, p), new xa(32, 128, 258, 1024, p), new xa(32, 258, 258, 4096, p)], c.deflateInit = y, c.deflateInit2 = x, c.deflateReset = v, c.deflateResetKeep = u, c.deflateSetHeader = w, c.deflate = z, c.deflateEnd = A, c.deflateInfo = "pako deflate (from Nodeca project)"
				}, {
					"../utils/common": 27,
					"./adler32": 29,
					"./crc32": 31,
					"./messages": 37,
					"./trees": 38
				}],
				33: [function(a, b) {
					"use strict";

					function c() {
						this.text = 0, this.time = 0, this.xflags = 0, this.os = 0, this.extra = null, this.extra_len = 0, this.name = "", this.comment = "", this.hcrc = 0, this.done = !1
					}
					b.exports = c
				}, {}],
				34: [function(a, b) {
					"use strict";
					var c = 30,
						d = 12;
					b.exports = function(a, b) {
						var e, f, g, h, i, j, k, l, m, n, o, p, q, r, s, t, u, v, w, x, y, z, A, B, C;
						e = a.state, f = a.next_in, B = a.input, g = f + (a.avail_in - 5), h = a.next_out, C = a.output, i = h - (b - a.avail_out), j = h + (a.avail_out - 257), k = e.dmax, l = e.wsize, m = e.whave, n = e.wnext, o = e.window, p = e.hold, q = e.bits, r = e.lencode, s = e.distcode, t = (1 << e.lenbits) - 1, u = (1 << e.distbits) - 1;
						a: do {
							15 > q && (p += B[f++] << q, q += 8, p += B[f++] << q, q += 8), v = r[p & t];
							b: for (;;) {
								if (w = v >>> 24, p >>>= w, q -= w, w = v >>> 16 & 255, 0 === w) C[h++] = 65535 & v;
								else {
									if (!(16 & w)) {
										if (0 === (64 & w)) {
											v = r[(65535 & v) + (p & (1 << w) - 1)];
											continue b
										}
										if (32 & w) {
											e.mode = d;
											break a
										}
										a.msg = "invalid literal/length code", e.mode = c;
										break a
									}
									x = 65535 & v, w &= 15, w && (w > q && (p += B[f++] << q, q += 8), x += p & (1 << w) - 1, p >>>= w, q -= w), 15 > q && (p += B[f++] << q, q += 8, p += B[f++] << q, q += 8), v = s[p & u];
									c: for (;;) {
										if (w = v >>> 24, p >>>= w, q -= w, w = v >>> 16 & 255, !(16 & w)) {
											if (0 === (64 & w)) {
												v = s[(65535 & v) + (p & (1 << w) - 1)];
												continue c
											}
											a.msg = "invalid distance code", e.mode = c;
											break a
										}
										if (y = 65535 & v, w &= 15, w > q && (p += B[f++] << q, q += 8, w > q && (p += B[f++] << q, q += 8)), y += p & (1 << w) - 1, y > k) {
											a.msg = "invalid distance too far back", e.mode = c;
											break a
										}
										if (p >>>= w, q -= w, w = h - i, y > w) {
											if (w = y - w, w > m && e.sane) {
												a.msg = "invalid distance too far back", e.mode = c;
												break a
											}
											if (z = 0, A = o, 0 === n) {
												if (z += l - w, x > w) {
													x -= w;
													do C[h++] = o[z++]; while (--w);
													z = h - y, A = C
												}
											} else if (w > n) {
												if (z += l + n - w, w -= n, x > w) {
													x -= w;
													do C[h++] = o[z++]; while (--w);
													if (z = 0, x > n) {
														w = n, x -= w;
														do C[h++] = o[z++]; while (--w);
														z = h - y, A = C
													}
												}
											} else if (z += n - w, x > w) {
												x -= w;
												do C[h++] = o[z++]; while (--w);
												z = h - y, A = C
											}
											for (; x > 2;) C[h++] = A[z++], C[h++] = A[z++], C[h++] = A[z++], x -= 3;
											x && (C[h++] = A[z++], x > 1 && (C[h++] = A[z++]))
										} else {
											z = h - y;
											do C[h++] = C[z++], C[h++] = C[z++], C[h++] = C[z++], x -= 3; while (x > 2);
											x && (C[h++] = C[z++], x > 1 && (C[h++] = C[z++]))
										}
										break
									}
								}
								break
							}
						} while (g > f && j > h);
						x = q >> 3, f -= x, q -= x << 3, p &= (1 << q) - 1, a.next_in = f, a.next_out = h, a.avail_in = g > f ? 5 + (g - f) : 5 - (f - g), a.avail_out = j > h ? 257 + (j - h) : 257 - (h - j), e.hold = p, e.bits = q
					}
				}, {}],
				35: [function(a, b, c) {
					"use strict";

					function d(a) {
						return (a >>> 24 & 255) + (a >>> 8 & 65280) + ((65280 & a) << 8) + ((255 & a) << 24)
					}

					function e() {
						this.mode = 0, this.last = !1, this.wrap = 0, this.havedict = !1, this.flags = 0, this.dmax = 0, this.check = 0, this.total = 0, this.head = null, this.wbits = 0, this.wsize = 0, this.whave = 0, this.wnext = 0, this.window = null, this.hold = 0, this.bits = 0, this.length = 0, this.offset = 0, this.extra = 0, this.lencode = null, this.distcode = null, this.lenbits = 0, this.distbits = 0, this.ncode = 0, this.nlen = 0, this.ndist = 0, this.have = 0, this.next = null, this.lens = new r.Buf16(320), this.work = new r.Buf16(288), this.lendyn = null, this.distdyn = null, this.sane = 0, this.back = 0, this.was = 0
					}

					function f(a) {
						var b;
						return a && a.state ? (b = a.state, a.total_in = a.total_out = b.total = 0, a.msg = "", b.wrap && (a.adler = 1 & b.wrap), b.mode = K, b.last = 0, b.havedict = 0, b.dmax = 32768, b.head = null, b.hold = 0, b.bits = 0, b.lencode = b.lendyn = new r.Buf32(oa), b.distcode = b.distdyn = new r.Buf32(pa), b.sane = 1, b.back = -1, C) : F
					}

					function g(a) {
						var b;
						return a && a.state ? (b = a.state, b.wsize = 0, b.whave = 0, b.wnext = 0, f(a)) : F
					}

					function h(a, b) {
						var c, d;
						return a && a.state ? (d = a.state, 0 > b ? (c = 0, b = -b) : (c = (b >> 4) + 1, 48 > b && (b &= 15)), b && (8 > b || b > 15) ? F : (null !== d.window && d.wbits !== b && (d.window = null), d.wrap = c, d.wbits = b, g(a))) : F
					}

					function i(a, b) {
						var c, d;
						return a ? (d = new e, a.state = d, d.window = null, c = h(a, b), c !== C && (a.state = null), c) : F
					}

					function j(a) {
						return i(a, ra)
					}

					function k(a) {
						if (sa) {
							var b;
							for (p = new r.Buf32(512), q = new r.Buf32(32), b = 0; 144 > b;) a.lens[b++] = 8;
							for (; 256 > b;) a.lens[b++] = 9;
							for (; 280 > b;) a.lens[b++] = 7;
							for (; 288 > b;) a.lens[b++] = 8;
							for (v(x, a.lens, 0, 288, p, 0, a.work, {
									bits: 9
								}), b = 0; 32 > b;) a.lens[b++] = 5;
							v(y, a.lens, 0, 32, q, 0, a.work, {
								bits: 5
							}), sa = !1
						}
						a.lencode = p, a.lenbits = 9, a.distcode = q, a.distbits = 5
					}

					function l(a, b, c, d) {
						var e, f = a.state;
						return null === f.window && (f.wsize = 1 << f.wbits, f.wnext = 0, f.whave = 0, f.window = new r.Buf8(f.wsize)), d >= f.wsize ? (r.arraySet(f.window, b, c - f.wsize, f.wsize, 0), f.wnext = 0, f.whave = f.wsize) : (e = f.wsize - f.wnext, e > d && (e = d), r.arraySet(f.window, b, c - d, e, f.wnext), d -= e, d ? (r.arraySet(f.window, b, c - d, d, 0), f.wnext = d, f.whave = f.wsize) : (f.wnext += e, f.wnext === f.wsize && (f.wnext = 0), f.whave < f.wsize && (f.whave += e))), 0
					}

					function m(a, b) {
						var c, e, f, g, h, i, j, m, n, o, p, q, oa, pa, qa, ra, sa, ta, ua, va, wa, xa, ya, za, Aa = 0,
							Ba = new r.Buf8(4),
							Ca = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15];
						if (!a || !a.state || !a.output || !a.input && 0 !== a.avail_in) return F;
						c = a.state, c.mode === V && (c.mode = W), h = a.next_out, f = a.output, j = a.avail_out, g = a.next_in, e = a.input, i = a.avail_in, m = c.hold, n = c.bits, o = i, p = j, xa = C;
						a: for (;;) switch (c.mode) {
							case K:
								if (0 === c.wrap) {
									c.mode = W;
									break
								}
								for (; 16 > n;) {
									if (0 === i) break a;
									i--, m += e[g++] << n, n += 8
								}
								if (2 & c.wrap && 35615 === m) {
									c.check = 0, Ba[0] = 255 & m, Ba[1] = m >>> 8 & 255, c.check = t(c.check, Ba, 2, 0), m = 0, n = 0, c.mode = L;
									break
								}
								if (c.flags = 0, c.head && (c.head.done = !1), !(1 & c.wrap) || (((255 & m) << 8) + (m >> 8)) % 31) {
									a.msg = "incorrect header check", c.mode = la;
									break
								}
								if ((15 & m) !== J) {
									a.msg = "unknown compression method", c.mode = la;
									break
								}
								if (m >>>= 4, n -= 4, wa = (15 & m) + 8, 0 === c.wbits) c.wbits = wa;
								else if (wa > c.wbits) {
									a.msg = "invalid window size", c.mode = la;
									break
								}
								c.dmax = 1 << wa, a.adler = c.check = 1, c.mode = 512 & m ? T : V, m = 0, n = 0;
								break;
							case L:
								for (; 16 > n;) {
									if (0 === i) break a;
									i--, m += e[g++] << n, n += 8
								}
								if (c.flags = m, (255 & c.flags) !== J) {
									a.msg = "unknown compression method", c.mode = la;
									break
								}
								if (57344 & c.flags) {
									a.msg = "unknown header flags set", c.mode = la;
									break
								}
								c.head && (c.head.text = m >> 8 & 1), 512 & c.flags && (Ba[0] = 255 & m, Ba[1] = m >>> 8 & 255, c.check = t(c.check, Ba, 2, 0)), m = 0, n = 0, c.mode = M;
							case M:
								for (; 32 > n;) {
									if (0 === i) break a;
									i--, m += e[g++] << n, n += 8
								}
								c.head && (c.head.time = m), 512 & c.flags && (Ba[0] = 255 & m, Ba[1] = m >>> 8 & 255, Ba[2] = m >>> 16 & 255, Ba[3] = m >>> 24 & 255, c.check = t(c.check, Ba, 4, 0)), m = 0, n = 0, c.mode = N;
							case N:
								for (; 16 > n;) {
									if (0 === i) break a;
									i--, m += e[g++] << n, n += 8
								}
								c.head && (c.head.xflags = 255 & m, c.head.os = m >> 8), 512 & c.flags && (Ba[0] = 255 & m, Ba[1] = m >>> 8 & 255, c.check = t(c.check, Ba, 2, 0)), m = 0, n = 0, c.mode = O;
							case O:
								if (1024 & c.flags) {
									for (; 16 > n;) {
										if (0 === i) break a;
										i--, m += e[g++] << n, n += 8
									}
									c.length = m, c.head && (c.head.extra_len = m), 512 & c.flags && (Ba[0] = 255 & m, Ba[1] = m >>> 8 & 255, c.check = t(c.check, Ba, 2, 0)), m = 0, n = 0
								} else c.head && (c.head.extra = null);
								c.mode = P;
							case P:
								if (1024 & c.flags && (q = c.length, q > i && (q = i), q && (c.head && (wa = c.head.extra_len - c.length, c.head.extra || (c.head.extra = new Array(c.head.extra_len)), r.arraySet(c.head.extra, e, g, q, wa)), 512 & c.flags && (c.check = t(c.check, e, q, g)), i -= q, g += q, c.length -= q), c.length)) break a;
								c.length = 0, c.mode = Q;
							case Q:
								if (2048 & c.flags) {
									if (0 === i) break a;
									q = 0;
									do wa = e[g + q++], c.head && wa && c.length < 65536 && (c.head.name += String.fromCharCode(wa)); while (wa && i > q);
									if (512 & c.flags && (c.check = t(c.check, e, q, g)), i -= q, g += q, wa) break a
								} else c.head && (c.head.name = null);
								c.length = 0, c.mode = R;
							case R:
								if (4096 & c.flags) {
									if (0 === i) break a;
									q = 0;
									do wa = e[g + q++], c.head && wa && c.length < 65536 && (c.head.comment += String.fromCharCode(wa)); while (wa && i > q);
									if (512 & c.flags && (c.check = t(c.check, e, q, g)), i -= q, g += q, wa) break a
								} else c.head && (c.head.comment = null);
								c.mode = S;
							case S:
								if (512 & c.flags) {
									for (; 16 > n;) {
										if (0 === i) break a;
										i--, m += e[g++] << n, n += 8
									}
									if (m !== (65535 & c.check)) {
										a.msg = "header crc mismatch", c.mode = la;
										break
									}
									m = 0, n = 0
								}
								c.head && (c.head.hcrc = c.flags >> 9 & 1, c.head.done = !0), a.adler = c.check = 0, c.mode = V;
								break;
							case T:
								for (; 32 > n;) {
									if (0 === i) break a;
									i--, m += e[g++] << n, n += 8
								}
								a.adler = c.check = d(m), m = 0, n = 0, c.mode = U;
							case U:
								if (0 === c.havedict) return a.next_out = h, a.avail_out = j, a.next_in = g, a.avail_in = i, c.hold = m, c.bits = n, E;
								a.adler = c.check = 1, c.mode = V;
							case V:
								if (b === A || b === B) break a;
							case W:
								if (c.last) {
									m >>>= 7 & n, n -= 7 & n, c.mode = ia;
									break
								}
								for (; 3 > n;) {
									if (0 === i) break a;
									i--, m += e[g++] << n, n += 8
								}
								switch (c.last = 1 & m, m >>>= 1, n -= 1, 3 & m) {
									case 0:
										c.mode = X;
										break;
									case 1:
										if (k(c), c.mode = ba, b === B) {
											m >>>= 2, n -= 2;
											break a
										}
										break;
									case 2:
										c.mode = $;
										break;
									case 3:
										a.msg = "invalid block type", c.mode = la
								}
								m >>>= 2, n -= 2;
								break;
							case X:
								for (m >>>= 7 & n, n -= 7 & n; 32 > n;) {
									if (0 === i) break a;
									i--, m += e[g++] << n, n += 8
								}
								if ((65535 & m) !== (m >>> 16 ^ 65535)) {
									a.msg = "invalid stored block lengths", c.mode = la;
									break
								}
								if (c.length = 65535 & m, m = 0, n = 0, c.mode = Y, b === B) break a;
							case Y:
								c.mode = Z;
							case Z:
								if (q = c.length) {
									if (q > i && (q = i), q > j && (q = j), 0 === q) break a;
									r.arraySet(f, e, g, q, h), i -= q, g += q, j -= q, h += q, c.length -= q;
									break
								}
								c.mode = V;
								break;
							case $:
								for (; 14 > n;) {
									if (0 === i) break a;
									i--, m += e[g++] << n, n += 8
								}
								if (c.nlen = (31 & m) + 257, m >>>= 5, n -= 5, c.ndist = (31 & m) + 1, m >>>= 5, n -= 5, c.ncode = (15 & m) + 4, m >>>= 4, n -= 4, c.nlen > 286 || c.ndist > 30) {
									a.msg = "too many length or distance symbols", c.mode = la;
									break
								}
								c.have = 0, c.mode = _;
							case _:
								for (; c.have < c.ncode;) {
									for (; 3 > n;) {
										if (0 === i) break a;
										i--, m += e[g++] << n, n += 8
									}
									c.lens[Ca[c.have++]] = 7 & m, m >>>= 3, n -= 3
								}
								for (; c.have < 19;) c.lens[Ca[c.have++]] = 0;
								if (c.lencode = c.lendyn, c.lenbits = 7, ya = {
										bits: c.lenbits
									}, xa = v(w, c.lens, 0, 19, c.lencode, 0, c.work, ya), c.lenbits = ya.bits, xa) {
									a.msg = "invalid code lengths set", c.mode = la;
									break
								}
								c.have = 0, c.mode = aa;
							case aa:
								for (; c.have < c.nlen + c.ndist;) {
									for (; Aa = c.lencode[m & (1 << c.lenbits) - 1], qa = Aa >>> 24, ra = Aa >>> 16 & 255, sa = 65535 & Aa, !(n >= qa);) {
										if (0 === i) break a;
										i--, m += e[g++] << n, n += 8
									}
									if (16 > sa) m >>>= qa, n -= qa, c.lens[c.have++] = sa;
									else {
										if (16 === sa) {
											for (za = qa + 2; za > n;) {
												if (0 === i) break a;
												i--, m += e[g++] << n, n += 8
											}
											if (m >>>= qa, n -= qa, 0 === c.have) {
												a.msg = "invalid bit length repeat", c.mode = la;
												break
											}
											wa = c.lens[c.have - 1], q = 3 + (3 & m), m >>>= 2, n -= 2
										} else if (17 === sa) {
											for (za = qa + 3; za > n;) {
												if (0 === i) break a;
												i--, m += e[g++] << n, n += 8
											}
											m >>>= qa, n -= qa, wa = 0, q = 3 + (7 & m), m >>>= 3, n -= 3
										} else {
											for (za = qa + 7; za > n;) {
												if (0 === i) break a;
												i--, m += e[g++] << n, n += 8
											}
											m >>>= qa, n -= qa, wa = 0, q = 11 + (127 & m), m >>>= 7, n -= 7
										}
										if (c.have + q > c.nlen + c.ndist) {
											a.msg = "invalid bit length repeat", c.mode = la;
											break
										}
										for (; q--;) c.lens[c.have++] = wa
									}
								}
								if (c.mode === la) break;
								if (0 === c.lens[256]) {
									a.msg = "invalid code -- missing end-of-block", c.mode = la;
									break
								}
								if (c.lenbits = 9, ya = {
										bits: c.lenbits
									}, xa = v(x, c.lens, 0, c.nlen, c.lencode, 0, c.work, ya), c.lenbits = ya.bits, xa) {
									a.msg = "invalid literal/lengths set", c.mode = la;
									break
								}
								if (c.distbits = 6, c.distcode = c.distdyn, ya = {
										bits: c.distbits
									}, xa = v(y, c.lens, c.nlen, c.ndist, c.distcode, 0, c.work, ya), c.distbits = ya.bits, xa) {
									a.msg = "invalid distances set", c.mode = la;
									break
								}
								if (c.mode = ba, b === B) break a;
							case ba:
								c.mode = ca;
							case ca:
								if (i >= 6 && j >= 258) {
									a.next_out = h, a.avail_out = j, a.next_in = g, a.avail_in = i, c.hold = m, c.bits = n, u(a, p), h = a.next_out, f = a.output, j = a.avail_out, g = a.next_in, e = a.input, i = a.avail_in, m = c.hold, n = c.bits, c.mode === V && (c.back = -1);
									break
								}
								for (c.back = 0; Aa = c.lencode[m & (1 << c.lenbits) - 1], qa = Aa >>> 24, ra = Aa >>> 16 & 255, sa = 65535 & Aa, !(n >= qa);) {
									if (0 === i) break a;
									i--, m += e[g++] << n, n += 8
								}
								if (ra && 0 === (240 & ra)) {
									for (ta = qa, ua = ra, va = sa; Aa = c.lencode[va + ((m & (1 << ta + ua) - 1) >> ta)], qa = Aa >>> 24, ra = Aa >>> 16 & 255, sa = 65535 & Aa, !(n >= ta + qa);) {
										if (0 === i) break a;
										i--, m += e[g++] << n, n += 8
									}
									m >>>= ta, n -= ta, c.back += ta
								}
								if (m >>>= qa, n -= qa, c.back += qa, c.length = sa, 0 === ra) {
									c.mode = ha;
									break
								}
								if (32 & ra) {
									c.back = -1, c.mode = V;
									break
								}
								if (64 & ra) {
									a.msg = "invalid literal/length code", c.mode = la;
									break
								}
								c.extra = 15 & ra, c.mode = da;
							case da:
								if (c.extra) {
									for (za = c.extra; za > n;) {
										if (0 === i) break a;
										i--, m += e[g++] << n, n += 8
									}
									c.length += m & (1 << c.extra) - 1, m >>>= c.extra, n -= c.extra, c.back += c.extra
								}
								c.was = c.length, c.mode = ea;
							case ea:
								for (; Aa = c.distcode[m & (1 << c.distbits) - 1], qa = Aa >>> 24, ra = Aa >>> 16 & 255, sa = 65535 & Aa, !(n >= qa);) {
									if (0 === i) break a;
									i--, m += e[g++] << n, n += 8
								}
								if (0 === (240 & ra)) {
									for (ta = qa, ua = ra, va = sa; Aa = c.distcode[va + ((m & (1 << ta + ua) - 1) >> ta)], qa = Aa >>> 24, ra = Aa >>> 16 & 255, sa = 65535 & Aa, !(n >= ta + qa);) {
										if (0 === i) break a;
										i--, m += e[g++] << n, n += 8
									}
									m >>>= ta, n -= ta, c.back += ta
								}
								if (m >>>= qa, n -= qa, c.back += qa, 64 & ra) {
									a.msg = "invalid distance code", c.mode = la;
									break
								}
								c.offset = sa, c.extra = 15 & ra, c.mode = fa;
							case fa:
								if (c.extra) {
									for (za = c.extra; za > n;) {
										if (0 === i) break a;
										i--, m += e[g++] << n, n += 8
									}
									c.offset += m & (1 << c.extra) - 1, m >>>= c.extra, n -= c.extra, c.back += c.extra
								}
								if (c.offset > c.dmax) {
									a.msg = "invalid distance too far back", c.mode = la;
									break
								}
								c.mode = ga;
							case ga:
								if (0 === j) break a;
								if (q = p - j, c.offset > q) {
									if (q = c.offset - q, q > c.whave && c.sane) {
										a.msg = "invalid distance too far back", c.mode = la;
										break
									}
									q > c.wnext ? (q -= c.wnext, oa = c.wsize - q) : oa = c.wnext - q, q > c.length && (q = c.length), pa = c.window
								} else pa = f, oa = h - c.offset, q = c.length;
								q > j && (q = j), j -= q, c.length -= q;
								do f[h++] = pa[oa++]; while (--q);
								0 === c.length && (c.mode = ca);
								break;
							case ha:
								if (0 === j) break a;
								f[h++] = c.length, j--, c.mode = ca;
								break;
							case ia:
								if (c.wrap) {
									for (; 32 > n;) {
										if (0 === i) break a;
										i--, m |= e[g++] << n, n += 8
									}
									if (p -= j, a.total_out += p, c.total += p, p && (a.adler = c.check = c.flags ? t(c.check, f, p, h - p) : s(c.check, f, p, h - p)), p = j, (c.flags ? m : d(m)) !== c.check) {
										a.msg = "incorrect data check", c.mode = la;
										break
									}
									m = 0, n = 0
								}
								c.mode = ja;
							case ja:
								if (c.wrap && c.flags) {
									for (; 32 > n;) {
										if (0 === i) break a;
										i--, m += e[g++] << n, n += 8
									}
									if (m !== (4294967295 & c.total)) {
										a.msg = "incorrect length check", c.mode = la;
										break
									}
									m = 0, n = 0
								}
								c.mode = ka;
							case ka:
								xa = D;
								break a;
							case la:
								xa = G;
								break a;
							case ma:
								return H;
							case na:
							default:
								return F
						}
						return a.next_out = h, a.avail_out = j, a.next_in = g, a.avail_in = i, c.hold = m, c.bits = n, (c.wsize || p !== a.avail_out && c.mode < la && (c.mode < ia || b !== z)) && l(a, a.output, a.next_out, p - a.avail_out) ? (c.mode = ma, H) : (o -= a.avail_in, p -= a.avail_out, a.total_in += o, a.total_out += p, c.total += p, c.wrap && p && (a.adler = c.check = c.flags ? t(c.check, f, p, a.next_out - p) : s(c.check, f, p, a.next_out - p)), a.data_type = c.bits + (c.last ? 64 : 0) + (c.mode === V ? 128 : 0) + (c.mode === ba || c.mode === Y ? 256 : 0), (0 === o && 0 === p || b === z) && xa === C && (xa = I), xa)
					}

					function n(a) {
						if (!a || !a.state) return F;
						var b = a.state;
						return b.window && (b.window = null), a.state = null, C
					}

					function o(a, b) {
						var c;
						return a && a.state ? (c = a.state, 0 === (2 & c.wrap) ? F : (c.head = b, b.done = !1, C)) : F
					}
					var p, q, r = a("../utils/common"),
						s = a("./adler32"),
						t = a("./crc32"),
						u = a("./inffast"),
						v = a("./inftrees"),
						w = 0,
						x = 1,
						y = 2,
						z = 4,
						A = 5,
						B = 6,
						C = 0,
						D = 1,
						E = 2,
						F = -2,
						G = -3,
						H = -4,
						I = -5,
						J = 8,
						K = 1,
						L = 2,
						M = 3,
						N = 4,
						O = 5,
						P = 6,
						Q = 7,
						R = 8,
						S = 9,
						T = 10,
						U = 11,
						V = 12,
						W = 13,
						X = 14,
						Y = 15,
						Z = 16,
						$ = 17,
						_ = 18,
						aa = 19,
						ba = 20,
						ca = 21,
						da = 22,
						ea = 23,
						fa = 24,
						ga = 25,
						ha = 26,
						ia = 27,
						ja = 28,
						ka = 29,
						la = 30,
						ma = 31,
						na = 32,
						oa = 852,
						pa = 592,
						qa = 15,
						ra = qa,
						sa = !0;
					c.inflateReset = g, c.inflateReset2 = h, c.inflateResetKeep = f, c.inflateInit = j, c.inflateInit2 = i, c.inflate = m, c.inflateEnd = n, c.inflateGetHeader = o, c.inflateInfo = "pako inflate (from Nodeca project)"
				}, {
					"../utils/common": 27,
					"./adler32": 29,
					"./crc32": 31,
					"./inffast": 34,
					"./inftrees": 36
				}],
				36: [function(a, b) {
					"use strict";
					var c = a("../utils/common"),
						d = 15,
						e = 852,
						f = 592,
						g = 0,
						h = 1,
						i = 2,
						j = [3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 15, 17, 19, 23, 27, 31, 35, 43, 51, 59, 67, 83, 99, 115, 131, 163, 195, 227, 258, 0, 0],
						k = [16, 16, 16, 16, 16, 16, 16, 16, 17, 17, 17, 17, 18, 18, 18, 18, 19, 19, 19, 19, 20, 20, 20, 20, 21, 21, 21, 21, 16, 72, 78],
						l = [1, 2, 3, 4, 5, 7, 9, 13, 17, 25, 33, 49, 65, 97, 129, 193, 257, 385, 513, 769, 1025, 1537, 2049, 3073, 4097, 6145, 8193, 12289, 16385, 24577, 0, 0],
						m = [16, 16, 16, 16, 17, 17, 18, 18, 19, 19, 20, 20, 21, 21, 22, 22, 23, 23, 24, 24, 25, 25, 26, 26, 27, 27, 28, 28, 29, 29, 64, 64];
					b.exports = function(a, b, n, o, p, q, r, s) {
						var t, u, v, w, x, y, z, A, B, C = s.bits,
							D = 0,
							E = 0,
							F = 0,
							G = 0,
							H = 0,
							I = 0,
							J = 0,
							K = 0,
							L = 0,
							M = 0,
							N = null,
							O = 0,
							P = new c.Buf16(d + 1),
							Q = new c.Buf16(d + 1),
							R = null,
							S = 0;
						for (D = 0; d >= D; D++) P[D] = 0;
						for (E = 0; o > E; E++) P[b[n + E]]++;
						for (H = C, G = d; G >= 1 && 0 === P[G]; G--);
						if (H > G && (H = G), 0 === G) return p[q++] = 20971520, p[q++] = 20971520, s.bits = 1, 0;
						for (F = 1; G > F && 0 === P[F]; F++);
						for (F > H && (H = F), K = 1, D = 1; d >= D; D++)
							if (K <<= 1, K -= P[D], 0 > K) return -1;
						if (K > 0 && (a === g || 1 !== G)) return -1;
						for (Q[1] = 0, D = 1; d > D; D++) Q[D + 1] = Q[D] + P[D];
						for (E = 0; o > E; E++) 0 !== b[n + E] && (r[Q[b[n + E]]++] = E);
						if (a === g ? (N = R = r, y = 19) : a === h ? (N = j, O -= 257, R = k, S -= 257, y = 256) : (N = l, R = m, y = -1), M = 0, E = 0, D = F, x = q, I = H, J = 0, v = -1, L = 1 << H, w = L - 1, a === h && L > e || a === i && L > f) return 1;
						for (var T = 0;;) {
							T++, z = D - J, r[E] < y ? (A = 0, B = r[E]) : r[E] > y ? (A = R[S + r[E]], B = N[O + r[E]]) : (A = 96, B = 0), t = 1 << D - J, u = 1 << I, F = u;
							do u -= t, p[x + (M >> J) + u] = z << 24 | A << 16 | B | 0; while (0 !== u);
							for (t = 1 << D - 1; M & t;) t >>= 1;
							if (0 !== t ? (M &= t - 1, M += t) : M = 0, E++, 0 === --P[D]) {
								if (D === G) break;
								D = b[n + r[E]]
							}
							if (D > H && (M & w) !== v) {
								for (0 === J && (J = H), x += F, I = D - J, K = 1 << I; G > I + J && (K -= P[I + J], !(0 >= K));) I++, K <<= 1;
								if (L += 1 << I, a === h && L > e || a === i && L > f) return 1;
								v = M & w, p[v] = H << 24 | I << 16 | x - q | 0
							}
						}
						return 0 !== M && (p[x + M] = D - J << 24 | 64 << 16 | 0), s.bits = H, 0
					}
				}, {
					"../utils/common": 27
				}],
				37: [function(a, b) {
					"use strict";
					b.exports = {
						2: "need dictionary",
						1: "stream end",
						0: "",
						"-1": "file error",
						"-2": "stream error",
						"-3": "data error",
						"-4": "insufficient memory",
						"-5": "buffer error",
						"-6": "incompatible version"
					}
				}, {}],
				38: [function(a, b, c) {
					"use strict";

					function d(a) {
						for (var b = a.length; --b >= 0;) a[b] = 0
					}

					function e(a) {
						return 256 > a ? ga[a] : ga[256 + (a >>> 7)]
					}

					function f(a, b) {
						a.pending_buf[a.pending++] = 255 & b, a.pending_buf[a.pending++] = b >>> 8 & 255
					}

					function g(a, b, c) {
						a.bi_valid > V - c ? (a.bi_buf |= b << a.bi_valid & 65535, f(a, a.bi_buf), a.bi_buf = b >> V - a.bi_valid, a.bi_valid += c - V) : (a.bi_buf |= b << a.bi_valid & 65535, a.bi_valid += c)
					}

					function h(a, b, c) {
						g(a, c[2 * b], c[2 * b + 1])
					}

					function i(a, b) {
						var c = 0;
						do c |= 1 & a, a >>>= 1, c <<= 1; while (--b > 0);
						return c >>> 1
					}

					function j(a) {
						16 === a.bi_valid ? (f(a, a.bi_buf), a.bi_buf = 0, a.bi_valid = 0) : a.bi_valid >= 8 && (a.pending_buf[a.pending++] = 255 & a.bi_buf, a.bi_buf >>= 8, a.bi_valid -= 8)
					}

					function k(a, b) {
						var c, d, e, f, g, h, i = b.dyn_tree,
							j = b.max_code,
							k = b.stat_desc.static_tree,
							l = b.stat_desc.has_stree,
							m = b.stat_desc.extra_bits,
							n = b.stat_desc.extra_base,
							o = b.stat_desc.max_length,
							p = 0;
						for (f = 0; U >= f; f++) a.bl_count[f] = 0;
						for (i[2 * a.heap[a.heap_max] + 1] = 0, c = a.heap_max + 1; T > c; c++) d = a.heap[c], f = i[2 * i[2 * d + 1] + 1] + 1, f > o && (f = o, p++), i[2 * d + 1] = f, d > j || (a.bl_count[f]++, g = 0, d >= n && (g = m[d - n]), h = i[2 * d], a.opt_len += h * (f + g), l && (a.static_len += h * (k[2 * d + 1] + g)));
						if (0 !== p) {
							do {
								for (f = o - 1; 0 === a.bl_count[f];) f--;
								a.bl_count[f]--, a.bl_count[f + 1] += 2, a.bl_count[o]--, p -= 2
							} while (p > 0);
							for (f = o; 0 !== f; f--)
								for (d = a.bl_count[f]; 0 !== d;) e = a.heap[--c], e > j || (i[2 * e + 1] !== f && (a.opt_len += (f - i[2 * e + 1]) * i[2 * e], i[2 * e + 1] = f), d--)
						}
					}

					function l(a, b, c) {
						var d, e, f = new Array(U + 1),
							g = 0;
						for (d = 1; U >= d; d++) f[d] = g = g + c[d - 1] << 1;
						for (e = 0; b >= e; e++) {
							var h = a[2 * e + 1];
							0 !== h && (a[2 * e] = i(f[h]++, h))
						}
					}

					function m() {
						var a, b, c, d, e, f = new Array(U + 1);
						for (c = 0, d = 0; O - 1 > d; d++)
							for (ia[d] = c, a = 0; a < 1 << _[d]; a++) ha[c++] = d;
						for (ha[c - 1] = d, e = 0, d = 0; 16 > d; d++)
							for (ja[d] = e, a = 0; a < 1 << aa[d]; a++) ga[e++] = d;
						for (e >>= 7; R > d; d++)
							for (ja[d] = e << 7, a = 0; a < 1 << aa[d] - 7; a++) ga[256 + e++] = d;
						for (b = 0; U >= b; b++) f[b] = 0;
						for (a = 0; 143 >= a;) ea[2 * a + 1] = 8, a++, f[8]++;
						for (; 255 >= a;) ea[2 * a + 1] = 9, a++, f[9]++;
						for (; 279 >= a;) ea[2 * a + 1] = 7, a++, f[7]++;
						for (; 287 >= a;) ea[2 * a + 1] = 8, a++, f[8]++;
						for (l(ea, Q + 1, f), a = 0; R > a; a++) fa[2 * a + 1] = 5, fa[2 * a] = i(a, 5);
						ka = new na(ea, _, P + 1, Q, U), la = new na(fa, aa, 0, R, U), ma = new na(new Array(0), ba, 0, S, W)
					}

					function n(a) {
						var b;
						for (b = 0; Q > b; b++) a.dyn_ltree[2 * b] = 0;
						for (b = 0; R > b; b++) a.dyn_dtree[2 * b] = 0;
						for (b = 0; S > b; b++) a.bl_tree[2 * b] = 0;
						a.dyn_ltree[2 * X] = 1, a.opt_len = a.static_len = 0,
							a.last_lit = a.matches = 0
					}

					function o(a) {
						a.bi_valid > 8 ? f(a, a.bi_buf) : a.bi_valid > 0 && (a.pending_buf[a.pending++] = a.bi_buf), a.bi_buf = 0, a.bi_valid = 0
					}

					function p(a, b, c, d) {
						o(a), d && (f(a, c), f(a, ~c)), E.arraySet(a.pending_buf, a.window, b, c, a.pending), a.pending += c
					}

					function q(a, b, c, d) {
						var e = 2 * b,
							f = 2 * c;
						return a[e] < a[f] || a[e] === a[f] && d[b] <= d[c]
					}

					function r(a, b, c) {
						for (var d = a.heap[c], e = c << 1; e <= a.heap_len && (e < a.heap_len && q(b, a.heap[e + 1], a.heap[e], a.depth) && e++, !q(b, d, a.heap[e], a.depth));) a.heap[c] = a.heap[e], c = e, e <<= 1;
						a.heap[c] = d
					}

					function s(a, b, c) {
						var d, f, i, j, k = 0;
						if (0 !== a.last_lit)
							do d = a.pending_buf[a.d_buf + 2 * k] << 8 | a.pending_buf[a.d_buf + 2 * k + 1], f = a.pending_buf[a.l_buf + k], k++, 0 === d ? h(a, f, b) : (i = ha[f], h(a, i + P + 1, b), j = _[i], 0 !== j && (f -= ia[i], g(a, f, j)), d--, i = e(d), h(a, i, c), j = aa[i], 0 !== j && (d -= ja[i], g(a, d, j))); while (k < a.last_lit);
						h(a, X, b)
					}

					function t(a, b) {
						var c, d, e, f = b.dyn_tree,
							g = b.stat_desc.static_tree,
							h = b.stat_desc.has_stree,
							i = b.stat_desc.elems,
							j = -1;
						for (a.heap_len = 0, a.heap_max = T, c = 0; i > c; c++) 0 !== f[2 * c] ? (a.heap[++a.heap_len] = j = c, a.depth[c] = 0) : f[2 * c + 1] = 0;
						for (; a.heap_len < 2;) e = a.heap[++a.heap_len] = 2 > j ? ++j : 0, f[2 * e] = 1, a.depth[e] = 0, a.opt_len--, h && (a.static_len -= g[2 * e + 1]);
						for (b.max_code = j, c = a.heap_len >> 1; c >= 1; c--) r(a, f, c);
						e = i;
						do c = a.heap[1], a.heap[1] = a.heap[a.heap_len--], r(a, f, 1), d = a.heap[1], a.heap[--a.heap_max] = c, a.heap[--a.heap_max] = d, f[2 * e] = f[2 * c] + f[2 * d], a.depth[e] = (a.depth[c] >= a.depth[d] ? a.depth[c] : a.depth[d]) + 1, f[2 * c + 1] = f[2 * d + 1] = e, a.heap[1] = e++, r(a, f, 1); while (a.heap_len >= 2);
						a.heap[--a.heap_max] = a.heap[1], k(a, b), l(f, j, a.bl_count)
					}

					function u(a, b, c) {
						var d, e, f = -1,
							g = b[1],
							h = 0,
							i = 7,
							j = 4;
						for (0 === g && (i = 138, j = 3), b[2 * (c + 1) + 1] = 65535, d = 0; c >= d; d++) e = g, g = b[2 * (d + 1) + 1], ++h < i && e === g || (j > h ? a.bl_tree[2 * e] += h : 0 !== e ? (e !== f && a.bl_tree[2 * e]++, a.bl_tree[2 * Y]++) : 10 >= h ? a.bl_tree[2 * Z]++ : a.bl_tree[2 * $]++, h = 0, f = e, 0 === g ? (i = 138, j = 3) : e === g ? (i = 6, j = 3) : (i = 7, j = 4))
					}

					function v(a, b, c) {
						var d, e, f = -1,
							i = b[1],
							j = 0,
							k = 7,
							l = 4;
						for (0 === i && (k = 138, l = 3), d = 0; c >= d; d++)
							if (e = i, i = b[2 * (d + 1) + 1], !(++j < k && e === i)) {
								if (l > j) {
									do h(a, e, a.bl_tree); while (0 !== --j)
								} else 0 !== e ? (e !== f && (h(a, e, a.bl_tree), j--), h(a, Y, a.bl_tree), g(a, j - 3, 2)) : 10 >= j ? (h(a, Z, a.bl_tree), g(a, j - 3, 3)) : (h(a, $, a.bl_tree), g(a, j - 11, 7));
								j = 0, f = e, 0 === i ? (k = 138, l = 3) : e === i ? (k = 6, l = 3) : (k = 7, l = 4)
							}
					}

					function w(a) {
						var b;
						for (u(a, a.dyn_ltree, a.l_desc.max_code), u(a, a.dyn_dtree, a.d_desc.max_code), t(a, a.bl_desc), b = S - 1; b >= 3 && 0 === a.bl_tree[2 * ca[b] + 1]; b--);
						return a.opt_len += 3 * (b + 1) + 5 + 5 + 4, b
					}

					function x(a, b, c, d) {
						var e;
						for (g(a, b - 257, 5), g(a, c - 1, 5), g(a, d - 4, 4), e = 0; d > e; e++) g(a, a.bl_tree[2 * ca[e] + 1], 3);
						v(a, a.dyn_ltree, b - 1), v(a, a.dyn_dtree, c - 1)
					}

					function y(a) {
						var b, c = 4093624447;
						for (b = 0; 31 >= b; b++, c >>>= 1)
							if (1 & c && 0 !== a.dyn_ltree[2 * b]) return G;
						if (0 !== a.dyn_ltree[18] || 0 !== a.dyn_ltree[20] || 0 !== a.dyn_ltree[26]) return H;
						for (b = 32; P > b; b++)
							if (0 !== a.dyn_ltree[2 * b]) return H;
						return G
					}

					function z(a) {
						pa || (m(), pa = !0), a.l_desc = new oa(a.dyn_ltree, ka), a.d_desc = new oa(a.dyn_dtree, la), a.bl_desc = new oa(a.bl_tree, ma), a.bi_buf = 0, a.bi_valid = 0, n(a)
					}

					function A(a, b, c, d) {
						g(a, (J << 1) + (d ? 1 : 0), 3), p(a, b, c, !0)
					}

					function B(a) {
						g(a, K << 1, 3), h(a, X, ea), j(a)
					}

					function C(a, b, c, d) {
						var e, f, h = 0;
						a.level > 0 ? (a.strm.data_type === I && (a.strm.data_type = y(a)), t(a, a.l_desc), t(a, a.d_desc), h = w(a), e = a.opt_len + 3 + 7 >>> 3, f = a.static_len + 3 + 7 >>> 3, e >= f && (e = f)) : e = f = c + 5, e >= c + 4 && -1 !== b ? A(a, b, c, d) : a.strategy === F || f === e ? (g(a, (K << 1) + (d ? 1 : 0), 3), s(a, ea, fa)) : (g(a, (L << 1) + (d ? 1 : 0), 3), x(a, a.l_desc.max_code + 1, a.d_desc.max_code + 1, h + 1), s(a, a.dyn_ltree, a.dyn_dtree)), n(a), d && o(a)
					}

					function D(a, b, c) {
						return a.pending_buf[a.d_buf + 2 * a.last_lit] = b >>> 8 & 255, a.pending_buf[a.d_buf + 2 * a.last_lit + 1] = 255 & b, a.pending_buf[a.l_buf + a.last_lit] = 255 & c, a.last_lit++, 0 === b ? a.dyn_ltree[2 * c]++ : (a.matches++, b--, a.dyn_ltree[2 * (ha[c] + P + 1)]++, a.dyn_dtree[2 * e(b)]++), a.last_lit === a.lit_bufsize - 1
					}
					var E = a("../utils/common"),
						F = 4,
						G = 0,
						H = 1,
						I = 2,
						J = 0,
						K = 1,
						L = 2,
						M = 3,
						N = 258,
						O = 29,
						P = 256,
						Q = P + 1 + O,
						R = 30,
						S = 19,
						T = 2 * Q + 1,
						U = 15,
						V = 16,
						W = 7,
						X = 256,
						Y = 16,
						Z = 17,
						$ = 18,
						_ = [0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4, 5, 5, 5, 5, 0],
						aa = [0, 0, 0, 0, 1, 1, 2, 2, 3, 3, 4, 4, 5, 5, 6, 6, 7, 7, 8, 8, 9, 9, 10, 10, 11, 11, 12, 12, 13, 13],
						ba = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 2, 3, 7],
						ca = [16, 17, 18, 0, 8, 7, 9, 6, 10, 5, 11, 4, 12, 3, 13, 2, 14, 1, 15],
						da = 512,
						ea = new Array(2 * (Q + 2));
					d(ea);
					var fa = new Array(2 * R);
					d(fa);
					var ga = new Array(da);
					d(ga);
					var ha = new Array(N - M + 1);
					d(ha);
					var ia = new Array(O);
					d(ia);
					var ja = new Array(R);
					d(ja);
					var ka, la, ma, na = function(a, b, c, d, e) {
							this.static_tree = a, this.extra_bits = b, this.extra_base = c, this.elems = d, this.max_length = e, this.has_stree = a && a.length
						},
						oa = function(a, b) {
							this.dyn_tree = a, this.max_code = 0, this.stat_desc = b
						},
						pa = !1;
					c._tr_init = z, c._tr_stored_block = A, c._tr_flush_block = C, c._tr_tally = D, c._tr_align = B
				}, {
					"../utils/common": 27
				}],
				39: [function(a, b) {
					"use strict";

					function c() {
						this.input = null, this.next_in = 0, this.avail_in = 0, this.total_in = 0, this.output = null, this.next_out = 0, this.avail_out = 0, this.total_out = 0, this.msg = "", this.state = null, this.data_type = 2, this.adler = 0
					}
					b.exports = c
				}, {}]
			}, {}, [9])(9)
		}), define("common/Calcium", ["libs/backbone"], function(a) {
			function b(b) {
				return b instanceof a.Model || b instanceof a.Collection
			}

			function c(a, b, c) {
				this.args = c, this.obj = a, this.fn = b
			}
			var d = a.Model.extend({
					toJSON: function(c, d) {
						if (c) return a.Model.prototype.toJSON.apply(this, arguments);
						var e = {};
						for (var f in this.attributes) {
							var g = this.attributes[f];
							if (b(g)) e[f] = g.toJSON(c, d);
							else if (d && g instanceof Array) {
								var h = [];
								e[f] = h, g.forEach(function(a) {
									h.push(b(a) ? a.toJSON(c, d) : a)
								})
							} else e[f] = g
						}
						return e
					}
				}),
				e = a.Collection.extend({
					toJSON: function(b, c) {
						if (b) return a.Collection.prototype.toJSON.apply(this, arguments);
						var d = [];
						return this.models.forEach(function(a) {
							d.push(a.toJSON(b, c))
						}), d
					}
				});
			return c.prototype = {
				dispose: function() {
					this.fn.apply(this.obj, this.args)
				}
			}, {
				Model: d,
				Collection: e
			}
		}), define("common/Math2", {
			round: function(a, b) {
				var c;
				return null != b || (b = 0), c = Math.pow(10, b), Math.round(a * c) / c
			},
			toDeg: function(a) {
				return 180 * a / Math.PI
			},
			toRads: function(a) {
				return a * Math.PI / 180
			},
			compare: function(a, b, c) {
				return Math.abs(a - b) < c
			},
			rotatePt: function(a, b) {
				var c;
				return c = 0 > b ? {
					x: a.x * Math.cos(b) + a.y * Math.sin(b),
					y: -1 * a.x * Math.sin(b) + a.y * Math.cos(b)
				} : {
					x: a.x * Math.cos(b) - a.y * Math.sin(b),
					y: a.x * Math.sin(b) + a.y * Math.cos(b)
				}
			},
			rotatePtE: function(a, b) {
				var c;
				return c = 0 > b ? {
					left: a.left * Math.cos(b) + a.top * Math.sin(b),
					top: -1 * a.left * Math.sin(b) + a.top * Math.cos(b)
				} : {
					left: a.left * Math.cos(b) - a.top * Math.sin(b),
					top: a.left * Math.sin(b) + a.top * Math.cos(b)
				}
			}
		}), define("strut/action_editor/util/mix", ["require", "exports", "module"], function(a, b, c) {
			var d = /^\s*(\S*)\s*$/i,
				e = /^[a-zA-Z\u4E00-\u9FA5\uF900-\uFA2D]+[\w\u4E00-\u9FA5\uF900-\uFA2D\-]*[a-zA-Z\u4E00-\u9FA5\uF900-\uFA2D\d]+$/i,
				f = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"];
			c.exports = {
				trim: function(a) {
					return a.replace(d, "$1")
				},
				getRandomLetter: function(a) {
					a = a || 3;
					for (var b = 0, c = [], d = f.length; a > b; b++) c.push(f[Math.random() * d | 0]);
					return c
				},
				upFirst: function(a) {
					return a ? a.substr(0, 1).toUpperCase() + a.substr(1) : ""
				},
				validateName: function(a) {
					return e.test(a || "") ? null : "\u540d\u79f0\u957f\u5ea6\u5fc5\u987b\u5927\u4e8e2\uff0c\u5e76\u4e14\u53ea\u80fd\u5305\u542b\u5355\u8bcd\u548c\u4e2d\u5212\u7ebf\uff0c\u800c\u4e14\u8981\u4ee5\u5b57\u6bcd\u5f00\u59cb\u4ee5\u5b57\u6bcd\u6216\u8005\u6570\u5b57\u7ed3\u675f\uff01"
				},
				replaceAll: function(a, b, c, d) {
					d = d || "";
					var e = new RegExp(d + b + d, "gm");
					return a.replace(e, d + c + d)
				}
			}
		}), define("strut/deck/SpatialObject", ["lodash", "common/Calcium", "common/Math2", "strut/action_editor/util/mix"], function(a, b, c, d) {
			"use strict";
			return b.Model.extend({
				_defaults: {
					events: [{
						key: "UIEvent",
						name: "UI\u4e8b\u4ef6"
					}],
					hooks: null
				},
				defaults: function() {
					var b = this.constructor.__super__,
						c = b.defaults;
					return "function" == typeof c && (c = c.call(b) || {}), a.merge(this._defaults, c, function(b, c) {
						return a.isArray(b) && a.isArray(c) ? a.uniq(b.concat(c), function(a) {
							return a.key || a
						}) : a.isArray(b) ? b : a.isArray(c) ? c : b ? a.merge(b, c) : a.merge(c, b)
					})
				},
				_meta: {
					index: 0
				},
				_nodeClass: "erquan_node",
				_idReg: null,
				initialize: function() {
					var a = this.get("id");
					if (a) {
						var b = new RegExp(this._nodeClass + "(?:_[^_]{13}|_[^_]{5})?_(\\d+)$", "i"),
							c = b.exec(a);
						if (!c) return void console.error("invalid comp id from last data", a);
						var d = Number(c[1]);
						this._meta.index <= d && (this._meta.index = d + 1)
					} else this.set("id", this._genId())
				},
				_genId: function() {
					return this._nodeClass + "_" + d.getRandomLetter(7).join("-") + "_" + this._meta.index++
				},
				clone: function() {
					var a = b.Model.prototype.clone.call(this);
					a.set("listeners", JSON.parse(JSON.stringify(this.get("listeners") || {})));
					var c = a._genId();
					return a._meta = this._meta, a._base = this, a.set("id", c), a.unset("name"), a
				},
				setInt: function(a, b, c) {
					if ("string" == typeof b) try {
						b = parseInt(b, 10)
					} catch (d) {
						return
					}
					this.set(a, Math.round(b), c)
				},
				setFloat: function(a, b, d, e) {
					if ("string" == typeof b) try {
						b = parseFloat(b)
					} catch (f) {
						return
					}
					b = c.round(b, d || 2), this.set(a, b, e)
				},
				toJSON: function() {
					var a = b.Model.prototype.toJSON.apply(this, arguments);
					return delete a.events, delete a.hooks, a
				},
				constructor: function() {
					b.Model.prototype.constructor.apply(this, arguments)
				}
			})
		}), define("strut/slide_components/ComponentFactory", [], function() {
			"use strict";

			function a(a) {
				var b = a.get("strut.ComponentModel");
				this._modelCtors = {}, b.forEach(function(a) {
					this._modelCtors[a.meta().type] = a.service()
				}, this), this._viewCtors = {};
				var c = a.get("strut.ComponentView");
				c.forEach(function(a) {
					this._viewCtors[a.meta().type] = a.service()
				}, this)
			}
			return a.prototype = {
				createView: function(a) {
					var b = a.get("type"),
						c = this._viewCtors[b];
					return c ? new c({
						model: a
					}) : void 0
				},
				createModel: function(a, b) {
					if ("ImageModel" == a.type && (a.type = "Image"), "string" == typeof a) var c = a;
					else var c = a.type;
					var d = this._modelCtors[c];
					return d ? new d(a, b) : void 0
				},
				getDrawer: function(a) {
					return this._drawers[a]
				}
			}, {
				initialize: function(b) {
					log("Initing"), this.instance || (this.instance = new a(b))
				}
			}
		}), define("strut/deck/ComponentCommands", [], function() {
			function a(a, b, c, d) {
				this.start = a, this.end = b.get(c) || 0, this.component = b, this.name = d, this.attr = c
			}
			var b, c, d;
			return a.prototype = {
				"do": function() {
					this.component.slide && this.component.slide.set("active", !0), this.component.set(this.attr, this.end), this.component.set("selected", !0)
				},
				undo: function() {
					this.component.slide && this.component.slide.set("active", !0), this.component.set(this.attr, this.start), this.component.set("selected", !0)
				}
			}, b = function(a, b) {
				this.slide = a, this.components = b.slice(0)
			}, b.prototype = {
				"do": function() {
					this.slide.set("active", !0), this.slide.__doAdd(this.components)
				},
				undo: function() {
					this.slide.set("active", !0), this.slide.__doRemove(this.components)
				},
				name: "Add Comp"
			}, c = function(a, b) {
				this.slide = a, this.components = b.slice(0)
			}, c.prototype = {
				"do": function() {
					this.slide.set("active", !0), this.slide.__doRemove(this.components)
				},
				undo: function() {
					this.slide.set("active", !0), this.slide.__doAdd(this.components)
				},
				name: "Remove Comp"
			}, d = function(a, b) {
				this.startLoc = a, this.component = b;
				var c = this.component.get("positionX"),
					d = this.component.get("positionY");
				return this.endLoc = {
					x: c,
					y: d,
					positionX: c,
					positionY: d
				}, this
			}, d.prototype = {
				"do": function() {
					this.component.slide && this.component.slide.set("active", !0), this.component.set(this.endLoc), this.component.set("selected", !0)
				},
				undo: function() {
					this.component.slide && this.component.slide.set("active", !0), this.component.set(this.startLoc), this.component.set("selected", !0)
				},
				name: "Move"
			}, {
				Add: b,
				Remove: c,
				Move: d,
				SizeX: function(b, c) {
					return new a(b, c, "sizeX", "Size X")
				},
				SizeY: function(b, c) {
					return new a(b, c, "sizeY", "Size Y")
				},
				OriginX: function(b, c) {
					return new a(b, c, "originX", "Origin X")
				},
				OriginY: function(b, c) {
					return new a(b, c, "originY", "Origin X")
				},
				OriginZ: function(b, c) {
					return new a(b, c, "originZ", "Origin X")
				},
				PositionX: function(b, c) {
					return new a(b, c, "positionX", "Position X")
				},
				PositionY: function(b, c) {
					return new a(b, c, "positionY", "Position Y")
				},
				PositionZ: function(b, c) {
					return new a(b, c, "positionZ", "Position Z")
				},
				ScaleX: function(b, c) {
					return new a(b, c, "scaleX", "Scale X")
				},
				ScaleY: function(b, c) {
					return new a(b, c, "scaleY", "Scale Y")
				},
				ScaleZ: function(b, c) {
					return new a(b, c, "scaleZ", "Scale Z")
				},
				SkewX: function(b, c) {
					return new a(b, c, "skewX", "Skew X")
				},
				SkewY: function(b, c) {
					return new a(b, c, "skewY", "Skew Y")
				},
				RotateX: function(b, c) {
					return new a(b, c, "rotateX", "Rotate X")
				},
				RotateY: function(b, c) {
					return new a(b, c, "rotateY", "Rotate Y")
				},
				RotateZ: function(b, c) {
					return new a(b, c, "rotateZ", "Rotate Z")
				},
				Opacity: function(b, c) {
					return new a(b, c, "opacity", "opacity")
				},
				BgColor: function(b, c) {
					return new a(b, c, "bgColor", "bgColor")
				},
				ZOrder: function(b, c) {
					return new a(b, c, "zOrder", "ZOrder")
				},
				Rotate: function(b, c) {
					return new a(b, c, "rotateZ", "Rotate")
				},
				Scale: function(b, c) {
					return new a(b, c, "scale", "Scale")
				},
				TextScale: function(b, c) {
					return new a(b, c, "size", "Scale")
				},
				Text: function(b, c) {
					return new a(b, c, "text", "Text")
				}
			}
		}), define("strut/action_editor/model/Action", ["require", "exports", "module", "common/Calcium"], function(a, b, c) {
			var d = a("common/Calcium"),
				e = function(a) {
					return a ? (delete a.cid, delete a.id, delete a.name, delete a.type, delete a.zOrder, delete a.imageWidth, delete a.imageHeight, delete a.marginLeft, delete a.marginTop, delete a.events, delete a.hooks, delete a.listeners, delete a.playBackground, delete a.playLoop, delete a.locked, delete a.visible, delete a.selected, delete a.disabled, a) : a
				},
				f = c.exports = d.Model.extend({
					defaults: {},
					toJSON: function() {
						if (this.get("inherited")) return null;
						var a = d.Model.prototype.toJSON.apply(this, arguments);
						return a
					},
					initialize: function() {
						this.get("transition") || this.set("transition", [1e3, "ease", 0])
					}
				});
			f.clear = e
		}), define("strut/action_editor/model/Step", ["require", "exports", "module", "common/Calcium", "strut/action_editor/model/Action"], function(a, b, c) {
			var d = a("common/Calcium"),
				e = a("strut/action_editor/model/Action"),
				f = c.exports = d.Model.extend({
					defaults: {
						type: 0,
						auto: !1,
						playEndPaused: !0,
						events: [{
							key: "event_start",
							name: "\u5f00\u59cb"
						}, {
							key: "event_start_asc",
							name: "\u5f00\u59cb(\u987a\u5e8f\u64ad\u653e)"
						}, {
							key: "event_start_desc",
							name: "\u5f00\u59cb(\u9006\u5e8f\u64ad\u653e)"
						}, {
							key: "event_completed",
							name: "\u7ed3\u675f"
						}]
					},
					initialize: function() {
						this.set("list", new d.Collection([], {
							model: e
						}))
					},
					getActions: function() {
						return this.get("list")
					},
					getActionById: function(a) {
						return this.get("list").findWhere({
							id: a
						})
					},
					getActionByTarget: function(a) {
						return this.get("list").findWhere({
							target: a
						})
					},
					toJSON: function() {
						var a = d.Model.prototype.toJSON.apply(this, arguments);
						return delete a.currentAction, delete a.events, a
					}
				});
			f.TYPE_NORMAL = 0, f.TYPE_INIT = 1
		}), define("strut/action_editor/model/listenerTempPool", ["require", "exports", "module"], function(a, b, c) {
			var d = [],
				e = function(a) {
					a && !~d.indexOf(a) && d.push(a)
				},
				f = function(a) {
					var b = a.get("listeners");
					if (b) {
						var c = this;
						Object.keys(b).forEach(function(a) {
							b[a].forEach(function(a) {
								c.addListenerToTmpPool(a)
							})
						})
					}
				},
				g = function(a, b) {
					d.forEach(function(c) {
						c.targetId == a && (c.targetName = b)
					})
				},
				h = function(a) {
					var b = d.indexOf(a);
					~b && d.splice(b, 1)
				},
				i = function(a) {
					var b = a.get("listeners");
					if (b) {
						var c = this;
						Object.keys(b).forEach(function(a) {
							b[a].forEach(function(a) {
								c.removeListenerInTempPool(a)
							})
						})
					}
				},
				j = function(a) {
					d.forEach(function(b, c) {
						b && b.targetId == a && d.splice(c, 1)
					})
				};
			c.exports = {
				addListenerToTmpPool: e,
				removeListenerInTempPool: h,
				addListenersInTempPoolByHost: f,
				removeListenersInTempPoolByHost: i,
				removeListenersInTempPoolByTarget: j,
				updateListenerTargetNameInTmpPool: g
			}
		}), define("strut/action_editor/model/StepList", ["require", "exports", "module", "common/Calcium", "lodash", "strut/action_editor/model/Step", "strut/action_editor/util/mix", "strut/action_editor/model/listenerTempPool"], function(a, b, c) {
			var d = a("common/Calcium"),
				e = a("lodash"),
				f = a("strut/action_editor/model/Step"),
				g = (a("strut/action_editor/util/mix"), a("strut/action_editor/model/listenerTempPool"), c.exports = d.Model.extend({
					defaults: {
						loop: !1,
						type: 0,
						hooks: [{
							key: "prev"
						}, {
							key: "next"
						}, {
							key: "play",
							param: !0
						}, {
							key: "pause",
							param: !0
						}, {
							key: "stop"
						}]
					},
					getSteps: function() {
						return this.get("list")
					},
					validateStepName: function(a, b) {
						var c = !0;
						return b ? (this.get("list").forEach(function(d) {
							d.get("name") == b && d.get("id") != a && (c = "\u540d\u79f0\u4e0d\u80fd\u91cd\u590d")
						}), c) : "\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a\uff01"
					},
					initialize: function() {
						this.set("list", new d.Collection([], {
							model: f
						}))
					},
					reOrder: function(a) {
						try {
							var b = this.get("list");
							a = a.map(function(a) {
								return b.findWhere({
									id: a
								})
							}), b.reset(a)
						} catch (c) {
							return !1
						}
						return !0
					},
					findStepById: function(a) {
						return this.get("list").findWhere({
							id: a
						})
					},
					findActionAndStepByActionId: function(a) {
						var b = null,
							c = null,
							d = this.get("list");
						return d.some(function(d) {
							return c = d, b = d.get("list").findWhere({
								id: a
							})
						}), {
							step: c,
							action: b
						}
					},
					findActionsByTarget: function(a) {
						var b = [],
							c = this.get("list");
						return c.each(function(c) {
							e.each(c.get("list").where({
								target: a
							}), function(a) {
								b.push(a)
							})
						}), b
					},
					findActionsIdByTarget: function(a) {
						var b = [],
							c = this.get("list");
						return c.each(function(c) {
							e.each(c.get("list").where({
								target: a
							}), function(a) {
								b.push(a.get("id"))
							})
						}), b
					},
					getNormalizedActionCollection: function(a) {
						var b = [],
							c = this.get("list"),
							d = c.indexOf(a);
						if (-1 == d) throw "can not find step in stepList";
						var e = c.at(0);
						return e.get("list").forEach(function(e) {
							var f = e.get("target");
							if (!f) throw "init step's action must has a target before the steplist started!";
							var g = null;
							if ((g = a.getActionByTarget(f)) && !g.get("inherited")) return void b.push(g);
							for (var h = d, i = null; --h > 0;)
								if ((i = c.at(h).getActionByTarget(f)) && !i.get("inherited")) return void b.push(i);
							b.push(e)
						}), b
					},
					toJSON: function() {
						var a = d.Model.prototype.toJSON.apply(this, arguments);
						return a.currentStep = a.currentStep ? a.currentStep.id : null, delete a.hooks, a
					}
				}));
			g.TYPE_NORMAL = 0, g.TYPE_SYS = 1
		}), define("strut/action_editor/model/DefaultStepListEditor", ["require", "exports", "module", "strut/action_editor/model/StepList"], function(a, b, c) {
			var d = a("strut/action_editor/model/StepList"),
				e = function(a) {
					return {
						target: a,
						step_list_collection: [{
							name: "\u9ed8\u8ba4",
							type: d.TYPE_SYS
						}]
					}
				},
				f = function(a, b) {
					if (!a) throw "unExcepted param target: " + a;
					return b || e(a)
				};
			c.exports = {
				combine: f
			}
		}), define("strut/action_editor/model/StepListCommand", ["require", "exports", "module"], function() {
			var a = function(a, b) {
				this._stepListEditor = a, this._newStepList = b, this._olderStepList = a.get("currentStepList")
			};
			a.prototype["do"] = function() {
				this._stepListEditor.set("currentStepList", this._newStepList)
			}, a.prototype.undo = function() {
				this._stepListEditor.set("currentStepList", this._olderStepList)
			};
			var b = function(a, b, c) {
				this._ctx = a, this._collection = b, this._stepList = c
			};
			b.prototype["do"] = function() {
				this._ctx.__doAddStepList(this._collection, this._stepList)
			}, b.prototype.undo = function() {
				this._ctx.__doRemoveStepList(this._collection, this._stepList)
			};
			var c = function(a, b, c) {
				this._ctx = a, this._collection = b, this._stepList = c
			};
			c.prototype["do"] = function() {
				this._ctx.__doRemoveStepList(this._collection, this._stepList)
			}, c.prototype.undo = function() {
				this._ctx.__doAddStepList(this._collection, this._stepList)
			};
			var d = function(a, b) {
				this._stepList = a, this._newStep = b, this._olderStep = a.get("currentStep")
			};
			d.prototype["do"] = function() {
				this._stepList.set("currentStep", this._newStep)
			}, d.prototype.undo = function() {
				this._stepList.set("currentStep", this._olderStep)
			};
			var e = function(a, b, c, d, e) {
				this._ctx = a, this._stepList = b, this._step = c, this._pos = d, this._prevId = e
			};
			e.prototype["do"] = function() {
				this._ctx.__doAddStep(this._stepList, this._step, this._pos, this._prevId)
			}, e.prototype.undo = function() {
				this._ctx.__doRemoveStep(this._stepList, this._step)
			};
			var f = function(a, b, c, d, e) {
				this._ctx = a, this._stepList = b, this._step = c, this._pos = d, this._prevId = e
			};
			return f.prototype["do"] = function() {
				this._ctx.__doRemoveStep(this._stepList, this._step)
			}, f.prototype.undo = function() {
				this._ctx.__doAddStep(this._stepList, this._step, this._pos, this._prevId)
			}, {
				StepListActive: a,
				StepListAdd: b,
				StepListRemove: c,
				StepActive: d,
				StepAdd: e,
				StepRemove: f
			}
		}), define("strut/action_editor/model/StepListEditor", ["require", "exports", "module", "lodash", "common/Calcium", "strut/action_editor/model/Action", "strut/action_editor/model/Step", "strut/action_editor/model/StepList", "tantaman/web/undo_support/CmdListFactory", "strut/action_editor/model/StepListCommand", "strut/action_editor/util/mix"], function(a, b, c) {
			{
				var d = a("lodash"),
					e = a("common/Calcium"),
					f = a("strut/action_editor/model/Action"),
					g = a("strut/action_editor/model/Step"),
					h = a("strut/action_editor/model/StepList"),
					i = a("tantaman/web/undo_support/CmdListFactory"),
					j = a("strut/action_editor/model/StepListCommand"),
					k = a("strut/action_editor/util/mix"),
					l = i.managedInstance("editor"),
					m = "\u9ed8\u8ba4",
					n = /_(\d+)$/i,
					o = "erquan_scene_",
					p = "_step_list_",
					q = "_step_",
					r = "_action_",
					s = 0,
					t = {
						onlyAdd: !0
					},
					u = function(a, b) {
						var c = null,
							d = b.indexOf(a),
							e = d - 1,
							f = d + 1;
						return c = b.at(f), c || (c = b.at(e)), c
					},
					v = function(a) {
						return d.isString(a) ? a : a && a.id ? a.id : null
					};
				c.exports = e.Model.extend({
					defaults: {
						currentStepList: null
					},
					initialize: function(a) {
						this.set("step_list_collection", new e.Collection), this.stepListCount = 0, this.stepCount = 0, this.actionCount = 0, this._initStepList = null, a = a || {};
						var b = n.exec(a.target);
						b && b[1] > s && (s = Number(b[1]) + 1), this._slideTarget = a.target || o + k.getRandomLetter().join("-") + "_" + s++
					},
					getStepLists: function() {
						return this.get("step_list_collection")
					},
					validateStepListName: function(a, b) {
						var c = !0,
							d = this.get("step_list_collection").findWhere({
								name: b
							});
						return d && d.get("id") != a && (c = "\u540d\u79f0\u4e0d\u80fd\u91cd\u590d"), c
					},
					validateStepList: function(a) {
						var b = a.id,
							c = a.name,
							d = this.get("step_list_collection"),
							e = null;
						return c && (e = d.findWhere({
							name: c
						})) && e.get("id") != b ? 1 : b && d.findWhere({
							id: b
						}) ? 2 : !0
					},
					addStepList: function(a, b) {
						if (a.id = a.id || this._slideTarget + p + k.getRandomLetter().join("-") + "_" + this.stepListCount++, a.name = a.name || a.id, this.validateStepList(a) !== !0) return !1;
						var c = this.get("step_list_collection");
						c.length || (a.disableRemove = !0);
						var d = new h(a);
						if (this._initStepList) {
							var e = new j.StepListAdd(this, c, d);
							e["do"](), l.push(e)
						} else this._initStepList = d, d.set("type", h.TYPE_SYS), this.__doAddStepList(c, d);
						return !b && this.addStep({
							name: m
						}), d
					},
					removeStepList: function(a) {
						var b = this.get("step_list_collection"),
							c = b.findWhere({
								id: a
							});
						if (c) {
							var d = new j.StepListRemove(this, b, c);
							d["do"](), l.push(d)
						}
					},
					__doAddStepList: function(a, b) {
						a.add(b), this.trigger("change:stepList.add", b), this.set("currentStepList", b)
					},
					__doRemoveStepList: function(a, b) {
						var c = b.get("id"),
							d = this.get("currentStepList"),
							e = d.get("id");
						c == e && (d = u(d, a), this.set("currentStepList", d)), a.remove({
							id: c
						}) && this.trigger("change:stepList.remove", c)
					},
					selectStepList: function(a) {
						var b = this.get("step_list_collection"),
							c = b.findWhere({
								id: a
							});
						if (c != this.get("currentStepList")) {
							var d = new j.StepListActive(this, c);
							d["do"](), l.push(d)
						}
					},
					validateStep: function(a) {
						var b = a.id,
							c = a.name,
							d = this.get("currentStepList").getSteps();
						return c && d.findWhere({
							name: c
						}) ? 1 : b && d.findWhere({
							id: b
						}) ? 2 : !0
					},
					initStep: function() {
						var a = this.get("currentStepList"),
							b = this,
							c = a.get("list").at(0).get("list"),
							d = c.length,
							e = d - 1;
						c.forEach(function(a, c) {
							a.get("target");
							b.addAction({
								target: a.get("target"),
								inherited: !0,
								onlyAdd: c == e ? !1 : !0
							})
						})
					},
					addStep: function(a, b) {
						var c = this.get("currentStepList"),
							d = c.get("list"),
							e = c.get("id");
						if (a.id = a.id || e + q + k.getRandomLetter().join("-") + "_" + this.stepCount++, a.name = a.name || a.id, this.validateStep(a) !== !0) return !1;
						d.length || (a.type = g.TYPE_INIT, a.disableRemove = !0);
						var f = new g(a),
							h = null;
						if (b) {
							var i = d.findWhere({
								id: b
							});
							i && (h = {
								at: d.indexOf(i) + 1
							})
						}
						if (!d.length) return void this.__doAddStep(c, f, h, b);
						var m = new j.StepAdd(this, c, f, h, b);
						m["do"](), l.push(m)
					},
					removeStep: function(a) {
						var b = this.get("currentStepList"),
							c = b.get("list"),
							d = c.findWhere({
								id: a
							});
						if (d) {
							var e = c.indexOf(d),
								f = {
									at: e
								},
								g = null;
							if (e > 0) {
								var h = c.at(e - 1);
								g = h.get("id")
							}
							var i = new j.StepRemove(this, b, d, f, g);
							i["do"](), l.push(i)
						}
					},
					__doAddStep: function(a, b, c, d) {
						var e = a.get("list"),
							f = a.get("currentStep");
						e.add(b, c), this.trigger("change:step.add", b, d);
						var g = b.__notActiveBeforeDeleted;
						delete b.__notActiveBeforeDeleted, a.set("currentStep", null), a.set("currentStep", f), g !== !0 && a.set("currentStep", b)
					},
					__doRemoveStep: function(a, b) {
						var c = b.get("id"),
							d = a.get("currentStep"),
							e = a.get("list"),
							f = d.get("id");
						c == f ? (d = u(d, e), a.set("currentStep", d)) : b.__notActiveBeforeDeleted = !0, e.remove({
							id: c
						}) && this.trigger("change:step.remove", c)
					},
					selectStep: function(a) {
						var b = this.get("currentStepList"),
							c = b.get("list"),
							d = c.findWhere({
								id: a
							});
						if (b.get("currentStep") == d) return d;
						var e = new j.StepActive(b, d);
						return e["do"](), l.push(e), d
					},
					validateAction: function(a) {
						if (!a.target) return 0;
						var b = a.id,
							c = (a.name, this.get("currentStepList").get("currentStep").get("list"));
						return b && c.findWhere({
							id: b
						}) ? 2 : !0
					},
					addAction: function(a) {
						if (void 0 == a.target) throw "unkown target for add action method";
						var b = this.get("currentStepList").get("currentStep"),
							c = b.get("id");
						if (a.id = a.id || c + r + k.getRandomLetter().join("-") + "_" + this.actionCount++, a.name = a.name || a.id, this.validateAction(a) !== !0) return !1;
						var d = new f(a);
						b.get("list").add(d), this.trigger("change:action.add", d), b.set("currentAction", d, a.onlyAdd ? t : null)
					},
					activeAction: function(a, b, c, d) {
						if (void 0 == a || void 0 == b) throw "unkown action id for activeAction";
						this.selectStep(b);
						var e = this.get("currentStepList").get("currentStep").getActionById(a);
						if (!e) throw "unkown action for active action";
						d ? (e.set("type", g.TYPE_INIT), e.set("inherited", !0), e.set("compAttrib", null)) : (e.set("type", g.TYPE_NORMAL), e.set("inherited", !1), c && e.set("name", c)), this.trigger("activechange:action", e), this.selectAction({
							id: a
						}, !0)
					},
					addInitAction: function(a, b) {
						if (a) {
							var c = this,
								d = b ? this._initStepList : this.get("currentStepList"),
								b = d.get("list").at(0);
							this.selectStepList(d.get("id")), d.get("list").forEach(function(e) {
								e != b && (d.set("currentStep", e, t), c.addAction({
									target: a.target,
									inherited: !0,
									onlyAdd: !0
								}))
							}), this.selectStep(b.get("id")), a.disableRemove = !0, this.addAction(a)
						}
					},
					removeAction: function(a, b) {
						var c = this.get("currentStepList"),
							d = b ? c.findStepById(b) : c.get("currentStep"),
							e = d.get("list"),
							f = d.get("currentAction"),
							g = f.get("id");
						a == g && d.set("currentAction", null), e.remove({
							id: a
						}) && this.trigger("change:action.remove", a)
					},
					_removeAllActionInStepList: function(a, b, c) {
						var d = this,
							e = [],
							f = {
								target: b
							};
						a.get("list").forEach(function(a) {
							var b = a.get("list");
							b.remove(b.where(f)), a.get("type") == g.TYPE_INIT || b.length || e.push(a)
						}), e.length && d.selectStepList(a.get("id")), !c && this.trigger("actionRemovedByTarget", b), e.forEach(function(a) {
							d.removeStep(a.get("id"))
						})
					},
					removeAllActionByTarget: function(a, b) {
						var c = this.get("currentStepList");
						if (!b) return this._removeAllActionInStepList(c, a);
						var d = this;
						this.get("step_list_collection").forEach(function(b) {
							d._removeAllActionInStepList(b, a, !0)
						}), d.selectStepList(c.get("id"))
					},
					selectAction: function(a, b) {
						var c = this.get("currentStepList").get("currentStep"),
							d = c.get("list"),
							e = d.findWhere(a);
						return e ? void c.set("currentAction", e) : b && !c.get("currentAction") ? void c.trigger("change:currentAction", this, null) : void c.set("currentAction", null)
					},
					resetStepListCollection: function(a) {
						if (a) {
							var b = this;
							a.forEach(function(a, c) {
								var d = a.list || [],
									e = !!d.length,
									f = b.addStepList({
										id: a.id,
										name: a.name,
										loop: a.loop,
										type: 0 == c ? h.TYPE_SYS : a.type,
										disableRemove: a.disableRemove
									}, e),
									g = n.exec(a.id);
								g && g[1] > b.stepListCount && (b.stepListCount = Number(g[1]) + 1);
								var i = [];
								if (d.forEach(function(a, c) {
										b.addStep({
											id: a.id,
											name: a.name,
											disableRemove: a.disableRemove,
											type: a.type,
											playEndPaused: a.playEndPaused,
											listeners: a.listeners
										});
										var d = n.exec(a.id);
										d && d[1] > b.stepCount && (b.stepCount = Number(d[1]) + 1);
										var e = a.list || [];
										e.forEach(function(a, d) {
											a = a || {
												inherited: !0
											}, 0 == c && i.push(a.target), a.target || (a.target = i[d]), b.addAction(a);
											var e = n.exec(a.id);
											e && e[1] > b.actionCount && (b.actionCount = Number(e[1]) + 1)
										})
									}), f) {
									var j = f.findStepById(v(a.currentStep));
									j && f.set("currentStep", j)
								}
							})
						}
					},
					importJSON: function(a) {
						if (a) {
							this.resetStepListCollection(a.step_list_collection), this._slideTarget = a.target || this._slideTarget;
							var b = a.currentStepList,
								c = v(b);
							c && this.selectStepList(c)
						}
					},
					toJSON: function() {
						var a = e.Model.prototype.toJSON.apply(this, arguments);
						return a.currentStepList = a.currentStepList ? a.currentStepList.id : null, a
					}
				})
			}
		}), define("strut/deck/Slide", ["libs/backbone", "./SpatialObject", "strut/slide_components/ComponentFactory", "common/Math2", "./ComponentCommands", "tantaman/web/undo_support/CmdListFactory", "strut/editor/GlobalEvents", "strut/action_editor/model/DefaultStepListEditor", "strut/action_editor/model/StepListEditor", "strut/action_editor/util/mix"], function(a, b, c, d, e, f, g, h, i, j) {
			var k = f.managedInstance("editor");
			return b.extend({
				_nodeClass: "erquan_scene",
				_meta: {
					index: 0
				},
				type: "slide",
				_defaults: {
					z: 0,
					impScale: 3,
					rotateX: 0,
					rotateY: 0,
					rotateZ: 0,
					playControl: !0,
					events: [{
						key: "event_switch_in_start",
						name: "\u573a\u666f\u5207\u5165\u5f00\u59cb"
					}, {
						key: "event_switch_in_end",
						name: "\u573a\u666f\u5207\u5165\u7ed3\u675f"
					}, {
						key: "event_switch_out_start",
						name: "\u573a\u666f\u5207\u51fa\u5f00\u59cb"
					}, {
						key: "event_switch_out_end",
						name: "\u573a\u666f\u5207\u51fa\u7ed3\u675f"
					}, {
						key: "event_bg_music_playing",
						name: "\u80cc\u666f\u97f3\u4e50\u64ad\u653e"
					}, {
						key: "event_bg_music_paused",
						name: "\u80cc\u666f\u97f3\u4e50\u6682\u505c"
					}],
					hooks: [{
						key: "play",
						param: !0
					}, {
						key: "pause",
						param: !0
					}, {
						key: "stop"
					}]
				},
				selected: null,
				initialize: function() {
					this.selected = [], b.prototype.initialize.apply(this, arguments);
					var d, e;
					d = this.get("components"), void 0 === d ? this.set("components", []) : (e = [], this.set("components", e), d.forEach(function(b) {
						var d;
						return b instanceof a.Model ? (d = b.clone(), e.push(d)) : (d = c.instance.createModel(b), e.push(d)), this._registerWithComponent(d)
					}, this)), this.on("unrender", this.unrendered, this), this.on("change:markdown", this._contentsChanged, this), d = this.get("components"), d.forEach(function(a) {
						a.get("selected") && this._selectionChanged(a, !0, {
							multiselect: !0
						})
					}, this), this._initStepListEditor()
				},
				_initStepListEditor: function() {
					if (!this._stepListEditorHasInited) {
						var a = this.get("id"),
							b = h.combine(a, this.get("stepListEditor")),
							c = new i;
						c.importJSON(b), this.set("stepListEditor", c), this._stepListEditorHasInited = !0
					}
				},
				clone: function() {
					var a = b.prototype.clone.call(this),
						c = JSON.stringify(this.toJSON()),
						d = this.get("id"),
						e = a.get("id");
					return c = j.replaceAll(c, d, e, '"'), a.get("components").forEach(function(a) {
						var b = a._base,
							d = b.get("id"),
							e = a.get("id");
						c = j.replaceAll(c, d, e, '"')
					}), c = JSON.parse(c), new this.constructor(c)
				},
				unrendered: function() {
					this.get("components").forEach(function(a) {
						a.trigger("unrender", !0)
					})
				},
				_registerWithComponent: function(a) {
					a.slide = this, a.on("dispose", this._selectionChanged, this), a.on("change:selected", this._selectionChanged, this), a.on("change", this._contentsChanged, this)
				},
				customClasses: function() {
					return ""
				},
				getPositionData: function() {
					return {
						x: this.get("x"),
						y: this.get("y"),
						z: this.get("z"),
						impScale: this.get("impScale"),
						rotateX: this.get("rotateX"),
						rotateY: this.get("rotateY"),
						rotateZ: this.get("rotateZ")
					}
				},
				selectComponents: function(a) {
					a = _.isArray(a) ? a : [a], a.length && (this.get("components").forEach(function(a) {
						return a.set("selected", !1)
					}), a.forEach(function(a) {
						a.set("selected", !0, {
							multiselect: !0
						})
					}))
				},
				unselectComponents: function(a) {
					a = a || this.selected, a = _.isArray(a) ? a : [a], a.forEach(function(a) {
						a.set("selected", !1)
					})
				},
				_selectionChanged: function(a, b, c) {
					c = c || {};
					var d = c.multiselect || g.pressed.ctrl || g.pressed.meta || g.pressed.shift;
					if (b) d || this.get("components").forEach(function(b) {
						return a !== b ? b.set("selected", !1) : void 0
					}), -1 == this.selected.indexOf(a) && this.selected.push(a), this.trigger("change:activeComponent", this, a, b);
					else {
						var e = this.selected.indexOf(a); - 1 !== e && (this.selected.splice(e, 1), this.trigger("change:activeComponent", this, void 0))
					}
				},
				_contentsChanged: function() {
					this.trigger("contentsChanged")
				},
				add: function(a) {
					a = _.isArray(a) ? a.slice() : [a], a.forEach(function(a) {
						this.getCompByNodeId(a.get("id")) || this._placeComponent(a)
					}, this);
					var b = this;
					k.record(function() {
						var c = new e.Add(b, a);
						c["do"](), k.push(c)
					})
				},
				__doAdd: function(a) {
					a.forEach(function(a) {
						var b = this.get("components"),
							c = b.length;
						b.push(a), a.set("zOrder", c), this._registerWithComponent(a), this.trigger("contentsChanged"), this.trigger("change:components.add", this, a)
					}, this), this.selectComponents(a)
				},
				compOrderMoveTo: function(a, b) {
					var c = this.get("components"),
						d = c.length;
					if (0 > a && (a = d - a), 0 > b && (b = d - b), !(a == b || 0 > a || a >= d || 0 > b || b >= d)) {
						for (var f = [], g = 0; a != b;) {
							var h = null,
								i = a;
							h = b > a ? c[a++] : c[a--], c[i] = c[a], c[a] = h, g = c[i].get("zOrder"), c[i].set("zOrder", i), f.push(new e.ZOrder(g, c[i]))
						}
						g = c[b].get("zOrder"), c[b].set("zOrder", b), f.push(new e.ZOrder(g, c[b])), k.record(function() {
							f.forEach(function(a) {
								k.push(a)
							})
						}, "ZOrder Components")
					}
				},
				_resetOrder: function(a) {
					for (var b = this.get("components"), c = a || 0, d = b.length; d > c; c++) b[c].set("zOrder", c)
				},
				_placeComponent: function(a) {
					return this.get("components").forEach(function(b) {
						var c, e;

						if (c = b.get("x"), e = b.get("y"), d.compare(c, a.get("x"), 5) && d.compare(e, a.get("y"), 5)) {
							var f = c + 20,
								g = e + 20;
							return a.set({
								x: f,
								y: g,
								positionX: f,
								positionY: g
							})
						}
					})
				},
				remove: function(a) {
					a = _.isArray(a) ? a : [a], k.pushdo(new e.Remove(this, a))
				},
				__doRemove: function(a) {
					a.forEach(function(a) {
						var b;
						return b = this.get("components").indexOf(a), -1 !== b ? (this.get("components").splice(b, 1), this.trigger("contentsChanged"), this.trigger("change:components.remove", this, a), a.trigger("unrender"), a.dispose(), this._resetOrder(), a) : void 0
					}, this)
				},
				validateCompName: function(a, b) {
					if (!b) return "\u540d\u79f0\u4e0d\u80fd\u4e3a\u7a7a\uff01";
					var c = !0;
					return this.get("components").forEach(function(d) {
						return d.get("name") == b && d.get("id") != a ? (c = "\u540d\u79f0\u4e0d\u80fd\u91cd\u590d\uff01", !1) : void 0
					}), c
				},
				getCompByNodeId: function(a) {
					var b = null;
					return this.get("components").forEach(function(c) {
						return c.get("id") == a ? (b = c, !1) : void 0
					}), b
				},
				dispose: function() {
					this.set({
						active: !1,
						selected: !1
					}), this.trigger("dispose", this), this.off()
				},
				constructor: function() {
					var a = arguments[0];
					a && (delete a.events, delete a.hooks), b.prototype.constructor.apply(this, arguments)
				}
			})
		}), define("strut/deck/SlideCollection", ["common/Calcium", "./Slide"], function(a, b) {
			return a.Collection.extend({
				model: b,
				initialize: function() {
					this.on("add", this._updateIndexes, this), this.on("remove", this._updateIndexes, this)
				},
				_updateIndexes: function() {
					this.models.forEach(function(a, b) {
						return a.set("index", b)
					})
				},
				slidesReorganized: function(a) {
					var b = [];
					this.models.forEach(function(c, d) {
						b.push(a[d].getPositionData())
					}, this);
					var c = {
						silent: !0
					};
					return b.forEach(function(a, b) {
						this.models[b].set(a, c)
					}, this), this.models.forEach(function(a, b) {
						a.set("index", b)
					}), this
				},
				_swapTransitionPositions: function(a, b) {
					var c, d;
					d = a.getPositionData(), c = {
						silent: !0
					}, a.set(b.getPositionData(), c), b.set(d, c)
				}
			})
		}), define("strut/deck/SlideCommands", ["strut/deck/Slide"], function() {
			var a, b, c;
			a = function(a, b, c) {
				this.deck = a, this.selected = this.deck.selected.slice(0), this.activeSlide = this.deck.get("activeSlide"), this.slides = b ? b.slice(0) : null, this.index = c
			}, a.prototype = {
				name: "Add Slide",
				"do": function() {
					this.deck._doAdd(this.slides, {
						preserveIndexes: !1,
						at: this.index
					})
				},
				undo: function() {
					this.deck._doRemove(this.slides), this.deck.selectSlides(this.selected, this.activeSlide)
				}
			}, b = function(a, b) {
				this.deck = a, this.slides = b.slice(0)
			}, b.prototype = {
				name: "Remove Slide",
				"do": function() {
					this.deck._doRemove(this.slides)
				},
				undo: function() {
					this.deck._doAdd(this.slides, {
						preserveIndexes: !0
					})
				}
			};
			var d = function(a, b, c, d) {
				this._deck = a, this._newActive = b, this._olderActive = c, this._options = d
			};
			return d.prototype.name = "Active Slide", d.prototype["do"] = function() {
				this._deck.__changeFromUndo = !0;
				var a = this._olderActive,
					b = this._newActive,
					c = this._options;
				a && a.set({
					active: !1,
					selected: !1
				}, c), b && b.set({
					selected: !0,
					active: !0
				}, c), this._deck.__changeFromUndo = !1
			}, d.prototype.undo = function() {
				this._deck.__changeFromUndo = !0;
				var a = this._olderActive,
					b = this._newActive,
					c = this._options;
				a && a.set({
					active: !0,
					selected: !0
				}, c), b && b.set({
					selected: !1,
					active: !1
				}, c), this._deck.__changeFromUndo = !1
			}, c = function(a, b, c) {
				return this.deck = a, this.slides = b.slice(0), this.destination = c, this.selected = this.deck.selected.slice(0), this.activeSlide = this.deck.get("activeSlide"), this
			}, c.prototype = {
				"do": function() {
					var a = this.deck.get("slides");
					this.initial_slides_order = a.models.slice(0), this.initial_selection = this.deck.selected.slice(0), this.initial_active_slide = this.deck.get("activeSlide"), a.remove(this.slides, {
						silent: !0
					}), a.add(this.slides, {
						silent: !0,
						at: this.destination
					}), a.slidesReorganized(this.initial_slides_order), this.deck.unselectSlides(), this.deck.selectSlides(this.selected, this.activeSlide), this.deck.trigger("slideMoved")
				},
				undo: function() {
					var a = this.deck.get("slides").models.slice(0);
					this.deck.get("slides").models = this.initial_slides_order, this.deck.get("slides").slidesReorganized(a), this.deck.unselectSlides(), this.deck.selectSlides(this.initial_selection, this.initial_active_slide), this.deck.trigger("slideMoved")
				},
				name: "Move Slide"
			}, {
				Add: a,
				Remove: b,
				Move: c,
				Active: d
			}
		}), define("strut/deck/DeckUpgrade", [], function() {
			function a(a) {
				var b = a.background;
				b && (a.background = void 0);
				var c = a.surface;
				c && (a.surface = void 0)
			}
			return {
				to1_0: function(b) {
					"1.0" != b.deckVersion && (b.deckVersion = "1.0", a(b), b.slides.forEach(function(b) {
						a(b)
					}))
				}
			}
		}), define("strut/deck/CustomBackgrounds", ["common/Calcium"], function(a) {
			return a.Model.extend({
				initialize: function() {
					var a = this.get("bgs");
					a || (a = [], this.set("bgs", a)), this._bgIndex = {}, a.forEach(function(a) {
						this._bgIndex[a] = !0
					}, this), this._lastPrune = a.length
				},
				prune: function(a) {
					var b = this.deck.get("slides"),
						c = this.deck.get("background"),
						d = this.deck.get("surface"),
						e = {},
						f = this.get("bgs");
					if (0 != f.length) {
						b.forEach(function(a) {
							var b = a.get("background");
							b && (e[b] = !0), b = a.get("surface"), b && (e[b] = !0)
						}), c && (e[c] = !0), d && (e[d] = !0);
						for (var g = f.length - 1; g > -1; --g) {
							var h = f[g].klass;
							null == e[h] && h !== a && (f.splice(g, 1), delete this._bgIndex[h])
						}
						this._lastPrune = f.length
					}
				},
				add: function(a) {
					var b = "bg-custom-" + a.replace("#", ""),
						c = this._bgIndex[b];
					return this.get("bgs").length - this._lastPrune > 10 && this.prune(b), c ? {
						existed: !0,
						klass: b
					} : (this.get("bgs").push({
						klass: b,
						style: a
					}), this._bgIndex[b] = !0, {
						existed: !1,
						klass: b
					})
				},
				constructor: function() {
					a.Model.prototype.constructor.apply(this, arguments)
				}
			})
		}), define("strut/deck/Deck", ["common/Calcium", "./SlideCollection", "./SlideCommands", "tantaman/web/undo_support/CmdListFactory", "strut/deck/Slide", "strut/editor/GlobalEvents", "./DeckUpgrade", "./CustomBackgrounds"], function(a, b, c, d, e, f, g, h) {
			return a.Model.extend({
				defaults: {
					id: "viewport",
					name: "viewport",
					viewportSize: window.config.slide.size,
					viewportScale: window.config.slide.scale,
					sceneLoop: !0,
					scaleRule: 1,
					orientationMode: 1,
					playControl: !0,
					events: [{
						key: "UIEvent"
					}, {
						key: "event_launched",
						name: "\u542f\u52a8\u6210\u529f"
					}, {
						key: "event_actived",
						name: "\u653e\u5165\u524d\u53f0"
					}, {
						key: "event_background",
						name: "\u653e\u5165\u540e\u53f0"
					}],
					hooks: [{
						key: "prev"
					}, {
						key: "next"
					}, {
						key: "play",
						param: !0
					}, {
						key: "pause",
						param: !0
					}, {
						key: "stop"
					}, {
						key: "prevStep"
					}, {
						key: "nextStep"
					}, {
						key: "requestURL",
						param: !0
					}, {
						key: "openWindow",
						param: !0
					}, {
						key: "replaceWindow",
						param: !0
					}, {
						key: "invoke",
						param: !0
					}, {
						key: "exec",
						param: !0
					}, {
						key: "share",
						param: !1
					}, {
						key: "resumeBackgroundMusic",
						param: !1
					}, {
						key: "pauseBackgroundMusic",
						param: !1
					}, {
						key: "stopBackgroundMusic",
						param: !1
					}]
				},
				selected: [],
				_notRecordActiveSlideChange: !1,
				initialize: function() {
					var a;
					this.undoHistory = d.managedInstance("editor"), this.set("slides", new b), a = this.get("slides"), a.on("add", this._slideAdded, this), a.on("remove", this._slideRemoved, this), a.on("reset", this._slidesReset, this), this.set("background", "bg-default")
				},
				set: function(b, c, d) {
					return "activeSlide" !== b || this.__changeFromUndo || this._activeSlideChanging(c, d), a.Model.prototype.set.apply(this, arguments)
				},
				moveSlides: function(a, b) {
					a = _.isArray(a) ? a : [a];
					var d = !1;
					a.forEach(function(c, e) {
						a[e].get("index") != b + e && (d = !0)
					}, this), d && this.undoHistory.pushdo(new c.Move(this, a, b))
				},
				slideBackground: function() {
					return this.get("background") || "bg-transparent"
				},
				slideSurface: function() {
					return this.get("surface") || "bg-default"
				},
				addCustomBgClassFor: function(a) {
					var b = this.get("customBackgrounds");
					return b.add(a)
				},
				"import": function(a) {
					if (a) {
						g.to1_0(a);
						var b, c;
						c = this.get("slides"), b = this.get("activeSlide"), void 0 !== b && b.unselectComponents(), this.set("activeSlide", void 0), this.set("server_id", a.server_id), this.set("config", a.config), this.set("background", a.background), this.set("bgImage", a.bgImage), this.set("bgColor", a.bgColor), this.set("fileName", a.fileName), this.set("surface", a.surface), this.set("customStylesheet", a.customStylesheet), this.set("deckVersion", a.deckVersion), this.set("cannedTransition", a.cannedTransition), this.set("listeners", a.listeners), a.viewportSize && this.set("viewportSize", a.viewportSize), a.viewportScale && this.set("viewportScale", a.viewportScale), void 0 != a.scaleRule && this.set("scaleRule", a.scaleRule), "boolean" == typeof a.sceneLoop && this.set("sceneLoop", a.sceneLoop), "boolean" == typeof a.playControl && this.set("playControl", a.playControl), this.set("orientationMode", a.orientationMode), this.set("stepEditorHeight", a.stepEditorHeight);
						var d = new h(a.customBackgrounds);
						this.set("customBackgrounds", d), c.reset(a.slides), d.deck = this, d.prune(), this.undoHistory.clear()
					}
				},
				_activeSlideChanging: function(a, b) {
					var d = this.get("activeSlide");
					if (a !== d) {
						if (!this._notRecordActiveSlideChange) return void this.undoHistory.pushdo(new c.Active(this, a, d, b));
						d && d.set({
							active: !1,
							selected: !1
						}, b), a && a.set({
							selected: !0,
							active: !0
						}, b)
					}
				},
				_slideAdded: function(a, b, c) {
					c = c || {}, c.at = _.isNumber(c.at) ? c.at : b.length, this._notRecordActiveSlideChange = !0, this.set("activeSlide", a, c), this._notRecordActiveSlideChange = !1, this.trigger("slideAdded", a, c), this._registerWithSlide(a)
				},
				_slideDisposed: function(a) {
					a.off(null, null, this)
				},
				_slideRemoved: function(a, b, c) {
					c = c || {}, this._notRecordActiveSlideChange = !0, this.get("activeSlide") === a && (c.index < b.length ? this.set("activeSlide", b.at(c.index)) : c.index > 0 ? this.set("activeSlide", b.at(c.index - 1)) : this.set("activeSlide", void 0)), this._notRecordActiveSlideChange = !1, a.dispose()
				},
				_slidesReset: function(a, b) {
					return b = b || {}, b.previousModels.forEach(function(a) {
						a.dispose()
					}), this.trigger("slidesReset", a), a.forEach(function(a) {
						this._registerWithSlide(a), a.get("active") ? (a.trigger("change:active", a, !0), a.trigger("change:selected", a, !0), this._selectionChanged(a, !0)) : a.get("selected") && a.set("selected", !1)
					}, this)
				},
				_slideActivated: function(a, b, c) {
					b && this.set("activeSlide", a, c)
				},
				selectSlides: function(a, b) {
					a = _.isArray(a) ? a : [a], a.length && (b = b || a[0], this.get("slides").forEach(function(a) {
						return a.set("selected", !1)
					}), b.set("active", !0, {
						multiselect: !0
					}), a.forEach(function(a) {
						a.set("selected", !0, {
							multiselect: !0
						})
					}))
				},
				unselectSlides: function(a, b) {
					a = a || this.get("slides").models, a = _.isArray(a) ? a : [a], a.forEach(function(a) {
						(b || !a.get("active")) && a.set("selected", !1)
					})
				},
				_selectionChanged: function(a, b, c) {
					c = c || {};
					var d = c.multiselect || f.pressed.ctrl || f.pressed.meta || f.pressed.shift;
					if (b) d || this.get("slides").forEach(function(b) {
						a !== b && b.set("selected", !1)
					}), -1 == this.selected.indexOf(a) && (this.selected.push(a), this._sortSelectedSlides());
					else {
						var e = this.selected.indexOf(a); - 1 !== e && (this.selected.splice(e, 1), this._sortSelectedSlides())
					}
				},
				_sortSelectedSlides: function() {
					this.selected.sort(function(a, b) {
						return a.get("index") - b.get("index")
					})
				},
				_registerWithSlide: function(a) {
					a.on("change:active", this._slideActivated, this), a.on("change:selected", this._selectionChanged, this), a.on("dispose", this._slideDisposed, this)
				},
				create: function(a) {
					var b = this.get("slides"),
						c = [new e];
					b.length ? this.add(c, a) : this._doAdd(c, {
						index: a
					})
				},
				add: function(a, b) {
					a = a || [new e], this.undoHistory.pushdo(new c.Add(this, a, b))
				},
				_doAdd: function(a, b) {
					var c = this.get("slides");
					if (a = _.isArray(a) ? a : [a], b = b || {}, !b.preserveIndexes && this.selected.length) var d = c.indexOf(this.selected[this.selected.length - 1]);
					for (var e = 0; e < a.length; e++) {
						var f = a[e];
						f.on("unrender", f.unrendered, f), b.at = _.isNumber(b.at) ? b.at + e : (b.preserveIndexes ? f.get("index") : d + 1 + e) || 0, c.add(f, b)
					}
					this.selectSlides(a)
				},
				remove: function(a) {
					a = _.isArray(a) ? a : [a], this.undoHistory.pushdo(new c.Remove(this, a))
				},
				_doRemove: function(a, b) {
					a = _.isArray(a) ? a : [a];
					var c = this.get("slides"),
						d = a.slice(0).reverse();
					d.forEach(function(a) {
						c.remove(a, b), a.off(), a.dispose()
					})
				},
				undo: function() {
					this.undoHistory.undo()
				},
				redo: function() {
					this.undoHistory.redo()
				},
				toJSON: function() {
					var b = a.Model.prototype.toJSON.apply(this, arguments);
					return delete b.background, delete b.cannedTransition, delete b.customStylesheet, delete b.surface, delete b.activeSlide, delete b.customBackgrounds, delete b.events, delete b.hooks, b
				}
			})
		}), define("strut/presentation_generator/erquan/erquanGenerator", ["common/Math2"], function(a) {
			var b = function(b) {
					var c = b.get("scaleRule"),
						d = b.get("viewportSize"),
						e = d.width,
						f = d.height,
						g = {
							node: {
								id: "erquan_viewport_01",
								type: "viewport",
								size: [e, f],
								designSize: [e, f, c || 3],
								children: [],
								loop: b.get("sceneLoop"),
								listeners: b.get("listeners"),
								bgColor: b.get("bgColor"),
								bgImage: b.get("bgImage")
							},
							scale: !!c,
							playControl: b.get("playControl"),
							orientationMode: b.get("orientationMode")
						},
						h = g.node.children;
					return b.get("slides").forEach(function(b) {
						var c = {
							type: "scene",
							id: b.get("id"),
							size: [e, f],
							listeners: b.get("listeners"),
							children: [],
							stepLists: [],
							playControl: b.get("playControl"),
							bgColor: b.get("bgColor"),
							bgImage: b.get("bgImage")
						};
						b.get("orderInAction") && (c.orderInAction = b.get("orderInAction")), b.get("orderOutAction") && (c.orderInAction = b.get("orderOutAction")), b.get("reverseInAction") && (c.orderInAction = b.get("reverseInAction")), b.get("reverseOutAction") && (c.orderInAction = b.get("reverseOutAction"));
						var d = c.children,
							g = c.stepLists;
						b.get("components").forEach(function(a) {
							var b = {
								id: a.get("id"),
								type: "node",
								zOrder: a.get("zOrder"),
								listeners: a.get("listeners")
							};
							switch (a.get("type").toLowerCase()) {
								case "image":
									b.type = "image", b.src = a.getURL(), b.recognizable = a.get("recognizable");
									break;
								case "textbox":
									b.type = "text";
									break;
								case "webframe":
									b.type = "webPage", b.src = a.get("src");
									break;
								case "audio":
									b.type = "audio", b.src = a.getURL(), b.playLoop = !!a.get("playLoop"), b.playBackground = !!a.get("playBackground");
									break;
								case "video":
									b.type = "video", b.src = a.getURL(), b.playLoop = !!a.get("playLoop")
							}
							d.push(b)
						}), b.get("stepListEditor").getStepLists().forEach(function(b) {
							var c = {
									id: b.get("id"),
									loop: b.get("loop"),
									steps: []
								},
								d = c.steps;
							b.getSteps().forEach(function(b) {
								var c = {
										id: b.get("id"),
										playEndPaused: b.get("playEndPaused"),
										listeners: b.get("listeners"),
										actions: []
									},
									e = c.actions;
								b.getActions().forEach(function(b) {
									var c = b.get("compAttrib");
									if (c) {
										var d = b.get("transition"),
											f = [d[0] / 1e3, d[1], d[2] / 1e3],
											g = {
												target: b.get("target"),
												id: b.get("id"),
												opacity: c.opacity / 100,
												size: [c.sizeX, c.sizeY],
												position: [c.positionX, c.positionY],
												scale: [c.scaleX, c.scaleY],
												skew: [a.toDeg(c.skewX), a.toDeg(c.skewY)],
												rotate: [a.toDeg(c.rotateX), a.toDeg(c.rotateY), a.toDeg(c.rotateZ)],
												bgColor: c.bgColor,
												transition: f,
												origin: [c.originX, c.originY, c.originZ]
											};
										g.customData = {
											scaleRule: c.scaleRule
										}, "TextBox" == c.type && (g.customData.text = c.text, g.customData.font = [c.size, null, null, null, c.lineHeight]), ("Video" == c.type || "Audio" == c.type) && (g.customData.playStatus = c.playStatus), e.push(g)
									}
								}), d.push(c)
							}), g.push(c)
						}), h.push(c)
					}), localStorage.setItem("erquan-preview-config", JSON.stringify(g)), g
				},
				c = function(a, b, c) {
					function d() {
						console.log("Loaded!"), window.location.hash = "#/step-" + (a.activeSlideIndex() + 1), b.previewWind.document.open(), b.previewWind.document.write(c), b.previewWind.document.close()
					}
					return d
				};
			return {
				render: b,
				getStartPreviewFn: c
			}
		}), define("common/FileUtils", [], function() {
			var a;
			return a = {
				baseName: function(a, b) {
					var c;
					return "/" === a[a.length - 1] && (a = a.substring(0, a.length - 1)), c = a.lastIndexOf("/"), -1 !== c && c + 1 < a.length && (a = a.substring(c + 1, a.length)), null != b && (c = a.lastIndexOf(b), c + b.length === a.length && (a = a.substring(0, c))), a
				},
				imageType: function(b) {
					var c;
					return 0 === b.indexOf("data:") ? (c = b.indexOf(";"), b.substring(11, c).toUpperCase()) : a.extension(b)
				},
				extension: function(a) {
					var b, c;
					return c = a.lastIndexOf("."), -1 !== c && c + 1 < a.length ? (b = a.substring(c + 1, a.length), c = b.lastIndexOf("?"), -1 !== c && (b = b.substring(0, c)), b.toUpperCase()) : ""
				},
				type: function(a) {
					switch (a) {
						case "MP4":
							return "video/mp4";
						case "WEBM":
							return "video/webm";
						case "OGG":
							return "video/ogg";
						default:
							return ""
					}
				},
				createDownloadAttrs: function(a, b, c) {
					var d, e, f;
					return e = new Blob([b], {
						type: a
					}), f = window.URL.createObjectURL(e), d = {
						href: f,
						download: c,
						downloadurl: [a, c, f].join(":")
					}
				},
				toText: function(a, b) {
					var c;
					return console.log(a.type), null != a ? (c = new FileReader, c.onload = function(a) {
						return b(a.target.result)
					}, c.readAsText(a)) : void 0
				}
			}
		}), define("strut/exporter/erquan/browser/Archiver", ["libs/jszip", "strut/deck/Deck", "strut/presentation_generator/erquan/erquanGenerator", "common/FileUtils", "erquan/config/common"], function(a, b, c, d, e) {
			var f, g, h = function(a) {
					$(".tabbedModal").modal("hide"), alert("\u4e0b\u8f7d\u8d44\u6e90\uff1a" + a + "\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\uff0c\u5e76\u91cd\u65b0\u6253\u5f00\u4e0b\u8f7d\u9875\uff01")
				},
				i = function(a, b) {
					var c = new XMLHttpRequest;
					c.open("GET", a, !0), c.responseType = "arraybuffer", c.withCredentials = !0, c.onload = function() {
						c.onload = c.onerror = null, b && b(this.response)
					}, c.onerror = function() {
						c.onload = c.onerror = null, h(a)
					}, c.send()
				};
			g = {
				includeImages: !0,
				includeFonts: !0
			};
			var j = /(<script type="text\/meta" id="wapper_config_data">).*?(<\/script>)/i,
				k = /(\w+\.)?boot.js/i,
				l = /^.*?;base64,/,
				m = /(\.\w+)$/i,
				n = e.service.base_url + "static/preview/",
				o = n + "boot.js";
			return f = function() {
				function b(a, b) {
					this.exports = a, this.presentation = a.adapted.deck(), this.options = b, this.options || (this.options = {}), this.canvas = $("<canvas></canvas>")[0], this._archivedImages = {}, this._imageIdx = 0, _.defaults(this.options, g)
				}
				b.prototype.create = function(b, c) {
					var d = this;
					this.archive = new a, this.cssDir = this.archive.folder("css"), this.externalDir = this.archive.folder("external"), this.imagesDir = this.archive.folder("images"), this._archiveIndexHtml(function() {
						d._archiveScripts(function() {
							d._archiveCss(function() {
								b && b(d.archive.generate(c))
							})
						})
					})
				}, b.prototype._archiveIndexHtml = function(a) {
					var b = this,
						e = n + "template";
					$.get(e).done(function(e) {
						var f = c.render(b.presentation),
							g = b.exports.identifier();
						e = e.replace(/\/static\/preview\//gi, "");
						var h = k.exec(e);
						h && (o = n + h[0], e = e.replace(k, "boot.js"));
						var i = [];
						f.node && f.node.children && f.node.children.forEach(function(a) {
							a.children && a.children.forEach(function(a) {
								"image" == a.type && i.push(a.src)
							})
						});
						var p = 0,
							q = i.length,
							r = {};
						! function s() {
							if (p >= q) {
								var c = j.exec(e);
								if (c) {
									var h = JSON.stringify(f);
									Object.keys(r).forEach(function(a) {
										var c = r[a],
											e = a,
											f = d.imageType(c);
										f = f && f.toLowerCase(), "jpeg" == f && (f = "jpg"), f = f ? "." + f : "";
										var g = d.baseName(a);
										g = g.replace(m, "");
										var e = g + f;
										c = c.replace(l, ""), b.imagesDir.file(e, c, {
											base64: !0
										}), h = h.replace(a, "images/" + e)
									}), e = _.template(e, {
										title: g,
										keywords: g,
										desc: g,
										meta_raw: JSON.stringify(b.exports["export"]()),
										content_raw: JSON.stringify(f),
										content: h
									}, {
										escape: /<%=([\s\S]+?)%>/g,
										interpolate: /<%-([\s\S]+?)%>/g
									})
								}
								return b.archive.file("index.html", e), a && a(), void(b._archivedImages = {})
							}
							var k = i[p++];
							b._archiveImage(k, function(a) {
								a && (r[k] = a), setTimeout(function() {
									s()
								}, 20)
							})
						}()
					}).fail(function() {
						h(e)
					})
				}, b.prototype._archiveScripts = function(a) {
					var b = this;
					return i(o, function(c) {
						b.archive.file("boot.js", c), i(n + "/external/require-2.1.9.js", function(c) {
							b.externalDir.file("require-2.1.9.js", c), a && a()
						})
					})
				};
				var e = n + "/css/",
					f = [];
				return b.prototype._archiveCss = function(a) {
					var b = 0,
						c = f.length,
						d = this,
						g = function() {
							if (b >= c) return a && a();
							var h = f[b++],
								j = e + h;
							i(j, function(a) {
								d.cssDir.file(h, a), g()
							})
						};
					g()
				}, b.prototype._archiveImage = function(a, b) {
					var c, d = this;
					this._archivedImages[a] ? b && b() : (this._archivedImages[a] = !0, c = new Image, c.crossOrigin = "*", c.onload = c.oncomplete = function() {
						c.onload = c.oncomplete = c.onerror = null, d.canvas.width = c.naturalWidth, d.canvas.height = c.naturalHeight, d.canvas.getContext("2d").drawImage(c, 0, 0);
						var e = $.ajax({
							type: "HEAD",
							url: a,
							xhrFields: {
								withCredentials: !1
							}
						}).done(function() {
							try {
								var a = e.getResponseHeader("Content-Type") || "";
								b && b(d.canvas.toDataURL(a.split(";")[0]))
							} catch (c) {
								console.log(c)
							}
						}).fail(function() {
							b && b()
						})
					}, c.onerror = function() {
						h(a), c.onload = c.oncomplete = c.onerror = null, b && b()
					}, c.src = a)
				}, b
			}()
		});
	var b = b || "undefined" != typeof navigator && navigator.msSaveOrOpenBlob && navigator.msSaveOrOpenBlob.bind(navigator) || function(a) {
		"use strict";
		if ("undefined" == typeof navigator || !/MSIE [1-9]\./.test(navigator.userAgent)) {
			var b = a.document,
				c = function() {
					return a.URL || a.webkitURL || a
				},
				d = b.createElementNS("http://www.w3.org/1999/xhtml", "a"),
				e = !a.externalHost && "download" in d,
				f = function(c) {
					var d = b.createEvent("MouseEvents");
					d.initMouseEvent("click", !0, !1, a, 0, 0, 0, 0, 0, !1, !1, !1, !1, 0, null), c.dispatchEvent(d)
				},
				g = a.webkitRequestFileSystem,
				h = a.requestFileSystem || g || a.mozRequestFileSystem,
				i = function(b) {
					(a.setImmediate || a.setTimeout)(function() {
						throw b
					}, 0)
				},
				j = "application/octet-stream",
				k = 0,
				l = 10,
				m = function(b) {
					var d = function() {
						"string" == typeof b ? c().revokeObjectURL(b) : b.remove()
					};
					a.chrome ? d() : setTimeout(d, l)
				},
				n = function(a, b, c) {
					b = [].concat(b);
					for (var d = b.length; d--;) {
						var e = a["on" + b[d]];
						if ("function" == typeof e) try {
							e.call(a, c || a)
						} catch (f) {
							i(f)
						}
					}
				},
				o = function(b, i) {
					var l, o, p, q = this,
						r = b.type,
						s = !1,
						t = function() {
							n(q, "writestart progress write writeend".split(" "))
						},
						u = function() {
							if ((s || !l) && (l = c().createObjectURL(b)), o) o.location.href = l;
							else {
								var d = a.open(l, "_blank");
								void 0 == d && "undefined" != typeof safari && (a.location.href = l)
							}
							q.readyState = q.DONE, t(), m(l)
						},
						v = function(a) {
							return function() {
								return q.readyState !== q.DONE ? a.apply(this, arguments) : void 0
							}
						},
						w = {
							create: !0,
							exclusive: !1
						};
					return q.readyState = q.INIT, i || (i = "download"), e ? (l = c().createObjectURL(b), d.href = l, d.download = i, f(d), q.readyState = q.DONE, t(), void m(l)) : (a.chrome && r && r !== j && (p = b.slice || b.webkitSlice, b = p.call(b, 0, b.size, j), s = !0), g && "download" !== i && (i += ".download"), (r === j || g) && (o = a), h ? (k += b.size, void h(a.TEMPORARY, k, v(function(a) {
						a.root.getDirectory("saved", w, v(function(a) {
							var c = function() {
								a.getFile(i, w, v(function(a) {
									a.createWriter(v(function(c) {
										c.onwriteend = function(b) {
											o.location.href = a.toURL(), q.readyState = q.DONE, n(q, "writeend", b), m(a)
										}, c.onerror = function() {
											var a = c.error;
											a.code !== a.ABORT_ERR && u()
										}, "writestart progress write abort".split(" ").forEach(function(a) {
											c["on" + a] = q["on" + a]
										}), c.write(b), q.abort = function() {
											c.abort(), q.readyState = q.DONE
										}, q.readyState = q.WRITING
									}), u)
								}), u)
							};
							a.getFile(i, {
								create: !1
							}, v(function(a) {
								a.remove(), c()
							}), v(function(a) {
								a.code === a.NOT_FOUND_ERR ? c() : u()
							}))
						}), u)
					}), u)) : void u())
				},
				p = o.prototype,
				q = function(a, b) {
					return new o(a, b)
				};
			return p.abort = function() {
				var a = this;
				a.readyState = a.DONE, n(a, "abort")
			}, p.readyState = p.INIT = 0, p.WRITING = 1, p.DONE = 2, p.error = p.onwritestart = p.onprogress = p.onwrite = p.onabort = p.onerror = p.onwriteend = null, q
		}
	}("undefined" != typeof self && self || "undefined" != typeof window && window || this.content);
	"undefined" != typeof module && null !== module ? module.exports = b : "undefined" != typeof define && null !== define && null != define.amd && define("libs/FileSaver", [], function() {
			return b
		}), define("strut/exporter/erquan/browser/View", ["libs/backbone", "./Archiver", "lang", "libs/FileSaver"], function(a, b, c, d) {
			return a.View.extend({
				name: "erquan",
				initialize: function() {
					this.$el.html('<div class="alert alert-info">\u672c\u6b21\u5bfc\u51fa\u5305\u542b\u6253\u5305\u540e\u7684\u6240\u6709\u6587\u4ef6\uff0c\u5bfc\u5165\u65f6\uff0c\u8bf7\u9009\u62e9\u538b\u7f29\u6587\u4ef6\u4e2d\u7684index.html\u3002\u6ce8\u610f\u4e0d\u8981\u4fee\u6539index.html\u9875\u9762\u4e2d\u7684meta\u4fe1\u606f\uff0c\u5426\u5219\uff0c\u53ef\u80fd\u51fa\u73b0\u4e0d\u80fd\u5bfc\u5165\u7684\u60c5\u51b5\uff01<p></p>')
				},
				show: function(a, b) {
					this._$modal = b;
					var c = this._$modal.find(".ok"),
						d = this._$modal.find(".loading");
					this._makeDownloadable(c, d), a.append(this.$el)
				},
				_makeDownloadable: function(a, c) {
					c.show(), a.addClass("disabled");
					var e = new b(this._exportable),
						f = this;
					e.create(function(b) {
						var e = a[0];
						a.removeClass("disabled"), c.hide(), e.href = window.URL.createObjectURL(b), e.download = f._exportable.identifier() + ".zip", e.dataset.downloadurl = ["application/json", e.download, e.href].join(":"), e.onclick = function(a) {
							d(b, e.download), a.preventDefault()
						}
					}, {
						type: "blob"
					})
				},
				hide: function() {
					this.$el.detach(), this.hidden()
				},
				hidden: function() {
					var a = this._$modal.find(".ok");
					window.URL.revokeObjectURL(a.attr("href"))
				},
				render: function() {
					return this.$el.html("Zipping while running Strut from file:// URLs is currently not supported due to browser security restrictions.  The best way zip your presentation in this case is to:<br/><ol><li>Click Preview, then</li><li>Use your browser's <code>Save Page As</code> functionality<br/>to save the entire presentation to disk.</li></ol>"), this
				},
				constructor: function(b) {
					this._exportable = b, a.View.prototype.constructor.call(this)
				}
			})
		}), define("strut/exporter/erquan/browser/main", ["./View"], function(a) {
			"use strict";
			var b = {
				createView: function(b) {
					return new a(b.exportable)
				}
			};
			return {
				initialize: function(a) {
					a.register({
						interfaces: "strut.exporter"
					}, b)
				}
			}
		}), define("strut/importer/erquan/main", ["common/FileUtils", "libs/jszip"], function(a, b) {
			"use strict";
			var c = /(<script type="text\/meta" id="wapper_raw_data">)(.*)(<\/script>)/i,
				d = /(<script type="text\/meta" id="wapper_base64">)(.*)(<\/script>)/i,
				e = /\.zip$/,
				f = {
					"import": function(f, g, h) {
						if ("text/html" == f.type || "" == f.type) {
							var i = function(a) {
								var b = c.exec(a);
								if (!b) return h();
								var e = JSON.parse(b[2]),
									f = {},
									i = d.exec(a);
								i && (f = JSON.parse(i[2]));
								var j = Object.keys(f),
									k = function(a) {
										if ("Image" == a.type && a.src && a.src.docKey) {
											var b = [a.src.docKey, a.src.attachKey].join("-attachments/"),
												c = "";
											j.forEach(function(a) {
												return ~a.indexOf(b) ? (c = f[a], !1) : void 0
											}), c && (a.src = c)
										}
									};
								e.activeSlide && e.activeSlide.components && e.activeSlide.components.forEach(function(a) {
									k(a)
								}), e.slides && e.slides.forEach(function(a) {
									a.components && a.components.forEach(function(a) {
										k(a)
									})
								}), delete e.server_id, g.importPresentation(e)
							};
							if (e.test(f.name)) {
								var j = new FileReader;
								j.onload = function(a) {
									var c = new b(a.target.result);
									i(c.files["index.html"] ? c.file("index.html").asText() : "")
								}, j.readAsArrayBuffer(f)
							} else a.toText(f, function(a) {
								i(a)
							})
						} else h()
					}
				};
			return {
				initialize: function(a) {
					a.register({
						interfaces: "strut.importer"
					}, f)
				}
			}
		}), define("tantaman/web/widgets/HiddenOpen", ["libs/backbone"], function(a) {
			return a.View.extend({
				className: "dispNone",
				events: {
					"change input[type='file']": "_fileChosen"
				},
				initialize: function(a, b) {
					return this._cb = b, null != a ? a.on("click", this.trigger.bind(this)) : void 0
				},
				trigger: function(a) {
					return null != a && (this._cb = a), this.$input.click()
				},
				_fileChosen: function(a) {
					var b;
					return b = a.target.files[0], this._cb(b)
				},
				clear: function() {
					this.$input.val("")
				},
				render: function() {
					return this.$input = $('<input type="file"></input>'), this.$el.html(this.$input), this
				}
			})
		}), define("framework/Iterator", [], function() {
			function a(a) {
				return Array.isArray(a) || a instanceof Array ? new b(a) : new c(a)
			}

			function b(a) {
				this._val = a, this._crsr = 0
			}

			function c(a) {
				this._object = a, this._iter = new b(Object.keys(a))
			}
			return b.prototype = {
				next: function() {
					return this._val[this._crsr++]
				},
				hasNext: function() {
					return this._crsr < this._val.length
				}
			}, c.prototype = {
				next: function() {
					return this._object[this._iter.next()]
				},
				hasNext: function() {
					return this._iter.hasNext()
				}
			}, a
		}), define("strut/importer/main", ["tantaman/web/widgets/MenuItem", "framework/ServiceCollection", "tantaman/web/widgets/HiddenOpen", "framework/Iterator", "lang"], function(a, b, c, d, e) {
			"use strict";

			function f(a) {
				i.trigger(function(b) {
					g(b, a)
				}), i.clear()
			}

			function g(a, b) {
				function c() {
					e.hasNext() && e.next()["import"](a, b, c)
				}
				var e = new d(h);
				c()
			}
			var h = null,
				i = new c;
			$("body").append(i.render().$el);
			var j = {
				createMenuItems: function(b) {
					return new a({
						title: e["import"],
						handler: f,
						model: b
					})
				}
			};
			return {
				initialize: function(a) {
					h = new b(a, "strut.importer", b.toServiceConverter), a.register({
						interfaces: "strut.LogoMenuItemProvider"
					}, j)
				}
			}
		}), define("tantaman/web/widgets/TabbedModal", ["libs/backbone"], function(a) {
			return a.View.extend({
				events: {
					hidden: "_hidden"
				},
				className: "tabbedModal modal hide",
				initialize: function() {},
				__template: function() {
					return JST["tantaman.web.widgets/TabbedModal"]
				},
				_providerSelected: function(a, b, c) {
					if (b) {
						var d = $(b.currentTarget);
						if (this.$lastProviderTab && this.$lastProviderTab[0] == d[0]) return
					}
					this.$lastProviderTab && this.$lastProviderTab.removeClass("active"), this.$lastProviderTab = d, this.$lastProviderTab.addClass("active"), this.__currentProvider && this.__currentProvider.hide(), this.__currentProvider = this.__tabCollection[a], this.__providerSelected(this.__currentProvider, b), !c && this.__currentProvider.show(this.$tabContent, this.$el)
				},
				__providerSelected: function() {},
				_hidden: function() {
					this.__currentProvider && this.__currentProvider.hidden()
				},
				show: function(a, b) {
					this.__cb = a, this.__$title.text(b), this.__currentProvider && this.__currentProvider.show(this.$tabContent, this.$el), this.$el.modal("show")
				},
				render: function() {
					this.$el.html(this.__template()(this.__tabCollection)), this.__$ok = this.$el.find(".ok"), this.__$title = this.$el.find(".title"), this.$tabContent = this.$el.find(".tabContent");
					var a = this,
						b = this.$el.find(".providerTab");
					return b.each(function(b) {
						var c = $(this);
						c.click(function(c) {
							a._providerSelected(b, c)
						})
					}), this.__tabCollection.length > 0 && a._providerSelected(0, {
						currentTarget: b[0]
					}, !0), this
				},
				constructor: function(b) {
					this.__tabCollection = b, a.View.prototype.constructor.call(this)
				}
			})
		}), define("strut/exporter/ExportImportModal", ["tantaman/web/widgets/TabbedModal"], function(a) {
			return a.extend({
				intialize: function() {},
				constructor: function(b, c) {
					var d = [];
					c.forEach(function(a) {
						d.push(a.createView(b))
					}), a.prototype.constructor.call(this, d)
				}
			})
		}), define("strut/exporter/main", ["tantaman/web/widgets/MenuItem", "framework/ServiceCollection", "./ExportImportModal", "lang"], function(a, b, c, d) {
			"use strict";
			var e = $("#modals"),
				f = null,
				g = null,
				h = {
					createMenuItems: function(b) {
						null == f && (f = new c(b, g), f.render(), e.append(f.$el));
						var h = new a({
							title: d["export"],
							modal: f
						});
						return [h]
					}
				};
			return {
				initialize: function(a) {
					g = new b(a, "strut.exporter", b.toServiceConverter), a.register({
						interfaces: ["strut.LogoMenuItemProvider"]
					}, h), a.register({
						interfaces: "strut.exporter.Collection"
					}, g)
				}
			}
		}), define("strut/presentation_generator/erquan/main", ["./erquanGenerator"], function(a) {
			"use strict";
			var b = {
				displayName: "erquan",
				id: "erquan",
				capabilities: {
					freeformStepping: !0
				},
				generate: function(b) {
					return a.render(b)
				},
				getSlideHash: function(a) {
					return "#!/scene-" + (a.activeSlideIndex() + 1)
				}
			};
			return {
				initialize: function(a) {
					a.register({
						interfaces: "strut.presentation_generator"
					}, b)
				}
			}
		}), define("strut/presentation_generator/main", ["framework/ServiceCollection"], function(a) {
			return {
				initialize: function(b) {
					var c = new a(b, "strut.presentation_generator", function(a) {
						return a.service()
					});
					b.register("strut.presentation_generator.GeneratorCollection", c)
				}
			}
		}), define("tantaman/web/saver/ExitSaver", ["erquan/config/common", "erquan/unique/main"], function(a, b) {
			"use strict";

			function c(a, b) {
				this._exportable = a, this._storageInterface = b, this._unloaded = this._unloaded.bind(this), $(window).unload(this._unloaded)
			}
			return c.prototype._unloaded = function() {
				var c = this._exportable.identifier(),
					d = this._exportable["export"]();
				try {
					if (localStorage.setItem(a.clientData.last_project_title, c), localStorage.setItem("Strut_sessionMeta", JSON.stringify(window.sessionMeta)), !b.isOnline()) return;
					var e = d.server_id;
					if (!e) return void console.error("unexpected server id!");
					var f = d.config;
					delete d.server_id, delete d.config;
					var g = a.service.base_url + e + "/update",
						h = {
							config: JSON.stringify(f),
							content: JSON.stringify(d)
						};
					if (!navigator.sendBeacon) return $.ajax({
						url: g,
						type: "post",
						async: !1,
						data: h
					});
					var i = new FormData;
					i.append("config", h.config), i.append("content", h.content), navigator.sendBeacon(g, i)
				} catch (j) {
					console.error(j)
				}
			}, c.prototype.dispose = function() {
				$(window).off("unload", this._unloaded)
			}, c
		}), define("tantaman/web/saver/Saver", [], function() {
			"use strict";

			function a(a, b) {
				this.storageInterface = b, this.exportables = Array.isArray(a) ? a : [a]
			}
			return a.prototype = {
				__save: function() {
					this.storageInterface.ready() && this.exportables.forEach(function(a) {
						var b = a["export"](),
							c = a.identifier();
						this.storageInterface.store(c, b)
					}, this)
				},
				save: function() {
					this.__save()
				}
			}, a
		}), define("tantaman/web/saver/TimedSaver", ["./Saver"], function(a) {
			"use strict";

			function b(b, c, d) {
				a.call(this, b, d), this._intervalH = setInterval(this.__save.bind(this), c)
			}
			var c = b.prototype = Object.create(a.prototype);
			return c.dispose = function() {
				clearInterval(this._intervalH)
			}, b
		}), define("tantaman/web/saver/main", ["./ExitSaver", "./TimedSaver", "./Saver"], function(a, b) {
			var c = {
				timedSaver: function(a, c, d) {
					return new b(a, c, d)
				},
				exitSaver: function(b, c) {
					return new a(b, c)
				},
				manualSaver: function(a, b) {
					return new Saver(a, b)
				}
			};
			return {
				initialize: function(a) {
					a.register({
						interfaces: "tantaman.web.saver.AutoSavers"
					}, c)
				}
			}
		}), define("strut/slide_editor/model/SlideEditorModel", ["libs/backbone"], function(a) {
			return a.Model.extend({
				initialize: function() {
					this._editorModel.on("launch:preview", this._triggerSave, this), this._editorModel.on("change:modeId", this._triggerSave, this)
				},
				_triggerSave: function() {
					this.trigger("saveEdits", null)
				},
				deck: function() {
					return this._editorModel.deck()
				},
				activeSlide: function() {
					return this._editorModel.deck().get("activeSlide")
				},
				isMarkdownMode: function() {
					return "markdown" == this.get("mode")
				},
				toggleMarkdown: function() {
					this.isMarkdownMode() ? this.set("mode", "preview") : this.set("mode", "markdown")
				},
				dispose: function() {
					this._editorModel.off(null, null, this), this.off()
				},
				constructor: function(b) {
					this._editorModel = b.editorModel, a.Model.prototype.constructor.call(this)
				}
			})
		}),
		function(a, b) {
			function c(b, c) {
				var e, f, g, h = b.nodeName.toLowerCase();
				return "area" === h ? (e = b.parentNode, f = e.name, b.href && f && "map" === e.nodeName.toLowerCase() ? (g = a("img[usemap=#" + f + "]")[0], !!g && d(g)) : !1) : (/input|select|textarea|button|object/.test(h) ? !b.disabled : "a" === h ? b.href || c : c) && d(b)
			}

			function d(b) {
				return a.expr.filters.visible(b) && !a(b).parents().addBack().filter(function() {
					return "hidden" === a.css(this, "visibility")
				}).length
			}
			var e = 0,
				f = /^ui-id-\d+$/;
			a.ui = a.ui || {}, a.extend(a.ui, {
				version: "1.10.3",
				keyCode: {
					BACKSPACE: 8,
					COMMA: 188,
					DELETE: 46,
					DOWN: 40,
					END: 35,
					ENTER: 13,
					ESCAPE: 27,
					HOME: 36,
					LEFT: 37,
					NUMPAD_ADD: 107,
					NUMPAD_DECIMAL: 110,
					NUMPAD_DIVIDE: 111,
					NUMPAD_ENTER: 108,
					NUMPAD_MULTIPLY: 106,
					NUMPAD_SUBTRACT: 109,
					PAGE_DOWN: 34,
					PAGE_UP: 33,
					PERIOD: 190,
					RIGHT: 39,
					SPACE: 32,
					TAB: 9,
					UP: 38
				}
			}), a.fn.extend({
				focus: function(b) {
					return function(c, d) {
						return "number" == typeof c ? this.each(function() {
							var b = this;
							setTimeout(function() {
								a(b).focus(), d && d.call(b)
							}, c)
						}) : b.apply(this, arguments)
					}
				}(a.fn.focus),
				scrollParent: function() {
					var b;
					return b = a.ui.ie && /(static|relative)/.test(this.css("position")) || /absolute/.test(this.css("position")) ? this.parents().filter(function() {
						return /(relative|absolute|fixed)/.test(a.css(this, "position")) && /(auto|scroll)/.test(a.css(this, "overflow") + a.css(this, "overflow-y") + a.css(this, "overflow-x"))
					}).eq(0) : this.parents().filter(function() {
						return /(auto|scroll)/.test(a.css(this, "overflow") + a.css(this, "overflow-y") + a.css(this, "overflow-x"))
					}).eq(0), /fixed/.test(this.css("position")) || !b.length ? a(document) : b
				},
				zIndex: function(c) {
					if (c !== b) return this.css("zIndex", c);
					if (this.length)
						for (var d, e, f = a(this[0]); f.length && f[0] !== document;) {
							if (d = f.css("position"), ("absolute" === d || "relative" === d || "fixed" === d) && (e = parseInt(f.css("zIndex"), 10), !isNaN(e) && 0 !== e)) return e;
							f = f.parent()
						}
					return 0
				},
				uniqueId: function() {
					return this.each(function() {
						this.id || (this.id = "ui-id-" + ++e)
					})
				},
				removeUniqueId: function() {
					return this.each(function() {
						f.test(this.id) && a(this).removeAttr("id")
					})
				}
			}), a.extend(a.expr[":"], {
				data: a.expr.createPseudo ? a.expr.createPseudo(function(b) {
					return function(c) {
						return !!a.data(c, b)
					}
				}) : function(b, c, d) {
					return !!a.data(b, d[3])
				},
				focusable: function(b) {
					return c(b, !isNaN(a.attr(b, "tabindex")))
				},
				tabbable: function(b) {
					var d = a.attr(b, "tabindex"),
						e = isNaN(d);
					return (e || d >= 0) && c(b, !e)
				}
			}), a("<a>").outerWidth(1).jquery || a.each(["Width", "Height"], function(c, d) {
				function e(b, c, d, e) {
					return a.each(f, function() {
						c -= parseFloat(a.css(b, "padding" + this)) || 0, d && (c -= parseFloat(a.css(b, "border" + this + "Width")) || 0), e && (c -= parseFloat(a.css(b, "margin" + this)) || 0)
					}), c
				}
				var f = "Width" === d ? ["Left", "Right"] : ["Top", "Bottom"],
					g = d.toLowerCase(),
					h = {
						innerWidth: a.fn.innerWidth,
						innerHeight: a.fn.innerHeight,
						outerWidth: a.fn.outerWidth,
						outerHeight: a.fn.outerHeight
					};
				a.fn["inner" + d] = function(c) {
					return c === b ? h["inner" + d].call(this) : this.each(function() {
						a(this).css(g, e(this, c) + "px")
					})
				}, a.fn["outer" + d] = function(b, c) {
					return "number" != typeof b ? h["outer" + d].call(this, b) : this.each(function() {
						a(this).css(g, e(this, b, !0, c) + "px")
					})
				}
			}), a.fn.addBack || (a.fn.addBack = function(a) {
				return this.add(null == a ? this.prevObject : this.prevObject.filter(a))
			}), a("<a>").data("a-b", "a").removeData("a-b").data("a-b") && (a.fn.removeData = function(b) {
				return function(c) {
					return arguments.length ? b.call(this, a.camelCase(c)) : b.call(this)
				}
			}(a.fn.removeData)), a.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()), a.support.selectstart = "onselectstart" in document.createElement("div"), a.fn.extend({
				disableSelection: function() {
					return this.bind((a.support.selectstart ? "selectstart" : "mousedown") + ".ui-disableSelection", function(a) {
						a.preventDefault()
					})
				},
				enableSelection: function() {
					return this.unbind(".ui-disableSelection")
				}
			}), a.extend(a.ui, {
				plugin: {
					add: function(b, c, d) {
						var e, f = a.ui[b].prototype;
						for (e in d) f.plugins[e] = f.plugins[e] || [], f.plugins[e].push([c, d[e]])
					},
					call: function(a, b, c) {
						var d, e = a.plugins[b];
						if (e && a.element[0].parentNode && 11 !== a.element[0].parentNode.nodeType)
							for (d = 0; d < e.length; d++) a.options[e[d][0]] && e[d][1].apply(a.element, c)
					}
				},
				hasScroll: function(b, c) {
					if ("hidden" === a(b).css("overflow")) return !1;
					var d = c && "left" === c ? "scrollLeft" : "scrollTop",
						e = !1;
					return b[d] > 0 ? !0 : (b[d] = 1, e = b[d] > 0, b[d] = 0, e)
				}
			})
		}(jQuery),
		function(a, b) {
			var c = 0,
				d = Array.prototype.slice,
				e = a.cleanData;
			a.cleanData = function(b) {
				for (var c, d = 0; null != (c = b[d]); d++) try {
					a(c).triggerHandler("remove")
				} catch (f) {}
				e(b)
			}, a.widget = function(b, c, d) {
				var e, f, g, h, i = {},
					j = b.split(".")[0];
				b = b.split(".")[1], e = j + "-" + b, d || (d = c, c = a.Widget), a.expr[":"][e.toLowerCase()] = function(b) {
					return !!a.data(b, e)
				}, a[j] = a[j] || {}, f = a[j][b], g = a[j][b] = function(a, b) {
					return this._createWidget ? void(arguments.length && this._createWidget(a, b)) : new g(a, b)
				}, a.extend(g, f, {
					version: d.version,
					_proto: a.extend({}, d),
					_childConstructors: []
				}), h = new c, h.options = a.widget.extend({}, h.options), a.each(d, function(b, d) {
					return a.isFunction(d) ? void(i[b] = function() {
						var a = function() {
								return c.prototype[b].apply(this, arguments)
							},
							e = function(a) {
								return c.prototype[b].apply(this, a)
							};
						return function() {
							var b, c = this._super,
								f = this._superApply;
							return this._super = a, this._superApply = e, b = d.apply(this, arguments), this._super = c, this._superApply = f, b
						}
					}()) : void(i[b] = d)
				}), g.prototype = a.widget.extend(h, {
					widgetEventPrefix: f ? h.widgetEventPrefix : b
				}, i, {
					constructor: g,
					namespace: j,
					widgetName: b,
					widgetFullName: e
				}), f ? (a.each(f._childConstructors, function(b, c) {
					var d = c.prototype;
					a.widget(d.namespace + "." + d.widgetName, g, c._proto)
				}), delete f._childConstructors) : c._childConstructors.push(g), a.widget.bridge(b, g)
			}, a.widget.extend = function(c) {
				for (var e, f, g = d.call(arguments, 1), h = 0, i = g.length; i > h; h++)
					for (e in g[h]) f = g[h][e], g[h].hasOwnProperty(e) && f !== b && (c[e] = a.isPlainObject(f) ? a.isPlainObject(c[e]) ? a.widget.extend({}, c[e], f) : a.widget.extend({}, f) : f);
				return c
			}, a.widget.bridge = function(c, e) {
				var f = e.prototype.widgetFullName || c;
				a.fn[c] = function(g) {
					var h = "string" == typeof g,
						i = d.call(arguments, 1),
						j = this;
					return g = !h && i.length ? a.widget.extend.apply(null, [g].concat(i)) : g, this.each(h ? function() {
						var d, e = a.data(this, f);
						return e ? a.isFunction(e[g]) && "_" !== g.charAt(0) ? (d = e[g].apply(e, i), d !== e && d !== b ? (j = d && d.jquery ? j.pushStack(d.get()) : d, !1) : void 0) : a.error("no such method '" + g + "' for " + c + " widget instance") : a.error("cannot call methods on " + c + " prior to initialization; attempted to call method '" + g + "'")
					} : function() {
						var b = a.data(this, f);
						b ? b.option(g || {})._init() : a.data(this, f, new e(g, this))
					}), j
				}
			}, a.Widget = function() {}, a.Widget._childConstructors = [], a.Widget.prototype = {
				widgetName: "widget",
				widgetEventPrefix: "",
				defaultElement: "<div>",
				options: {
					disabled: !1,
					create: null
				},
				_createWidget: function(b, d) {
					d = a(d || this.defaultElement || this)[0], this.element = a(d), this.uuid = c++, this.eventNamespace = "." + this.widgetName + this.uuid, this.options = a.widget.extend({}, this.options, this._getCreateOptions(), b), this.bindings = a(), this.hoverable = a(), this.focusable = a(), d !== this && (a.data(d, this.widgetFullName, this), this._on(!0, this.element, {
						remove: function(a) {
							a.target === d && this.destroy()
						}
					}), this.document = a(d.style ? d.ownerDocument : d.document || d), this.window = a(this.document[0].defaultView || this.document[0].parentWindow)), this._create(), this._trigger("create", null, this._getCreateEventData()), this._init()
				},
				_getCreateOptions: a.noop,
				_getCreateEventData: a.noop,
				_create: a.noop,
				_init: a.noop,
				destroy: function() {
					this._destroy(), this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(a.camelCase(this.widgetFullName)), this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled ui-state-disabled"), this.bindings.unbind(this.eventNamespace), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus")
				},
				_destroy: a.noop,
				widget: function() {
					return this.element
				},
				option: function(c, d) {
					var e, f, g, h = c;
					if (0 === arguments.length) return a.widget.extend({}, this.options);
					if ("string" == typeof c)
						if (h = {}, e = c.split("."), c = e.shift(), e.length) {
							for (f = h[c] = a.widget.extend({}, this.options[c]), g = 0; g < e.length - 1; g++) f[e[g]] = f[e[g]] || {}, f = f[e[g]];
							if (c = e.pop(), d === b) return f[c] === b ? null : f[c];
							f[c] = d
						} else {
							if (d === b) return this.options[c] === b ? null : this.options[c];
							h[c] = d
						}
					return this._setOptions(h), this
				},
				_setOptions: function(a) {
					var b;
					for (b in a) this._setOption(b, a[b]);
					return this
				},
				_setOption: function(a, b) {
					return this.options[a] = b, "disabled" === a && (this.widget().toggleClass(this.widgetFullName + "-disabled ui-state-disabled", !!b).attr("aria-disabled", b), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus")), this
				},
				enable: function() {
					return this._setOption("disabled", !1)
				},
				disable: function() {
					return this._setOption("disabled", !0)
				},
				_on: function(b, c, d) {
					var e, f = this;
					"boolean" != typeof b && (d = c, c = b, b = !1), d ? (c = e = a(c), this.bindings = this.bindings.add(c)) : (d = c, c = this.element, e = this.widget()), a.each(d, function(d, g) {
						function h() {
							return b || f.options.disabled !== !0 && !a(this).hasClass("ui-state-disabled") ? ("string" == typeof g ? f[g] : g).apply(f, arguments) : void 0
						}
						"string" != typeof g && (h.guid = g.guid = g.guid || h.guid || a.guid++);
						var i = d.match(/^(\w+)\s*(.*)$/),
							j = i[1] + f.eventNamespace,
							k = i[2];
						k ? e.delegate(k, j, h) : c.bind(j, h)
					})
				},
				_off: function(a, b) {
					b = (b || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace, a.unbind(b).undelegate(b)
				},
				_delay: function(a, b) {
					function c() {
						return ("string" == typeof a ? d[a] : a).apply(d, arguments)
					}
					var d = this;
					return setTimeout(c, b || 0)
				},
				_hoverable: function(b) {
					this.hoverable = this.hoverable.add(b), this._on(b, {
						mouseenter: function(b) {
							a(b.currentTarget).addClass("ui-state-hover")
						},
						mouseleave: function(b) {
							a(b.currentTarget).removeClass("ui-state-hover")
						}
					})
				},
				_focusable: function(b) {
					this.focusable = this.focusable.add(b), this._on(b, {
						focusin: function(b) {
							a(b.currentTarget).addClass("ui-state-focus")
						},
						focusout: function(b) {
							a(b.currentTarget).removeClass("ui-state-focus")
						}
					})
				},
				_trigger: function(b, c, d) {
					var e, f, g = this.options[b];
					if (d = d || {}, c = a.Event(c), c.type = (b === this.widgetEventPrefix ? b : this.widgetEventPrefix + b).toLowerCase(), c.target = this.element[0], f = c.originalEvent)
						for (e in f) e in c || (c[e] = f[e]);
					return this.element.trigger(c, d), !(a.isFunction(g) && g.apply(this.element[0], [c].concat(d)) === !1 || c.isDefaultPrevented())
				}
			}, a.each({
				show: "fadeIn",
				hide: "fadeOut"
			}, function(b, c) {
				a.Widget.prototype["_" + b] = function(d, e, f) {
					"string" == typeof e && (e = {
						effect: e
					});
					var g, h = e ? e === !0 || "number" == typeof e ? c : e.effect || c : b;
					e = e || {}, "number" == typeof e && (e = {
						duration: e
					}), g = !a.isEmptyObject(e), e.complete = f, e.delay && d.delay(e.delay), g && a.effects && a.effects.effect[h] ? d[b](e) : h !== b && d[h] ? d[h](e.duration, e.easing, f) : d.queue(function(c) {
						a(this)[b](), f && f.call(d[0]), c()
					})
				}
			})
		}(jQuery),
		function(a) {
			var b = !1;
			a(document).mouseup(function() {
				b = !1
			}), a.widget("ui.mouse", {
				version: "1.10.3",
				options: {
					cancel: "input,textarea,button,select,option",
					distance: 1,
					delay: 0
				},
				_mouseInit: function() {
					var b = this;
					this.element.bind("mousedown." + this.widgetName, function(a) {
						return b._mouseDown(a)
					}).bind("click." + this.widgetName, function(c) {
						return !0 === a.data(c.target, b.widgetName + ".preventClickEvent") ? (a.removeData(c.target, b.widgetName + ".preventClickEvent"), c.stopImmediatePropagation(), !1) : void 0
					}), this.started = !1
				},
				_mouseDestroy: function() {
					this.element.unbind("." + this.widgetName), this._mouseMoveDelegate && a(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
				},
				_mouseDown: function(c) {
					if (!b) {
						this._mouseStarted && this._mouseUp(c), this._mouseDownEvent = c;
						var d = this,
							e = 1 === c.which,
							f = "string" == typeof this.options.cancel && c.target.nodeName ? a(c.target).closest(this.options.cancel).length : !1;
						return e && !f && this._mouseCapture(c) ? (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function() {
							d.mouseDelayMet = !0
						}, this.options.delay)), this._mouseDistanceMet(c) && this._mouseDelayMet(c) && (this._mouseStarted = this._mouseStart(c) !== !1, !this._mouseStarted) ? (c.preventDefault(), !0) : (!0 === a.data(c.target, this.widgetName + ".preventClickEvent") && a.removeData(c.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function(a) {
							return d._mouseMove(a)
						}, this._mouseUpDelegate = function(a) {
							return d._mouseUp(a)
						}, a(document).bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate), c.preventDefault(), b = !0, !0)) : !0
					}
				},
				_mouseMove: function(b) {
					return a.ui.ie && (!document.documentMode || document.documentMode < 9) && !b.button ? this._mouseUp(b) : this._mouseStarted ? (this._mouseDrag(b), b.preventDefault()) : (this._mouseDistanceMet(b) && this._mouseDelayMet(b) && (this._mouseStarted = this._mouseStart(this._mouseDownEvent, b) !== !1, this._mouseStarted ? this._mouseDrag(b) : this._mouseUp(b)), !this._mouseStarted)
				},
				_mouseUp: function(b) {
					return a(document).unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, b.target === this._mouseDownEvent.target && a.data(b.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(b)), !1
				},
				_mouseDistanceMet: function(a) {
					return Math.max(Math.abs(this._mouseDownEvent.pageX - a.pageX), Math.abs(this._mouseDownEvent.pageY - a.pageY)) >= this.options.distance
				},
				_mouseDelayMet: function() {
					return this.mouseDelayMet
				},
				_mouseStart: function() {},
				_mouseDrag: function() {},
				_mouseStop: function() {},
				_mouseCapture: function() {
					return !0
				}
			})
		}(jQuery),
		function(a) {
			a.widget("ui.selectable", a.ui.mouse, {
				version: "1.10.3",
				options: {
					appendTo: "body",
					autoRefresh: !0,
					distance: 0,
					filter: "*",
					tolerance: "touch",
					selected: null,
					selecting: null,
					start: null,
					stop: null,
					unselected: null,
					unselecting: null
				},
				_create: function() {
					var b, c = this;
					this.element.addClass("ui-selectable"), this.dragged = !1, this.refresh = function() {
						b = a(c.options.filter, c.element[0]), b.addClass("ui-selectee"), b.each(function() {
							var b = a(this),
								c = b.offset();
							a.data(this, "selectable-item", {
								element: this,
								$element: b,
								left: c.left,
								top: c.top,
								right: c.left + b.outerWidth(),
								bottom: c.top + b.outerHeight(),
								startselected: !1,
								selected: b.hasClass("ui-selected"),
								selecting: b.hasClass("ui-selecting"),
								unselecting: b.hasClass("ui-unselecting")
							})
						})
					}, this.refresh(), this.selectees = b.addClass("ui-selectee"), this._mouseInit(), this.helper = a("<div class='ui-selectable-helper'></div>")
				},
				_destroy: function() {
					this.selectees.removeClass("ui-selectee").removeData("selectable-item"), this.element.removeClass("ui-selectable ui-selectable-disabled"), this._mouseDestroy()
				},
				_mouseStart: function(b) {
					var c = this,
						d = this.options;
					this.opos = [b.pageX, b.pageY], this.options.disabled || (this.selectees = a(d.filter, this.element[0]), this._trigger("start", b), a(d.appendTo).append(this.helper), this.helper.css({
						left: b.pageX,
						top: b.pageY,
						width: 0,
						height: 0
					}), d.autoRefresh && this.refresh(), this.selectees.filter(".ui-selected").each(function() {
						var d = a.data(this, "selectable-item");
						d.startselected = !0, b.metaKey || b.ctrlKey || (d.$element.removeClass("ui-selected"), d.selected = !1, d.$element.addClass("ui-unselecting"), d.unselecting = !0, c._trigger("unselecting", b, {
							unselecting: d.element
						}))
					}), a(b.target).parents().addBack().each(function() {
						var d, e = a.data(this, "selectable-item");
						return e ? (d = !b.metaKey && !b.ctrlKey || !e.$element.hasClass("ui-selected"), e.$element.removeClass(d ? "ui-unselecting" : "ui-selected").addClass(d ? "ui-selecting" : "ui-unselecting"), e.unselecting = !d, e.selecting = d, e.selected = d, d ? c._trigger("selecting", b, {
							selecting: e.element
						}) : c._trigger("unselecting", b, {
							unselecting: e.element
						}), !1) : void 0
					}))
				},
				_mouseDrag: function(b) {
					if (this.dragged = !0, !this.options.disabled) {
						var c, d = this,
							e = this.options,
							f = this.opos[0],
							g = this.opos[1],
							h = b.pageX,
							i = b.pageY;
						return f > h && (c = h, h = f, f = c), g > i && (c = i, i = g, g = c), this.helper.css({
							left: f,
							top: g,
							width: h - f,
							height: i - g
						}), this.selectees.each(function() {
							var c = a.data(this, "selectable-item"),
								j = !1;
							c && c.element !== d.element[0] && ("touch" === e.tolerance ? j = !(c.left > h || c.right < f || c.top > i || c.bottom < g) : "fit" === e.tolerance && (j = c.left > f && c.right < h && c.top > g && c.bottom < i), j ? (c.selected && (c.$element.removeClass("ui-selected"), c.selected = !1), c.unselecting && (c.$element.removeClass("ui-unselecting"), c.unselecting = !1), c.selecting || (c.$element.addClass("ui-selecting"), c.selecting = !0, d._trigger("selecting", b, {
								selecting: c.element
							}))) : (c.selecting && ((b.metaKey || b.ctrlKey) && c.startselected ? (c.$element.removeClass("ui-selecting"), c.selecting = !1, c.$element.addClass("ui-selected"), c.selected = !0) : (c.$element.removeClass("ui-selecting"), c.selecting = !1, c.startselected && (c.$element.addClass("ui-unselecting"), c.unselecting = !0), d._trigger("unselecting", b, {
								unselecting: c.element
							}))), c.selected && (b.metaKey || b.ctrlKey || c.startselected || (c.$element.removeClass("ui-selected"), c.selected = !1, c.$element.addClass("ui-unselecting"), c.unselecting = !0, d._trigger("unselecting", b, {
								unselecting: c.element
							})))))
						}), !1
					}
				},
				_mouseStop: function(b) {
					var c = this;
					return this.dragged = !1, a(".ui-unselecting", this.element[0]).each(function() {
						var d = a.data(this, "selectable-item");
						d.$element.removeClass("ui-unselecting"), d.unselecting = !1, d.startselected = !1, c._trigger("unselected", b, {
							unselected: d.element
						})
					}), a(".ui-selecting", this.element[0]).each(function() {
						var d = a.data(this, "selectable-item");
						d.$element.removeClass("ui-selecting").addClass("ui-selected"), d.selecting = !1, d.selected = !0, d.startselected = !0, c._trigger("selected", b, {
							selected: d.element
						})
					}), this._trigger("stop", b), this.helper.remove(), !1
				}
			})
		}(jQuery),
		function(a) {
			function b(a, b, c) {
				return a > b && b + c > a
			}

			function c(a) {
				return /left|right/.test(a.css("float")) || /inline|table-cell/.test(a.css("display"))
			}
			a.widget("ui.sortable", a.ui.mouse, {
				version: "1.10.3",
				widgetEventPrefix: "sort",
				ready: !1,
				options: {
					appendTo: "parent",
					axis: !1,
					connectWith: !1,
					containment: !1,
					cursor: "auto",
					cursorAt: !1,
					dropOnEmpty: !0,
					forcePlaceholderSize: !1,
					forceHelperSize: !1,
					grid: !1,
					handle: !1,
					helper: "original",
					items: "> *",
					opacity: !1,
					placeholder: !1,
					revert: !1,
					scroll: !0,
					scrollSensitivity: 20,
					scrollSpeed: 20,
					scope: "default",
					tolerance: "intersect",
					zIndex: 1e3,
					activate: null,
					beforeStop: null,
					change: null,
					deactivate: null,
					out: null,
					over: null,
					receive: null,
					remove: null,
					sort: null,
					start: null,
					stop: null,
					update: null
				},
				_create: function() {
					var a = this.options;
					this.containerCache = {}, this.element.addClass("ui-sortable"), this.refresh(), this.floating = this.items.length ? "x" === a.axis || c(this.items[0].item) : !1, this.offset = this.element.offset(), this._mouseInit(), this.ready = !0
				},
				_destroy: function() {
					this.element.removeClass("ui-sortable ui-sortable-disabled"), this._mouseDestroy();
					for (var a = this.items.length - 1; a >= 0; a--) this.items[a].item.removeData(this.widgetName + "-item");
					return this
				},
				_setOption: function(b, c) {
					"disabled" === b ? (this.options[b] = c, this.widget().toggleClass("ui-sortable-disabled", !!c)) : a.Widget.prototype._setOption.apply(this, arguments)
				},
				_mouseCapture: function(b, c) {
					var d = null,
						e = !1,
						f = this;
					return this.reverting ? !1 : this.options.disabled || "static" === this.options.type ? !1 : (this._refreshItems(b), a(b.target).parents().each(function() {
						return a.data(this, f.widgetName + "-item") === f ? (d = a(this), !1) : void 0
					}), a.data(b.target, f.widgetName + "-item") === f && (d = a(b.target)), d && (!this.options.handle || c || (a(this.options.handle, d).find("*").addBack().each(function() {
						this === b.target && (e = !0)
					}), e)) ? (this.currentItem = d, this._removeCurrentsFromItems(), !0) : !1)
				},
				_mouseStart: function(b, c, d) {
					var e, f, g = this.options;
					if (this.currentContainer = this, this.refreshPositions(), this.helper = this._createHelper(b), this._cacheHelperProportions(), this._cacheMargins(), this.scrollParent = this.helper.scrollParent(), this.offset = this.currentItem.offset(), this.offset = {
							top: this.offset.top - this.margins.top,
							left: this.offset.left - this.margins.left
						}, a.extend(this.offset, {
							click: {
								left: b.pageX - this.offset.left,
								top: b.pageY - this.offset.top
							},
							parent: this._getParentOffset(),
							relative: this._getRelativeOffset()
						}), this.helper.css("position", "absolute"), this.cssPosition = this.helper.css("position"), this.originalPosition = this._generatePosition(b), this.originalPageX = b.pageX, this.originalPageY = b.pageY, g.cursorAt && this._adjustOffsetFromHelper(g.cursorAt), this.domPosition = {
							prev: this.currentItem.prev()[0],
							parent: this.currentItem.parent()[0]
						}, this.helper[0] !== this.currentItem[0] && this.currentItem.hide(), this._createPlaceholder(), g.containment && this._setContainment(), g.cursor && "auto" !== g.cursor && (f = this.document.find("body"), this.storedCursor = f.css("cursor"), f.css("cursor", g.cursor), this.storedStylesheet = a("<style>*{ cursor: " + g.cursor + " !important; }</style>").appendTo(f)), g.opacity && (this.helper.css("opacity") && (this._storedOpacity = this.helper.css("opacity")), this.helper.css("opacity", g.opacity)), g.zIndex && (this.helper.css("zIndex") && (this._storedZIndex = this.helper.css("zIndex")), this.helper.css("zIndex", g.zIndex)), this.scrollParent[0] !== document && "HTML" !== this.scrollParent[0].tagName && (this.overflowOffset = this.scrollParent.offset()), this._trigger("start", b, this._uiHash()), this._preserveHelperProportions || this._cacheHelperProportions(), !d)
						for (e = this.containers.length - 1; e >= 0; e--) this.containers[e]._trigger("activate", b, this._uiHash(this));
					return a.ui.ddmanager && (a.ui.ddmanager.current = this), a.ui.ddmanager && !g.dropBehaviour && a.ui.ddmanager.prepareOffsets(this, b), this.dragging = !0, this.helper.addClass("ui-sortable-helper"), this._mouseDrag(b), !0
				},
				_mouseDrag: function(b) {
					var c, d, e, f, g = this.options,
						h = !1;
					for (this.position = this._generatePosition(b), this.positionAbs = this._convertPositionTo("absolute"), this.lastPositionAbs || (this.lastPositionAbs = this.positionAbs), this.options.scroll && (this.scrollParent[0] !== document && "HTML" !== this.scrollParent[0].tagName ? (this.overflowOffset.top + this.scrollParent[0].offsetHeight - b.pageY < g.scrollSensitivity ? this.scrollParent[0].scrollTop = h = this.scrollParent[0].scrollTop + g.scrollSpeed : b.pageY - this.overflowOffset.top < g.scrollSensitivity && (this.scrollParent[0].scrollTop = h = this.scrollParent[0].scrollTop - g.scrollSpeed), this.overflowOffset.left + this.scrollParent[0].offsetWidth - b.pageX < g.scrollSensitivity ? this.scrollParent[0].scrollLeft = h = this.scrollParent[0].scrollLeft + g.scrollSpeed : b.pageX - this.overflowOffset.left < g.scrollSensitivity && (this.scrollParent[0].scrollLeft = h = this.scrollParent[0].scrollLeft - g.scrollSpeed)) : (b.pageY - a(document).scrollTop() < g.scrollSensitivity ? h = a(document).scrollTop(a(document).scrollTop() - g.scrollSpeed) : a(window).height() - (b.pageY - a(document).scrollTop()) < g.scrollSensitivity && (h = a(document).scrollTop(a(document).scrollTop() + g.scrollSpeed)), b.pageX - a(document).scrollLeft() < g.scrollSensitivity ? h = a(document).scrollLeft(a(document).scrollLeft() - g.scrollSpeed) : a(window).width() - (b.pageX - a(document).scrollLeft()) < g.scrollSensitivity && (h = a(document).scrollLeft(a(document).scrollLeft() + g.scrollSpeed))), h !== !1 && a.ui.ddmanager && !g.dropBehaviour && a.ui.ddmanager.prepareOffsets(this, b)), this.positionAbs = this._convertPositionTo("absolute"), this.options.axis && "y" === this.options.axis || (this.helper[0].style.left = this.position.left + "px"), this.options.axis && "x" === this.options.axis || (this.helper[0].style.top = this.position.top + "px"), c = this.items.length - 1; c >= 0; c--)
						if (d = this.items[c], e = d.item[0], f = this._intersectsWithPointer(d), f && d.instance === this.currentContainer && e !== this.currentItem[0] && this.placeholder[1 === f ? "next" : "prev"]()[0] !== e && !a.contains(this.placeholder[0], e) && ("semi-dynamic" === this.options.type ? !a.contains(this.element[0], e) : !0)) {
							if (this.direction = 1 === f ? "down" : "up", "pointer" !== this.options.tolerance && !this._intersectsWithSides(d)) break;
							this._rearrange(b, d), this._trigger("change", b, this._uiHash());
							break
						}
					return this._contactContainers(b), a.ui.ddmanager && a.ui.ddmanager.drag(this, b), this._trigger("sort", b, this._uiHash()), this.lastPositionAbs = this.positionAbs, !1
				},
				_mouseStop: function(b, c) {
					if (b) {
						if (a.ui.ddmanager && !this.options.dropBehaviour && a.ui.ddmanager.drop(this, b), this.options.revert) {
							var d = this,
								e = this.placeholder.offset(),
								f = this.options.axis,
								g = {};
							f && "x" !== f || (g.left = e.left - this.offset.parent.left - this.margins.left + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollLeft)), f && "y" !== f || (g.top = e.top - this.offset.parent.top - this.margins.top + (this.offsetParent[0] === document.body ? 0 : this.offsetParent[0].scrollTop)), this.reverting = !0, a(this.helper).animate(g, parseInt(this.options.revert, 10) || 500, function() {
								d._clear(b)
							})
						} else this._clear(b, c);
						return !1
					}
				},
				cancel: function() {
					if (this.dragging) {
						this._mouseUp({
							target: null
						}), "original" === this.options.helper ? this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper") : this.currentItem.show();
						for (var b = this.containers.length - 1; b >= 0; b--) this.containers[b]._trigger("deactivate", null, this._uiHash(this)), this.containers[b].containerCache.over && (this.containers[b]._trigger("out", null, this._uiHash(this)), this.containers[b].containerCache.over = 0)
					}
					return this.placeholder && (this.placeholder[0].parentNode && this.placeholder[0].parentNode.removeChild(this.placeholder[0]), "original" !== this.options.helper && this.helper && this.helper[0].parentNode && this.helper.remove(), a.extend(this, {
						helper: null,
						dragging: !1,
						reverting: !1,
						_noFinalSort: null
					}), this.domPosition.prev ? a(this.domPosition.prev).after(this.currentItem) : a(this.domPosition.parent).prepend(this.currentItem)), this
				},
				serialize: function(b) {
					var c = this._getItemsAsjQuery(b && b.connected),
						d = [];
					return b = b || {}, a(c).each(function() {
						var c = (a(b.item || this).attr(b.attribute || "id") || "").match(b.expression || /(.+)[\-=_](.+)/);
						c && d.push((b.key || c[1] + "[]") + "=" + (b.key && b.expression ? c[1] : c[2]))
					}), !d.length && b.key && d.push(b.key + "="), d.join("&")
				},
				toArray: function(b) {
					var c = this._getItemsAsjQuery(b && b.connected),
						d = [];
					return b = b || {}, c.each(function() {
						d.push(a(b.item || this).attr(b.attribute || "id") || "")
					}), d
				},
				_intersectsWith: function(a) {
					var b = this.positionAbs.left,
						c = b + this.helperProportions.width,
						d = this.positionAbs.top,
						e = d + this.helperProportions.height,
						f = a.left,
						g = f + a.width,
						h = a.top,
						i = h + a.height,
						j = this.offset.click.top,
						k = this.offset.click.left,
						l = "x" === this.options.axis || d + j > h && i > d + j,
						m = "y" === this.options.axis || b + k > f && g > b + k,
						n = l && m;
					return "pointer" === this.options.tolerance || this.options.forcePointerForContainers || "pointer" !== this.options.tolerance && this.helperProportions[this.floating ? "width" : "height"] > a[this.floating ? "width" : "height"] ? n : f < b + this.helperProportions.width / 2 && c - this.helperProportions.width / 2 < g && h < d + this.helperProportions.height / 2 && e - this.helperProportions.height / 2 < i
				},
				_intersectsWithPointer: function(a) {
					var c = "x" === this.options.axis || b(this.positionAbs.top + this.offset.click.top, a.top, a.height),
						d = "y" === this.options.axis || b(this.positionAbs.left + this.offset.click.left, a.left, a.width),
						e = c && d,
						f = this._getDragVerticalDirection(),
						g = this._getDragHorizontalDirection();
					return e ? this.floating ? g && "right" === g || "down" === f ? 2 : 1 : f && ("down" === f ? 2 : 1) : !1
				},
				_intersectsWithSides: function(a) {
					var c = b(this.positionAbs.top + this.offset.click.top, a.top + a.height / 2, a.height),
						d = b(this.positionAbs.left + this.offset.click.left, a.left + a.width / 2, a.width),
						e = this._getDragVerticalDirection(),
						f = this._getDragHorizontalDirection();
					return this.floating && f ? "right" === f && d || "left" === f && !d : e && ("down" === e && c || "up" === e && !c)
				},
				_getDragVerticalDirection: function() {
					var a = this.positionAbs.top - this.lastPositionAbs.top;
					return 0 !== a && (a > 0 ? "down" : "up")
				},
				_getDragHorizontalDirection: function() {
					var a = this.positionAbs.left - this.lastPositionAbs.left;
					return 0 !== a && (a > 0 ? "right" : "left")
				},
				refresh: function(a) {
					return this._refreshItems(a), this.refreshPositions(), this
				},
				_connectWith: function() {
					var a = this.options;
					return a.connectWith.constructor === String ? [a.connectWith] : a.connectWith
				},
				_getItemsAsjQuery: function(b) {
					var c, d, e, f, g = [],
						h = [],
						i = this._connectWith();
					if (i && b)
						for (c = i.length - 1; c >= 0; c--)
							for (e = a(i[c]), d = e.length - 1; d >= 0; d--) f = a.data(e[d], this.widgetFullName), f && f !== this && !f.options.disabled && h.push([a.isFunction(f.options.items) ? f.options.items.call(f.element) : a(f.options.items, f.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), f]);
					for (h.push([a.isFunction(this.options.items) ? this.options.items.call(this.element, null, {
							options: this.options,
							item: this.currentItem
						}) : a(this.options.items, this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"), this]), c = h.length - 1; c >= 0; c--) h[c][0].each(function() {
						g.push(this)
					});
					return a(g)
				},
				_removeCurrentsFromItems: function() {
					var b = this.currentItem.find(":data(" + this.widgetName + "-item)");
					this.items = a.grep(this.items, function(a) {
						for (var c = 0; c < b.length; c++)
							if (b[c] === a.item[0]) return !1;
						return !0
					})
				},
				_refreshItems: function(b) {
					this.items = [], this.containers = [this];
					var c, d, e, f, g, h, i, j, k = this.items,
						l = [
							[a.isFunction(this.options.items) ? this.options.items.call(this.element[0], b, {
								item: this.currentItem
							}) : a(this.options.items, this.element), this]
						],
						m = this._connectWith();
					if (m && this.ready)
						for (c = m.length - 1; c >= 0; c--)
							for (e = a(m[c]), d = e.length - 1; d >= 0; d--) f = a.data(e[d], this.widgetFullName), f && f !== this && !f.options.disabled && (l.push([a.isFunction(f.options.items) ? f.options.items.call(f.element[0], b, {
								item: this.currentItem
							}) : a(f.options.items, f.element), f]), this.containers.push(f));
					for (c = l.length - 1; c >= 0; c--)
						for (g = l[c][1], h = l[c][0], d = 0, j = h.length; j > d; d++) i = a(h[d]), i.data(this.widgetName + "-item", g), k.push({
							item: i,
							instance: g,
							width: 0,
							height: 0,
							left: 0,
							top: 0
						})
				},
				refreshPositions: function(b) {
					this.offsetParent && this.helper && (this.offset.parent = this._getParentOffset());
					var c, d, e, f;
					for (c = this.items.length - 1; c >= 0; c--) d = this.items[c], d.instance !== this.currentContainer && this.currentContainer && d.item[0] !== this.currentItem[0] || (e = this.options.toleranceElement ? a(this.options.toleranceElement, d.item) : d.item, b || (d.width = e.outerWidth(), d.height = e.outerHeight()), f = e.offset(), d.left = f.left, d.top = f.top);
					if (this.options.custom && this.options.custom.refreshContainers) this.options.custom.refreshContainers.call(this);
					else
						for (c = this.containers.length - 1; c >= 0; c--) f = this.containers[c].element.offset(), this.containers[c].containerCache.left = f.left, this.containers[c].containerCache.top = f.top, this.containers[c].containerCache.width = this.containers[c].element.outerWidth(), this.containers[c].containerCache.height = this.containers[c].element.outerHeight();
					return this
				},
				_createPlaceholder: function(b) {
					b = b || this;
					var c, d = b.options;
					d.placeholder && d.placeholder.constructor !== String || (c = d.placeholder, d.placeholder = {
						element: function() {
							var d = b.currentItem[0].nodeName.toLowerCase(),
								e = a("<" + d + ">", b.document[0]).addClass(c || b.currentItem[0].className + " ui-sortable-placeholder").removeClass("ui-sortable-helper");
							return "tr" === d ? b.currentItem.children().each(function() {
								a("<td>&#160;</td>", b.document[0]).attr("colspan", a(this).attr("colspan") || 1).appendTo(e)
							}) : "img" === d && e.attr("src", b.currentItem.attr("src")), c || e.css("visibility", "hidden"), e
						},
						update: function(a, e) {
							(!c || d.forcePlaceholderSize) && (e.height() || e.height(b.currentItem.innerHeight() - parseInt(b.currentItem.css("paddingTop") || 0, 10) - parseInt(b.currentItem.css("paddingBottom") || 0, 10)), e.width() || e.width(b.currentItem.innerWidth() - parseInt(b.currentItem.css("paddingLeft") || 0, 10) - parseInt(b.currentItem.css("paddingRight") || 0, 10)))
						}
					}), b.placeholder = a(d.placeholder.element.call(b.element, b.currentItem)), b.currentItem.after(b.placeholder), d.placeholder.update(b, b.placeholder)
				},
				_contactContainers: function(d) {
					var e, f, g, h, i, j, k, l, m, n, o = null,
						p = null;
					for (e = this.containers.length - 1; e >= 0; e--)
						if (!a.contains(this.currentItem[0], this.containers[e].element[0]))
							if (this._intersectsWith(this.containers[e].containerCache)) {
								if (o && a.contains(this.containers[e].element[0], o.element[0])) continue;
								o = this.containers[e], p = e
							} else this.containers[e].containerCache.over && (this.containers[e]._trigger("out", d, this._uiHash(this)), this.containers[e].containerCache.over = 0);
					if (o)
						if (1 === this.containers.length) this.containers[p].containerCache.over || (this.containers[p]._trigger("over", d, this._uiHash(this)), this.containers[p].containerCache.over = 1);
						else {
							for (g = 1e4, h = null, n = o.floating || c(this.currentItem), i = n ? "left" : "top", j = n ? "width" : "height", k = this.positionAbs[i] + this.offset.click[i], f = this.items.length - 1; f >= 0; f--) a.contains(this.containers[p].element[0], this.items[f].item[0]) && this.items[f].item[0] !== this.currentItem[0] && (!n || b(this.positionAbs.top + this.offset.click.top, this.items[f].top, this.items[f].height)) && (l = this.items[f].item.offset()[i], m = !1, Math.abs(l - k) > Math.abs(l + this.items[f][j] - k) && (m = !0, l += this.items[f][j]),
								Math.abs(l - k) < g && (g = Math.abs(l - k), h = this.items[f], this.direction = m ? "up" : "down"));
							if (!h && !this.options.dropOnEmpty) return;
							if (this.currentContainer === this.containers[p]) return;
							h ? this._rearrange(d, h, null, !0) : this._rearrange(d, null, this.containers[p].element, !0), this._trigger("change", d, this._uiHash()), this.containers[p]._trigger("change", d, this._uiHash(this)), this.currentContainer = this.containers[p], this.options.placeholder.update(this.currentContainer, this.placeholder), this.containers[p]._trigger("over", d, this._uiHash(this)), this.containers[p].containerCache.over = 1
						}
				},
				_createHelper: function(b) {
					var c = this.options,
						d = a.isFunction(c.helper) ? a(c.helper.apply(this.element[0], [b, this.currentItem])) : "clone" === c.helper ? this.currentItem.clone() : this.currentItem;
					return d.parents("body").length || a("parent" !== c.appendTo ? c.appendTo : this.currentItem[0].parentNode)[0].appendChild(d[0]), d[0] === this.currentItem[0] && (this._storedCSS = {
						width: this.currentItem[0].style.width,
						height: this.currentItem[0].style.height,
						position: this.currentItem.css("position"),
						top: this.currentItem.css("top"),
						left: this.currentItem.css("left")
					}), (!d[0].style.width || c.forceHelperSize) && d.width(this.currentItem.width()), (!d[0].style.height || c.forceHelperSize) && d.height(this.currentItem.height()), d
				},
				_adjustOffsetFromHelper: function(b) {
					"string" == typeof b && (b = b.split(" ")), a.isArray(b) && (b = {
						left: +b[0],
						top: +b[1] || 0
					}), "left" in b && (this.offset.click.left = b.left + this.margins.left), "right" in b && (this.offset.click.left = this.helperProportions.width - b.right + this.margins.left), "top" in b && (this.offset.click.top = b.top + this.margins.top), "bottom" in b && (this.offset.click.top = this.helperProportions.height - b.bottom + this.margins.top)
				},
				_getParentOffset: function() {
					this.offsetParent = this.helper.offsetParent();
					var b = this.offsetParent.offset();
					return "absolute" === this.cssPosition && this.scrollParent[0] !== document && a.contains(this.scrollParent[0], this.offsetParent[0]) && (b.left += this.scrollParent.scrollLeft(), b.top += this.scrollParent.scrollTop()), (this.offsetParent[0] === document.body || this.offsetParent[0].tagName && "html" === this.offsetParent[0].tagName.toLowerCase() && a.ui.ie) && (b = {
						top: 0,
						left: 0
					}), {
						top: b.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
						left: b.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
					}
				},
				_getRelativeOffset: function() {
					if ("relative" === this.cssPosition) {
						var a = this.currentItem.position();
						return {
							top: a.top - (parseInt(this.helper.css("top"), 10) || 0) + this.scrollParent.scrollTop(),
							left: a.left - (parseInt(this.helper.css("left"), 10) || 0) + this.scrollParent.scrollLeft()
						}
					}
					return {
						top: 0,
						left: 0
					}
				},
				_cacheMargins: function() {
					this.margins = {
						left: parseInt(this.currentItem.css("marginLeft"), 10) || 0,
						top: parseInt(this.currentItem.css("marginTop"), 10) || 0
					}
				},
				_cacheHelperProportions: function() {
					this.helperProportions = {
						width: this.helper.outerWidth(),
						height: this.helper.outerHeight()
					}
				},
				_setContainment: function() {
					var b, c, d, e = this.options;
					"parent" === e.containment && (e.containment = this.helper[0].parentNode), ("document" === e.containment || "window" === e.containment) && (this.containment = [0 - this.offset.relative.left - this.offset.parent.left, 0 - this.offset.relative.top - this.offset.parent.top, a("document" === e.containment ? document : window).width() - this.helperProportions.width - this.margins.left, (a("document" === e.containment ? document : window).height() || document.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]), /^(document|window|parent)$/.test(e.containment) || (b = a(e.containment)[0], c = a(e.containment).offset(), d = "hidden" !== a(b).css("overflow"), this.containment = [c.left + (parseInt(a(b).css("borderLeftWidth"), 10) || 0) + (parseInt(a(b).css("paddingLeft"), 10) || 0) - this.margins.left, c.top + (parseInt(a(b).css("borderTopWidth"), 10) || 0) + (parseInt(a(b).css("paddingTop"), 10) || 0) - this.margins.top, c.left + (d ? Math.max(b.scrollWidth, b.offsetWidth) : b.offsetWidth) - (parseInt(a(b).css("borderLeftWidth"), 10) || 0) - (parseInt(a(b).css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left, c.top + (d ? Math.max(b.scrollHeight, b.offsetHeight) : b.offsetHeight) - (parseInt(a(b).css("borderTopWidth"), 10) || 0) - (parseInt(a(b).css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top])
				},
				_convertPositionTo: function(b, c) {
					c || (c = this.position);
					var d = "absolute" === b ? 1 : -1,
						e = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && a.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
						f = /(html|body)/i.test(e[0].tagName);
					return {
						top: c.top + this.offset.relative.top * d + this.offset.parent.top * d - ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : f ? 0 : e.scrollTop()) * d,
						left: c.left + this.offset.relative.left * d + this.offset.parent.left * d - ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : f ? 0 : e.scrollLeft()) * d
					}
				},
				_generatePosition: function(b) {
					var c, d, e = this.options,
						f = b.pageX,
						g = b.pageY,
						h = "absolute" !== this.cssPosition || this.scrollParent[0] !== document && a.contains(this.scrollParent[0], this.offsetParent[0]) ? this.scrollParent : this.offsetParent,
						i = /(html|body)/i.test(h[0].tagName);
					return "relative" !== this.cssPosition || this.scrollParent[0] !== document && this.scrollParent[0] !== this.offsetParent[0] || (this.offset.relative = this._getRelativeOffset()), this.originalPosition && (this.containment && (b.pageX - this.offset.click.left < this.containment[0] && (f = this.containment[0] + this.offset.click.left), b.pageY - this.offset.click.top < this.containment[1] && (g = this.containment[1] + this.offset.click.top), b.pageX - this.offset.click.left > this.containment[2] && (f = this.containment[2] + this.offset.click.left), b.pageY - this.offset.click.top > this.containment[3] && (g = this.containment[3] + this.offset.click.top)), e.grid && (c = this.originalPageY + Math.round((g - this.originalPageY) / e.grid[1]) * e.grid[1], g = this.containment ? c - this.offset.click.top >= this.containment[1] && c - this.offset.click.top <= this.containment[3] ? c : c - this.offset.click.top >= this.containment[1] ? c - e.grid[1] : c + e.grid[1] : c, d = this.originalPageX + Math.round((f - this.originalPageX) / e.grid[0]) * e.grid[0], f = this.containment ? d - this.offset.click.left >= this.containment[0] && d - this.offset.click.left <= this.containment[2] ? d : d - this.offset.click.left >= this.containment[0] ? d - e.grid[0] : d + e.grid[0] : d)), {
						top: g - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.scrollParent.scrollTop() : i ? 0 : h.scrollTop()),
						left: f - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.scrollParent.scrollLeft() : i ? 0 : h.scrollLeft())
					}
				},
				_rearrange: function(a, b, c, d) {
					c ? c[0].appendChild(this.placeholder[0]) : b.item[0].parentNode.insertBefore(this.placeholder[0], "down" === this.direction ? b.item[0] : b.item[0].nextSibling), this.counter = this.counter ? ++this.counter : 1;
					var e = this.counter;
					this._delay(function() {
						e === this.counter && this.refreshPositions(!d)
					})
				},
				_clear: function(a, b) {
					this.reverting = !1;
					var c, d = [];
					if (!this._noFinalSort && this.currentItem.parent().length && this.placeholder.before(this.currentItem), this._noFinalSort = null, this.helper[0] === this.currentItem[0]) {
						for (c in this._storedCSS)("auto" === this._storedCSS[c] || "static" === this._storedCSS[c]) && (this._storedCSS[c] = "");
						this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")
					} else this.currentItem.show();
					for (this.fromOutside && !b && d.push(function(a) {
							this._trigger("receive", a, this._uiHash(this.fromOutside))
						}), !this.fromOutside && this.domPosition.prev === this.currentItem.prev().not(".ui-sortable-helper")[0] && this.domPosition.parent === this.currentItem.parent()[0] || b || d.push(function(a) {
							this._trigger("update", a, this._uiHash())
						}), this !== this.currentContainer && (b || (d.push(function(a) {
							this._trigger("remove", a, this._uiHash())
						}), d.push(function(a) {
							return function(b) {
								a._trigger("receive", b, this._uiHash(this))
							}
						}.call(this, this.currentContainer)), d.push(function(a) {
							return function(b) {
								a._trigger("update", b, this._uiHash(this))
							}
						}.call(this, this.currentContainer)))), c = this.containers.length - 1; c >= 0; c--) b || d.push(function(a) {
						return function(b) {
							a._trigger("deactivate", b, this._uiHash(this))
						}
					}.call(this, this.containers[c])), this.containers[c].containerCache.over && (d.push(function(a) {
						return function(b) {
							a._trigger("out", b, this._uiHash(this))
						}
					}.call(this, this.containers[c])), this.containers[c].containerCache.over = 0);
					if (this.storedCursor && (this.document.find("body").css("cursor", this.storedCursor), this.storedStylesheet.remove()), this._storedOpacity && this.helper.css("opacity", this._storedOpacity), this._storedZIndex && this.helper.css("zIndex", "auto" === this._storedZIndex ? "" : this._storedZIndex), this.dragging = !1, this.cancelHelperRemoval) {
						if (!b) {
							for (this._trigger("beforeStop", a, this._uiHash()), c = 0; c < d.length; c++) d[c].call(this, a);
							this._trigger("stop", a, this._uiHash())
						}
						return this.fromOutside = !1, !1
					}
					if (b || this._trigger("beforeStop", a, this._uiHash()), this.placeholder[0].parentNode.removeChild(this.placeholder[0]), this.helper[0] !== this.currentItem[0] && this.helper.remove(), this.helper = null, !b) {
						for (c = 0; c < d.length; c++) d[c].call(this, a);
						this._trigger("stop", a, this._uiHash())
					}
					return this.fromOutside = !1, !0
				},
				_trigger: function() {
					a.Widget.prototype._trigger.apply(this, arguments) === !1 && this.cancel()
				},
				_uiHash: function(b) {
					var c = b || this;
					return {
						helper: c.helper,
						placeholder: c.placeholder || a([]),
						position: c.position,
						originalPosition: c.originalPosition,
						offset: c.positionAbs,
						item: c.currentItem,
						sender: b ? b.element : null
					}
				}
			})
		}(jQuery), define("jqueryui", ["jquery"], function() {}), ! function(a) {
			a.fn.multiselectable = function(b) {
				function c(c) {
					var d = a(this),
						e = d.parent(),
						f = d.index(),
						g = e.find(".multiselectable-previous");
					g = g.length ? g : a(e.find("." + b.selectedClass)[0]).addClass("multiselectable-previous");
					var h = g.index();
					if ((c.ctrlKey || c.metaKey) && (d.hasClass(b.selectedClass) ? (d.removeClass(b.selectedClass).removeClass("multiselectable-previous"), d.not(".child").length && d.nextUntil(":not(.child)").removeClass(b.selectedClass)) : (e.find(".multiselectable-previous").removeClass("multiselectable-previous"), d.addClass(b.selectedClass).addClass("multiselectable-previous"), d.not(".child").length && d.nextUntil(":not(.child)").addClass(b.selectedClass))), c.shiftKey) {
						var i = e.find(".multiselectable-shift");
						i.removeClass(b.selectedClass).removeClass("multiselectable-shift");
						var j;
						f > h ? j = d.prevUntil(".multiselectable-previous").add(g).add(d) : h > f && (j = d.nextUntil(".multiselectable-previous").add(g).add(d)), j.addClass(b.selectedClass).addClass("multiselectable-shift")
					} else e.find(".multiselectable-shift").removeClass("multiselectable-shift");
					c.ctrlKey || c.metaKey || c.shiftKey || (e.find(".multiselectable-previous").removeClass("multiselectable-previous"), d.hasClass(b.selectedClass) || (e.find("." + b.selectedClass).removeClass(b.selectedClass), d.addClass(b.selectedClass).addClass("multiselectable-previous"), d.not(".child").length && d.nextUntil(":not(.child)").addClass(b.selectedClass))), b.mousedown(c, d)
				}

				function d(c) {
					if (!a(this).is(".ui-draggable-dragging")) {
						var d = a(this),
							e = d.parent();
						c.ctrlKey || c.metaKey || c.shiftKey || (e.find(".multiselectable-previous").removeClass("multiselectable-previous"), e.find("." + b.selectedClass).removeClass(b.selectedClass), d.addClass(b.selectedClass).addClass("multiselectable-previous"), d.not(".child").length && d.nextUntil(":not(.child)").addClass(b.selectedClass)), b.click(c, d)
					}
				}
				return b || (b = {}), b = a.extend({}, a.fn.multiselectable.defaults, b), this.each(function() {
					var e = a(this);
					e.data("multiselectable") || e.data("multiselectable", !0).delegate(b.items, "mousedown", c).delegate(b.items, "click", d).disableSelection()
				})
			}, a.fn.multiselectable.defaults = {
				click: function() {},
				mousedown: function() {},
				selectedClass: "ui-selected",
				items: "li"
			}, a.fn.multisortable = function(b) {
				function c(b, c) {
					if (c.find("." + d.selectedClass).length > 0) {
						var e = b.data("i"),
							f = c.find("." + d.selectedClass).filter(function() {
								return a(this).data("i") < e
							}).css({
								position: "",
								width: "",
								left: "",
								top: "",
								zIndex: ""
							});
						b.before(f);
						var g = c.find("." + d.selectedClass).filter(function() {
							return a(this).data("i") > e
						}).css({
							position: "",
							width: "",
							left: "",
							top: "",
							zIndex: ""
						});
						b.after(g), setTimeout(function() {
							g.add(f).addClass(d.selectedClass)
						}, 0)
					}
				}
				b || (b = {});
				var d = a.extend({}, a.fn.multisortable.defaults, b);
				return this.each(function() {
					var e = a(this);
					e.multiselectable({
						selectedClass: d.selectedClass,
						click: d.click,
						items: d.items,
						mousedown: d.mousedown
					}), b.cancel = d.items + ":not(." + d.selectedClass + ")", b.placeholder = d.placeholder, b.start = function(b, c) {
						if (c.item.hasClass(d.selectedClass)) {
							var e = c.item.parent();
							e.find("." + d.selectedClass).each(function(b) {
								a(this).data("i", b)
							});
							var f = e.find("." + d.selectedClass).length * c.item.outerHeight();
							c.placeholder.height(f)
						}
						d.start(b, c)
					}, b.stop = function(a, b) {
						c(b.item, b.item.parent()), d.stop(a, b)
					}, b.sort = function(b, c) {
						var e = c.item.parent(),
							f = c.item.data("i"),
							g = parseInt(c.item.css("top").replace("px", "")),
							h = parseInt(c.item.css("left").replace("px", ""));
						a.fn.reverse = "undefined" == typeof []._reverse ? Array.prototype.reverse : Array.prototype._reverse;
						var i = 0;
						a("." + d.selectedClass, e).filter(function() {
							return a(this).data("i") < f
						}).reverse().each(function() {
							i += a(this).outerHeight(), a(this).css({
								left: h,
								top: g - i,
								position: "absolute",
								zIndex: 1e3,
								width: c.item.width()
							})
						}), i = c.item.outerHeight(), a("." + d.selectedClass, e).filter(function() {
							return a(this).data("i") > f
						}).each(function() {
							var b = a(this);
							b.css({
								left: h,
								top: g + i,
								position: "absolute",
								zIndex: 1e3,
								width: c.item.width()
							}), i += b.outerHeight()
						}), d.sort(b, c)
					}, b.receive = function(a, b) {
						c(b.item, b.sender), d.receive(a, b)
					}, e.sortable(b).disableSelection()
				})
			}, a.fn.multisortable.defaults = {
				start: function() {},
				stop: function() {},
				sort: function() {},
				receive: function() {},
				click: function() {},
				selectedClass: "ui-selected",
				placeholder: "placeholder",
				items: "li"
			}
		}(jQuery), define("jquery.multisortable", ["jquery", "jqueryui"], function() {}),
		function() {
			function a(a) {
				this.tokens = [], this.tokens.links = {}, this.options = a || h.defaults, this.rules = i.normal, this.options.gfm && (this.rules = this.options.tables ? i.tables : i.gfm)
			}

			function b(a, b) {
				if (this.options = b || h.defaults, this.links = a, this.rules = j.normal, !this.links) throw new Error("Tokens array requires a `links` property.");
				this.options.gfm ? this.rules = this.options.breaks ? j.breaks : j.gfm : this.options.pedantic && (this.rules = j.pedantic)
			}

			function c(a) {
				this.tokens = [], this.token = null, this.options = a || h.defaults
			}

			function d(a, b) {
				return a.replace(b ? /&/g : /&(?!#?\w+;)/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#39;")
			}

			function e(a, b) {
				return a = a.source, b = b || "",
					function c(d, e) {
						return d ? (e = e.source || e, e = e.replace(/(^|[^\[])\^/g, "$1"), a = a.replace(d, e), c) : new RegExp(a, b)
					}
			}

			function f() {}

			function g(a) {
				for (var b, c, d = 1; d < arguments.length; d++) {
					b = arguments[d];
					for (c in b) Object.prototype.hasOwnProperty.call(b, c) && (a[c] = b[c])
				}
				return a
			}

			function h(b, e, f) {
				if (f || "function" == typeof e) {
					f || (f = e, e = null), e = g({}, h.defaults, e || {});
					var i, j, k = e.highlight,
						l = 0;
					try {
						i = a.lex(b, e)
					} catch (m) {
						return f(m)
					}
					j = i.length;
					var n = function() {
						var a, b;
						try {
							a = c.parse(i, e)
						} catch (d) {
							b = d
						}
						return e.highlight = k, b ? f(b) : f(null, a)
					};
					if (!k || k.length < 3) return n();
					if (delete e.highlight, !j) return n();
					for (; l < i.length; l++) ! function(a) {
						return "code" !== a.type ? --j || n() : k(a.text, a.lang, function(b, c) {
							return null == c || c === a.text ? --j || n() : (a.text = c, a.escaped = !0, void(--j || n()))
						})
					}(i[l])
				} else try {
					return e && (e = g({}, h.defaults, e)), c.parse(a.lex(b, e), e)
				} catch (m) {
					if (m.message += "\nPlease report this to https://github.com/chjj/marked.", (e || h.defaults).silent) return "<p>An error occured:</p><pre>" + d(m.message + "", !0) + "</pre>";
					throw m
				}
			}
			var i = {
				newline: /^\n+/,
				code: /^( {4}[^\n]+\n*)+/,
				fences: f,
				hr: /^( *[-*_]){3,} *(?:\n+|$)/,
				heading: /^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,
				nptable: f,
				lheading: /^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,
				blockquote: /^( *>[^\n]+(\n[^\n]+)*\n*)+/,
				list: /^( *)(bull) [\s\S]+?(?:hr|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,
				html: /^ *(?:comment|closed|closing) *(?:\n{2,}|\s*$)/,
				def: /^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,
				table: f,
				paragraph: /^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,
				text: /^[^\n]+/
			};
			i.bullet = /(?:[*+-]|\d+\.)/, i.item = /^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/, i.item = e(i.item, "gm")(/bull/g, i.bullet)(), i.list = e(i.list)(/bull/g, i.bullet)("hr", /\n+(?=(?: *[-*_]){3,} *(?:\n+|$))/)(), i._tag = "(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|@)\\b", i.html = e(i.html)("comment", /<!--[\s\S]*?-->/)("closed", /<(tag)[\s\S]+?<\/\1>/)("closing", /<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g, i._tag)(), i.paragraph = e(i.paragraph)("hr", i.hr)("heading", i.heading)("lheading", i.lheading)("blockquote", i.blockquote)("tag", "<" + i._tag)("def", i.def)(), i.normal = g({}, i), i.gfm = g({}, i.normal, {
				fences: /^ *(`{3,}|~{3,}) *(\S+)? *\n([\s\S]+?)\s*\1 *(?:\n+|$)/,
				paragraph: /^/
			}), i.gfm.paragraph = e(i.paragraph)("(?!", "(?!" + i.gfm.fences.source.replace("\\1", "\\2") + "|" + i.list.source.replace("\\1", "\\3") + "|")(), i.tables = g({}, i.gfm, {
				nptable: /^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,
				table: /^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/
			}), a.rules = i, a.lex = function(b, c) {
				var d = new a(c);
				return d.lex(b)
			}, a.prototype.lex = function(a) {
				return a = a.replace(/\r\n|\r/g, "\n").replace(/\t/g, "    ").replace(/\u00a0/g, " ").replace(/\u2424/g, "\n"), this.token(a, !0)
			}, a.prototype.token = function(a, b) {
				for (var c, d, e, f, g, h, j, k, l, a = a.replace(/^ +$/gm, ""); a;)
					if ((e = this.rules.newline.exec(a)) && (a = a.substring(e[0].length), e[0].length > 1 && this.tokens.push({
							type: "space"
						})), e = this.rules.code.exec(a)) a = a.substring(e[0].length), e = e[0].replace(/^ {4}/gm, ""), this.tokens.push({
						type: "code",
						text: this.options.pedantic ? e : e.replace(/\n+$/, "")
					});
					else if (e = this.rules.fences.exec(a)) a = a.substring(e[0].length), this.tokens.push({
					type: "code",
					lang: e[2],
					text: e[3]
				});
				else if (e = this.rules.heading.exec(a)) a = a.substring(e[0].length), this.tokens.push({
					type: "heading",
					depth: e[1].length,
					text: e[2]
				});
				else if (b && (e = this.rules.nptable.exec(a))) {
					for (a = a.substring(e[0].length), h = {
							type: "table",
							header: e[1].replace(/^ *| *\| *$/g, "").split(/ *\| */),
							align: e[2].replace(/^ *|\| *$/g, "").split(/ *\| */),
							cells: e[3].replace(/\n$/, "").split("\n")
						}, k = 0; k < h.align.length; k++) h.align[k] = /^ *-+: *$/.test(h.align[k]) ? "right" : /^ *:-+: *$/.test(h.align[k]) ? "center" : /^ *:-+ *$/.test(h.align[k]) ? "left" : null;
					for (k = 0; k < h.cells.length; k++) h.cells[k] = h.cells[k].split(/ *\| */);
					this.tokens.push(h)
				} else if (e = this.rules.lheading.exec(a)) a = a.substring(e[0].length), this.tokens.push({
					type: "heading",
					depth: "=" === e[2] ? 1 : 2,
					text: e[1]
				});
				else if (e = this.rules.hr.exec(a)) a = a.substring(e[0].length), this.tokens.push({
					type: "hr"
				});
				else if (e = this.rules.blockquote.exec(a)) a = a.substring(e[0].length), this.tokens.push({
					type: "blockquote_start"
				}), e = e[0].replace(/^ *> ?/gm, ""), this.token(e, b), this.tokens.push({
					type: "blockquote_end"
				});
				else if (e = this.rules.list.exec(a)) {
					for (a = a.substring(e[0].length), f = e[2], this.tokens.push({
							type: "list_start",
							ordered: f.length > 1
						}), e = e[0].match(this.rules.item), c = !1, l = e.length, k = 0; l > k; k++) h = e[k], j = h.length, h = h.replace(/^ *([*+-]|\d+\.) +/, ""), ~h.indexOf("\n ") && (j -= h.length, h = this.options.pedantic ? h.replace(/^ {1,4}/gm, "") : h.replace(new RegExp("^ {1," + j + "}", "gm"), "")), this.options.smartLists && k !== l - 1 && (g = i.bullet.exec(e[k + 1])[0], f === g || f.length > 1 && g.length > 1 || (a = e.slice(k + 1).join("\n") + a, k = l - 1)), d = c || /\n\n(?!\s*$)/.test(h), k !== l - 1 && (c = "\n" === h.charAt(h.length - 1), d || (d = c)), this.tokens.push({
						type: d ? "loose_item_start" : "list_item_start"
					}), this.token(h, !1), this.tokens.push({
						type: "list_item_end"
					});
					this.tokens.push({
						type: "list_end"
					})
				} else if (e = this.rules.html.exec(a)) a = a.substring(e[0].length), this.tokens.push({
					type: this.options.sanitize ? "paragraph" : "html",
					pre: "pre" === e[1] || "script" === e[1] || "style" === e[1],
					text: e[0]
				});
				else if (b && (e = this.rules.def.exec(a))) a = a.substring(e[0].length), this.tokens.links[e[1].toLowerCase()] = {
					href: e[2],
					title: e[3]
				};
				else if (b && (e = this.rules.table.exec(a))) {
					for (a = a.substring(e[0].length), h = {
							type: "table",
							header: e[1].replace(/^ *| *\| *$/g, "").split(/ *\| */),
							align: e[2].replace(/^ *|\| *$/g, "").split(/ *\| */),
							cells: e[3].replace(/(?: *\| *)?\n$/, "").split("\n")
						}, k = 0; k < h.align.length; k++) h.align[k] = /^ *-+: *$/.test(h.align[k]) ? "right" : /^ *:-+: *$/.test(h.align[k]) ? "center" : /^ *:-+ *$/.test(h.align[k]) ? "left" : null;
					for (k = 0; k < h.cells.length; k++) h.cells[k] = h.cells[k].replace(/^ *\| *| *\| *$/g, "").split(/ *\| */);
					this.tokens.push(h)
				} else if (b && (e = this.rules.paragraph.exec(a))) a = a.substring(e[0].length), this.tokens.push({
					type: "paragraph",
					text: "\n" === e[1].charAt(e[1].length - 1) ? e[1].slice(0, -1) : e[1]
				});
				else if (e = this.rules.text.exec(a)) a = a.substring(e[0].length), this.tokens.push({
					type: "text",
					text: e[0]
				});
				else if (a) throw new Error("Infinite loop on byte: " + a.charCodeAt(0));
				return this.tokens
			};
			var j = {
				escape: /^\\([\\`*{}\[\]()#+\-.!_>])/,
				autolink: /^<([^ >]+(@|:\/)[^ >]+)>/,
				url: f,
				tag: /^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^'">])*?>/,
				link: /^!?\[(inside)\]\(href\)/,
				reflink: /^!?\[(inside)\]\s*\[([^\]]*)\]/,
				nolink: /^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,
				strong: /^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,
				em: /^\b_((?:__|[\s\S])+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,
				code: /^(`+)\s*([\s\S]*?[^`])\s*\1(?!`)/,
				br: /^ {2,}\n(?!\s*$)/,
				del: f,
				text: /^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/
			};
			j._inside = /(?:\[[^\]]*\]|[^\[\]]|\](?=[^\[]*\]))*/, j._href = /\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/, j.link = e(j.link)("inside", j._inside)("href", j._href)(), j.reflink = e(j.reflink)("inside", j._inside)(), j.normal = g({}, j), j.pedantic = g({}, j.normal, {
				strong: /^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,
				em: /^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/
			}), j.gfm = g({}, j.normal, {
				escape: e(j.escape)("])", "~|])")(),
				url: /^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,
				del: /^~~(?=\S)([\s\S]*?\S)~~/,
				text: e(j.text)("]|", "~]|")("|", "|https?://|")()
			}), j.breaks = g({}, j.gfm, {
				br: e(j.br)("{2,}", "*")(),
				text: e(j.gfm.text)("{2,}", "*")()
			}), b.rules = j, b.output = function(a, c, d) {
				var e = new b(c, d);
				return e.output(a)
			}, b.prototype.output = function(a) {
				for (var b, c, e, f, g = ""; a;)
					if (f = this.rules.escape.exec(a)) a = a.substring(f[0].length), g += f[1];
					else if (f = this.rules.autolink.exec(a)) a = a.substring(f[0].length), "@" === f[2] ? (c = this.mangle(":" === f[1].charAt(6) ? f[1].substring(7) : f[1]), e = this.mangle("mailto:") + c) : (c = d(f[1]), e = c), g += '<a href="' + e + '">' + c + "</a>";
				else if (f = this.rules.url.exec(a)) a = a.substring(f[0].length), c = d(f[1]), e = c, g += '<a href="' + e + '">' + c + "</a>";
				else if (f = this.rules.tag.exec(a)) a = a.substring(f[0].length), g += this.options.sanitize ? d(f[0]) : f[0];
				else if (f = this.rules.link.exec(a)) a = a.substring(f[0].length), g += this.outputLink(f, {
					href: f[2],
					title: f[3]
				});
				else if ((f = this.rules.reflink.exec(a)) || (f = this.rules.nolink.exec(a))) {
					if (a = a.substring(f[0].length), b = (f[2] || f[1]).replace(/\s+/g, " "), b = this.links[b.toLowerCase()], !b || !b.href) {
						g += f[0].charAt(0), a = f[0].substring(1) + a;
						continue
					}
					g += this.outputLink(f, b)
				} else if (f = this.rules.strong.exec(a)) a = a.substring(f[0].length), g += "<strong>" + this.output(f[2] || f[1]) + "</strong>";
				else if (f = this.rules.em.exec(a)) a = a.substring(f[0].length), g += "<em>" + this.output(f[2] || f[1]) + "</em>";
				else if (f = this.rules.code.exec(a)) a = a.substring(f[0].length), g += "<code>" + d(f[2], !0) + "</code>";
				else if (f = this.rules.br.exec(a)) a = a.substring(f[0].length), g += "<br>";
				else if (f = this.rules.del.exec(a)) a = a.substring(f[0].length), g += "<del>" + this.output(f[1]) + "</del>";
				else if (f = this.rules.text.exec(a)) a = a.substring(f[0].length), g += d(this.smartypants(f[0]));
				else if (a) throw new Error("Infinite loop on byte: " + a.charCodeAt(0));
				return g
			}, b.prototype.outputLink = function(a, b) {
				return "!" !== a[0].charAt(0) ? '<a href="' + d(b.href) + '"' + (b.title ? ' title="' + d(b.title) + '"' : "") + ">" + this.output(a[1]) + "</a>" : '<img src="' + d(b.href) + '" alt="' + d(a[1]) + '"' + (b.title ? ' title="' + d(b.title) + '"' : "") + ">"
			}, b.prototype.smartypants = function(a) {
				return this.options.smartypants ? a.replace(/--/g, "\u2014").replace(/(^|[-\u2014/(\[{"\s])'/g, "$1\u2018").replace(/'/g, "\u2019").replace(/(^|[-\u2014/(\[{\u2018\s])"/g, "$1\u201c").replace(/"/g, "\u201d").replace(/\.{3}/g, "\u2026") : a
			}, b.prototype.mangle = function(a) {
				for (var b, c = "", d = a.length, e = 0; d > e; e++) b = a.charCodeAt(e), Math.random() > .5 && (b = "x" + b.toString(16)), c += "&#" + b + ";";
				return c
			}, c.parse = function(a, b) {
				var d = new c(b);
				return d.parse(a)
			}, c.prototype.parse = function(a) {
				this.inline = new b(a.links, this.options), this.tokens = a.reverse();
				for (var c = ""; this.next();) c += this.tok();
				return c
			}, c.prototype.next = function() {
				return this.token = this.tokens.pop()
			}, c.prototype.peek = function() {
				return this.tokens[this.tokens.length - 1] || 0
			}, c.prototype.parseText = function() {
				for (var a = this.token.text;
					"text" === this.peek().type;) a += "\n" + this.next().text;
				return this.inline.output(a)
			}, c.prototype.tok = function() {
				switch (this.token.type) {
					case "space":
						return "";
					case "hr":
						return "<hr>\n";
					case "heading":
						return "<h" + this.token.depth + ' id="' + this.token.text.toLowerCase().replace(/[^\w]+/g, "-") + '">' + this.inline.output(this.token.text) + "</h" + this.token.depth + ">\n";
					case "code":
						if (this.options.highlight) {
							var a = this.options.highlight(this.token.text, this.token.lang);
							null != a && a !== this.token.text && (this.token.escaped = !0, this.token.text = a)
						}
						return this.token.escaped || (this.token.text = d(this.token.text, !0)), "<pre><code" + (this.token.lang ? ' class="' + this.options.langPrefix + this.token.lang + '"' : "") + ">" + this.token.text + "</code></pre>\n";
					case "table":
						var b, c, e, f, g, h = "";
						for (h += "<thead>\n<tr>\n", c = 0; c < this.token.header.length; c++) b = this.inline.output(this.token.header[c]), h += "<th", this.token.align[c] && (h += ' style="text-align:' + this.token.align[c] + '"'), h += ">" + b + "</th>\n";
						for (h += "</tr>\n</thead>\n", h += "<tbody>\n", c = 0; c < this.token.cells.length; c++) {
							for (e = this.token.cells[c], h += "<tr>\n", g = 0; g < e.length; g++) f = this.inline.output(e[g]), h += "<td", this.token.align[g] && (h += ' style="text-align:' + this.token.align[g] + '"'), h += ">" + f + "</td>\n";
							h += "</tr>\n"
						}
						return h += "</tbody>\n", "<table>\n" + h + "</table>\n";
					case "blockquote_start":
						for (var h = "";
							"blockquote_end" !== this.next().type;) h += this.tok();
						return "<blockquote>\n" + h + "</blockquote>\n";
					case "list_start":
						for (var i = this.token.ordered ? "ol" : "ul", h = "";
							"list_end" !== this.next().type;) h += this.tok();
						return "<" + i + ">\n" + h + "</" + i + ">\n";
					case "list_item_start":
						for (var h = "";
							"list_item_end" !== this.next().type;) h += "text" === this.token.type ? this.parseText() : this.tok();
						return "<li>" + h + "</li>\n";
					case "loose_item_start":
						for (var h = "";
							"list_item_end" !== this.next().type;) h += this.tok();
						return "<li>" + h + "</li>\n";
					case "html":
						return this.token.pre || this.options.pedantic ? this.token.text : this.inline.output(this.token.text);
					case "paragraph":
						return "<p>" + this.inline.output(this.token.text) + "</p>\n";
					case "text":
						return "<p>" + this.parseText() + "</p>\n"
				}
			}, f.exec = f, h.options = h.setOptions = function(a) {
				return g(h.defaults, a), h
			}, h.defaults = {
				gfm: !0,
				tables: !0,
				breaks: !1,
				pedantic: !1,
				sanitize: !1,
				smartLists: !1,
				silent: !1,
				highlight: null,
				langPrefix: "lang-",
				smartypants: !1
			}, h.Parser = c, h.parser = c.parse, h.Lexer = a, h.lexer = a.lex, h.InlineLexer = b, h.inlineLexer = b.output, h.parse = h, "object" == typeof exports ? module.exports = h : "function" == typeof define && define.amd ? define("marked", [], function() {
				return h
			}) : this.marked = h
		}.call(function() {
			return this || ("undefined" != typeof window ? window : global)
		}()), define("strut/presentation_generator/impress/ImpressGenerator", ["handlebars", "common/Math2", "marked", "strut/deck/Utils"], function(a, b, c, d) {
			{
				var e;
				window.config.slide
			}
			return new(e = function() {
				function e() {
					var e = this;
					a.registerHelper("renderComponent", function(b, c) {
						var d;
						if (d = "", c && "string" == typeof c && (c = c.split(" "), -1 != c.indexOf(b.get("type")))) return d;
						switch (b.get("type")) {
							case "Image":
								d = "SVG" === b.get("imageType") ? JST["strut.presentation_generator.impress/SVGImage"](b) : JST["strut.presentation_generator.impress/Image"](b);
								break;
							case "TextBox":
								d = JST["strut.presentation_generator.impress/TextBox"](e.convertTextBoxData(b));
								break;
							case "Audio":
								d = JST["strut.presentation_generator.impress/Audio"](b);
								break;
							case "Video":
								d = JST["strut.presentation_generator.impress/Video"](b);
								break;
							case "WebFrame":
								d = JST["strut.presentation_generator.impress/WebFrame"](b);
								break;
							case "Shape":
								d = JST["strut.presentation_generator.impress/Shape"](b)
						}
						return new a.SafeString(d)
					}), a.registerHelper("getVisible", function(a) {
						return a ? "visible" : "hidden"
					}), a.registerHelper("toDeg", function(a) {
						return 180 * a / Math.PI
					}), a.registerHelper("negate", function(a) {
						return -1 * a
					}), a.registerHelper("getCompPosX", function(a) {
						return b.round(a.x - a.sizeX * a.originX, 2)
					}), a.registerHelper("getOpacity", function(a) {
						return a > 1 ? a / 100 : a
					}), a.registerHelper("getCompPosY", function(a) {
						return b.round(a.y - a.sizeY * a.originY, 2)
					}), a.registerHelper("round", function(a) {
						return b.round(a, 2)
					}), a.registerHelper("extractBG", function(a) {
						var b, c, d, e, f, g;
						if (null != a && a.length > 0) {
							for (d = "", e = a[0], b = ["-moz-", "-webkit-", "-o-", "-ms-", ""], f = 0, g = b.length; g > f; f++) c = b[f], d += "background-image: " + c + e + "; ";
							return d
						}
						return ""
					}), a.registerHelper("or", function(a, b) {
						return a || b
					}), a.registerHelper("determineBG", function(a, b) {
						var c = d.slideBackground(a, b, {
							surfaceForDefault: !0,
							transparentForSurface: !0
						});
						return c && 0 == c.indexOf("img:") ? "" : c
					}), a.registerHelper("determineSurface", function(a, b) {
						var c = d.slideSurface(a, b);
						return c && "bg-default" != c && -1 == c.indexOf("img:") ? " " + c + " " : ""
					}), a.registerHelper("slideBGImg", function(a) {
						var b = a.get("background");
						return b && 0 == b.indexOf("img:") ? "background-image: url(" + b.substring(4) + ");" : ""
					}), a.registerHelper("marked", function(b) {
						return b ? new a.SafeString(c(b)) : ""
					}), a.registerHelper("shapeSvg", function() {
						if (this.fill && this.markup) {
							var b = '<svg fill="' + this.fill + '" ' + this.markup.substring(4);
							return new a.SafeString(b)
						}
						return this.markup ? new a.SafeString(this.markup) : ""
					}), a.registerHelper("isBGImg", function(a, b) {
						return a && 0 == a.indexOf("img:") ? b.fn(this) : b.inverse(this)
					}), a.registerHelper("isBGClass", function(a, b) {
						return a && 0 == a.indexOf("img:") ? b.inverse(this) : b.fn(this)
					}), a.registerHelper("getBGImgStyle", function(a) {
						return "background-image: url(" + a.substring(4) + ");"
					});
					var f = {};
					a.registerHelper("counter_set", function(a, b) {
						f[a] = b
					}), a.registerHelper("counter_incAndGet", function(a) {
						return f[a] = f[a] + 1
					}), a.registerPartial("ComponentContainer", JST["strut.presentation_generator.impress/ComponentContainer"]), a.registerPartial("TransformContainer", JST["strut.presentation_generator.impress/TransformContainer"]), a.registerPartial("SVGContainer", JST["strut.presentation_generator.impress/SVGContainer"]), a.registerPartial("PerSlideSurfaceStylesheet", JST["strut.presentation_generator/PerSlideSurfaceStylesheet"]), a.registerPartial("CustomBgStylesheet", JST["strut.presentation_generator/CustomBgStylesheet"])
				}
				return e.prototype.render = function(a) {
					var b, c, d, e = a.attributes;
					d = e.slides, c = 6, b = 0;
					var f, g, h, i;
					return d.each(function(a) {
						var d;
						return d = a.get("x"), y = a.get("y"), null == d && (a.set("x", 280 * b + 180), a.set("y", 280 * (b / c | 0) + 180)), (null == f || f > d) && (f = d), (null == g || y < g) && (g = y), (null == h || d > h) && (h = d), (null == i || y > i) && (i = y), ++b
					}), e.overviewX = (h + f) / 2, e.overviewY = (i + g) / 2, JST["strut.presentation_generator.impress/ImpressTemplate"](a)
				}, e.prototype.getStartPreviewFn = function(a, b, c) {
					function d() {
						console.log("Loaded!"), window.location.hash = "#/step-" + (a.activeSlideIndex() + 1), b.previewWind.document.open(), b.previewWind.document.write(c), b.previewWind.document.close()
					}
					return d
				}, e.prototype.convertTextBoxData = function(b) {
					var c;
					return c = _.extend({}, b), c.text = new a.SafeString(b.text), c
				}, e
			}())
		}), define("strut/slide_snapshot/SlideDrawer", ["strut/deck/Utils", "strut/presentation_generator/impress/ImpressGenerator"], function(a) {
			"use strict";

			function b(a, b, c, d) {
				this.$el = b, this.model = a, this._template = JST["strut.slide_snapshot/SlideDrawer"], this._size = c, this._deck = d, this.render = this.render.bind(this), this.render = _.debounce(this.render, 250), this.model.on("contentsChanged", this.render, this), this._deck.on("change:viewportSize", this._onViewportSizeChanged, this), this.model.on("change:bgColor", this._updateSlideBackground, this), this.model.on("change:bgImage", this._updateSlideBackground, this), this._deck.on("change:bgColor", this._updateDeckBackground, this), this._deck.on("change:bgImage", this._updateDeckBackground, this), this._onViewportSizeChanged()
			}
			return b.prototype = {
				_onViewportSizeChanged: function() {
					var a = this._deck.get("viewportSize"),
						b = this._size,
						c = Math.min(b.width / a.width, b.height / a.height);
					this.$el.css({
						width: a.width,
						height: a.height,
						marginLeft: -(a.width / 2) * c,
						marginTop: -(a.height / 2) * c
					}), this.$el.css(window.browserPrefix + "transform", "scale(" + c + ")")
				},
				_updateDeckBackground: function() {
					a.setBackground(this.$el.find(".bgDeck"), this._deck.get("bgColor"), this._deck.get("bgImage"))
				},
				_updateSlideBackground: function() {
					a.setBackground(this.$el.find(".bgSlide"), this.model.get("bgColor"), this.model.get("bgImage"))
				},
				render: function() {
					return this.$el.html(this._template(this.model.attributes)), this._updateDeckBackground(), this._updateSlideBackground(), this
				},
				rescale: function() {
					this.$el.css(window.browserPrefix + "transform", "scale(" + this.scale.x + "," + this.scale.y + ")")
				},
				applyBackground: function(b, c, d) {
					a.applyBackground(this.$el, b, c, d)
				},
				dispose: function() {
					this.model.off(null, null, this), this._deck.off(null, null, this)
				},
				setSize: function(a) {
					a && (this.size = a, this.scale = {
						x: this.size.width / config.slide.size.width,
						y: this.size.height / config.slide.size.height
					}, this.rescale())
				}
			}, b
		}), define("strut/slide_snapshot/SlideSnapshot", ["libs/backbone", "./SlideDrawer", "css!styles/slide_snapshot/slideSnapshot.css", "strut/deck/Utils", "strut/editor/GlobalEvents"], function(a, b) {
			"use strict";
			return a.View.extend({
				className: "slideSnapshot",
				events: {
					select: "_selected",
					"click .removeBtn": "_removeClicked",
					"mousedown .removeBtn": "_removePressed",
					destroyed: "dispose"
				},
				initialize: function() {
					this.model.on("change:selected", this._selectedChanged, this), this.model.on("change:active", this._activeChanged, this), this.model.on("dispose", this.dispose, this), this.model.on("change:background", this._bgChanged, this), this.model.on("change:surface", this._bgChanged, this), this.options.deck.on("change:background", this._bgChanged, this), this.options.deck.on("change:surface", this._bgChanged, this), this._template = JST["strut.slide_snapshot/SlideSnapshot"]
				},
				_selected: function(a, b) {
					b.selected ? b.active ? this.model.set("active", !0, b) : this.model.set("selected", !0, b) : this.model.set("selected", !1, b)
				},
				_selectedChanged: function(a, b) {
					b ? this.$el.addClass("ui-selected") : this.$el.removeClass("ui-selected")
				},
				_activeChanged: function(a, b) {
					b ? this.$el.addClass("active") : this.$el.removeClass("active")
				},
				_bgChanged: function() {
					this._slideDrawer.applyBackground(this.model, this.options.deck, {
						surfaceForDefault: !0
					})
				},
				render: function() {
					this._slideDrawer && this._slideDrawer.dispose(), this.$el.html(this._template(this.model.attributes));
					var a = this.$el.find(".slideDrawer");
					this._slideDrawer = new b(this.model, a, {
						width: 120,
						height: 90
					}, this.options.deck);
					var c = this;
					return c._slideDrawer.render(), this.model.get("selected") && this.$el.addClass("ui-selected"), this.model.get("active") && this.$el.addClass("active"), this._bgChanged(), this
				},
				_removeClicked: function(a) {
					this.remove(!0), a.stopPropagation()
				},
				_removePressed: function(a) {
					a.stopPropagation()
				},
				remove: function(b) {
					this._slideDrawer.dispose(), this.off(), this.$el.data("jsView", null), this.model.off(null, null, this), this.options.deck.off(null, null, this), a.View.prototype.remove.apply(this, arguments), b && this.options.deck.remove(this.model)
				},
				dispose: function() {
					this.disposed || (this.disposed = !0, this.remove())
				},
				constructor: function() {
					a.View.prototype.constructor.apply(this, arguments)
				}
			})
		}), define("common/Queue", [], function() {
			function a() {
				this._queue = []
			}

			function b() {
				return new a
			}
			return a.prototype = {
				take: function() {
					return 0 != this._queue.length ? this._queue.shift() : null
				},
				enqueue: function(a) {
					this._queue.push(a)
				}
			}, {
				create: b
			}
		}), define("common/Throttler", ["common/Queue"], function(a) {
			function b(b, c) {
				this._handle = null, this._delay = b, this._queue = a.create(), this._context = c
			}
			return b.prototype = {
				submit: function(a, b) {
					this._handle ? b && this._handleFailedSubmit(a, b) : this._internalSubmit(a, b)
				},
				cancel: function() {
					this._queue = a.create(), this._runLast = null, null != this._handle && (clearTimeout(this._handle), this._handle = null)
				},
				_internalSubmit: function(a, b) {
					var c = this;
					this._handle = setTimeout(function() {
						b && b.arguments ? a.apply(c._context, b.arguments) : a.call(c._context), c._internalCB()
					}, this._delay)
				},
				_internalCB: function() {
					var a = this._queue.take();
					if (a) this._handle = this._internalSubmit(a);
					else if (this._runLast) {
						var b = this._runLast;
						this._runLast = null, this._internalSubmit(b[0], b[1])
					} else this._handle = null
				},
				_handleFailedSubmit: function(a, b) {
					switch (b.rejectionPolicy) {
						case "queue":
							this._queue.enqueue(a);
							break;
						case "runLast":
							this._runLast = [a, b];
							break;
						case "drop":
					}
				}
			}, b
		}), define("strut/slide_editor/model/WellContextMenuModel", ["libs/backbone"], function(a) {
			"use strict";
			return a.Model.extend({
				initialize: function() {
					this.subs = [], this._registry = this.editorModel.registry, this.set("contextButtons", []), this.subs.push(this._registry.on("registered:strut.WellContextButtonProvider", this._buttonRegistered, this)), this._slideIndex = 0
				},
				_createButtons: function() {
					var a = this._registry.get("strut.WellContextButtonProvider"),
						b = [];
					a.forEach(function(a) {
						b = b.concat(a.service().createButtons(this.editorModel, this))
					}, this), this.set("contextButtons", b)
				},
				slideIndex: function(a) {
					return null == a ? this._slideIndex : void(this._slideIndex = a)
				},
				dispose: function() {
					console.log("DISPOSING CONTEXT MENU!"), this.subs.forEach(function(a) {
						a.dispose()
					})
				},
				_buttonRegistered: function(a) {
					var b = a.service().createButtons(this.editorModel, this),
						c = this.get("contextButtons");
					b.forEach(function(a) {
						c.push(a), this.trigger("change:contextButtons.push", c, a)
					}, this)
				},
				constructor: function(b) {
					this.editorModel = b, a.Model.prototype.constructor.call(this)
				}
			})
		}), define("strut/slide_editor/view/WellContextMenu", ["libs/backbone", "../model/WellContextMenuModel", "css!styles/slide_editor/wellContextMenu.css"], function(a, b) {
			"use strict";
			return a.View.extend({
				className: "wellContextMenu absolute",
				initialize: function() {
					this.model = new b(this._editorModel), this._template = JST["strut.slide_editor/WellContextMenu"], this._currentPos = -1
				},
				reposition: function(a) {
					a.y != this._currentPos.y && (this.$el.css("top", a.y), this.$el.css("left", a.x), this._currentPos = a)
				},
				slideIndex: function(a) {
					this.model.slideIndex(a)
				},
				dispose: function() {
					this.model.dispose()
				},
				render: function() {
					this.$el.html(""), this.model.get("contextButtons").forEach(function(a) {
						this.$el.append(a.render().$el)
					}, this)
				},
				constructor: function(b) {
					this._editorModel = b, a.View.prototype.constructor.call(this)
				}
			})
		}), define("strut/slide_editor/view/SlideWell", ["libs/backbone", "jquery.multisortable", "strut/slide_snapshot/SlideSnapshot", "common/Throttler", "./WellContextMenu", "strut/editor/GlobalEvents", "css!styles/slide_editor/slideWell.css", "tantaman/web/undo_support/CmdListFactory"], function(a, b, c, d, e, f, g, h) {
			"use strict";
			h.managedInstance("editor");
			return a.View.extend({
				events: {
					mousemove: "_showContextMenu",
					destroyed: "dispose",
					mousedown: "_focused"
				},
				className: "slideWell",
				initialize: function() {
					this._deck.on("slideAdded", this._slideAdded, this), this._deck.on("slideMoved", this._slideMoved, this), this._deck.on("slidesReset", this._slidesReset, this), this._doShowContextMenu = this._doShowContextMenu.bind(this), this._throttler = new d(100), this._contextMenu = new e(this._editorModel), this._contextMenu.render(), this.$slides = $('<div class="' + this.className + 'List">'), this.$slides.multisortable({
						items: "div.slideSnapshot",
						placeholder: "slidePlaceholder",
						stop: this._dragStopped.bind(this),
						mousedown: this._mousedown.bind(this),
						click: this._clicked.bind(this),
						axis: "y"
					}), f.on("cut", this._cut, this), f.on("copy", this._copy, this), f.on("paste", this._paste, this), f.on("delete", this._delete, this), this._clipboard = this._editorModel.clipboard
				},
				_focused: function() {
					this._editorModel.set("scope", "slideWell")
				},
				_cut: function() {
					if ("slideWell" == this._editorModel.get("scope")) {
						var a = this._deck.selected;
						this._clipboard.setItems(a), this._deck.remove(a)
					}
				},
				_copy: function() {
					if ("slideWell" == this._editorModel.get("scope")) {
						var a = this._deck.selected;
						this._clipboard.setItems(a)
					}
				},
				_paste: function() {
					var a = this._clipboard.getItems();
					null != a && a.length && void 0 != a[0].type && "slide" == a[0].type && this._deck.add(a)
				},
				_delete: function() {
					if ("slideWell" == this._editorModel.get("scope")) {
						var a = this._deck.selected;
						this._deck.remove(a)
					}
				},
				_clicked: function(a, b) {
					var c = a.ctrlKey || a.metaKey || a.shiftKey;
					b.trigger("select", {
						selected: !0,
						active: !c,
						multiselect: c
					})
				},
				_mousedown: function(a, b) {
					var c = a.ctrlKey || a.metaKey || a.shiftKey;
					this.$slides.find("> .ui-selected").trigger("select", {
						selected: !0,
						multiselect: c
					}), this.$slides.find(".active").is(".ui-selected") || c || b.trigger("select", {
						selected: !0,
						active: !c,
						multiselect: c
					})
				},
				_dragStopped: function() {
					var a = this.$slides.children().index(this.$slides.find(".ui-selected")[0]),
						b = this._deck.selected;
					this._initiatedMove = !0, this._deck.moveSlides(b, a), this._initiatedMove = !1
				},
				_showContextMenu: function(a) {
					this._throttler.submit(this._doShowContextMenu, {
						rejectionPolicy: "runLast",
						arguments: [a]
					})
				},
				_doShowContextMenu: function(a) {
					var b = a.pageY - this.$slides.position().top,
						c = 114 * ((b + 40) / 114 | 0) - 5;
					this._contextMenu.reposition({
						x: this.$slides.width() / 2 - this._contextMenu.$el.outerWidth() / 2,
						y: c
					}), this._contextMenu.slideIndex(Math.ceil(c / 114))
				},
				_slidesReset: function(a) {
					var b = 0,
						c = {
							at: 0
						};
					a.forEach(function(a) {
						c.at = b, this._slideAdded(a, c), b += 1
					}, this)
				},
				_slideAdded: function(a, b) {
					var d = b.at,
						e = new c({
							model: a,
							deck: this._deck,
							registry: this._registry
						});
					if (0 == d) this.$slides.prepend(e.render().$el);
					else {
						var f = $(".slideSnapshot");
						d >= f.length ? this.$slides.append(e.render().$el) : $(f[d]).before(e.render().$el)
					}
				},
				_slideMoved: function() {
					this._initiatedMove || (this.$slides.empty(), this._slidesReset(this._deck.get("slides").models))
				},
				render: function() {
					this.$slides.html(""), this.$el.html(this.$slides), this._deck.get("slides").forEach(function(a) {
						var b = new c({
							model: a,
							deck: this._deck,
							registry: this._registry
						});
						this.$slides.append(b.render().$el)
					}, this), this.$el.append(this._contextMenu.$el);
					var a = this;
					return setTimeout(function() {
						a._doShowContextMenu({
							pageY: 100
						})
					}, 0), this
				},
				dispose: function() {
					this._deck.off(null, null, this), this._contextMenu.dispose(), f.off(null, null, this)
				},
				constructor: function(b) {
					this._deck = b.deck(), this._registry = b.registry, this._editorModel = b, a.View.prototype.constructor.call(this)
				}
			})
		}), define("strut/action_editor/model/DefaultAction", ["require", "exports", "module"], function() {
			var a = {
				sizeX: 0,
				sizeY: 0,
				originX: .5,
				originY: .5,
				positionX: 0,
				positionY: 0,
				positionZ: 0,
				scaleX: 1,
				scaleY: 1,
				scaleZ: 1,
				skewX: 0,
				skewY: 0,
				rotateX: 0,
				rotateY: 0,
				rotateZ: 0,
				opacity: 100,
				bgColor: 0
			};
			return {
				data: a,
				keys: Object.keys(a)
			}
		}), define("strut/deck/Component", ["./SpatialObject", "strut/action_editor/model/DefaultAction"], function(a, b) {
			var c, d;
			return d = {
				x: config.slide.size.width / 3,
				y: config.slide.size.height / 3,
				visible: !0,
				locked: !1
			}, c = {
				x: 1,
				y: 1
			}, a.extend({
				_defaults: b.data,
				_defaultSize: {
					width: 40,
					height: 30
				},
				_defaultSize: {
					sizeX: 0,
					sizeY: 0
				},
				initialize: function() {
					a.prototype.initialize.apply(this, arguments), _.defaults(this.attributes, d), void 0 === this.attributes.scale && (this.attributes.scale = {}, _.defaults(this.attributes.scale, c)), _.extend(this.attributes, {
						positionX: this.get("x"),
						positionY: this.get("y")
					})
				},
				customClasses: function(a) {
					return null == a ? this.get("customClasses") : void this.set("customClasses", a)
				},
				dispose: function() {
					this.trigger("dispose", this), this.off()
				},
				constructor: function() {
					a.prototype.constructor.apply(this, arguments)
				}
			})
		}), define("strut/slide_editor/view/Utils", {
			computeSlideDimensions: function(a, b) {
				{
					var c = a.width(),
						d = Math.max(a.height(), window.config.minViewportHeight),
						e = b,
						f = (c - 30) / e.width,
						g = (d - 30) / e.height;
					e.height * f
				}
				scale = Math.min(f, g);
				var h = scale * e.width,
					i = c - h;
				return {
					scale: scale,
					remainingWidth: i,
					scaledWidth: h
				}
			}
		}), define("strut/slide_editor/view/OperatingTable", ["libs/backbone", "css!styles/slide_editor/operatingTable.css", "strut/slide_components/ComponentFactory", "strut/editor/GlobalEvents", "strut/deck/Component", "strut/deck/Utils", "./Utils", "marked"], function(a, b, c, d, e, f, g, h) {
			"use strict";
			return a.View.extend({
				className: "operatingTable ui-selectable strut-surface",
				events: {
					click: "_clicked",
					focused: "_focus",
					destroyed: "dispose"
				},
				initialize: function() {
					this._resize = this._resize.bind(this), $(window).resize(this._resize), this._deck.on("change:activeSlide", function(a, b) {
						this.setModel(b)
					}, this), this._deck.on("change:stepEditorHeight", this._onStepEditorHeightChanged, this), this._deck.on("change:viewportSize", this._onViewportSizeChanged, this), this._deck.on("change:viewportScale", this._resize, this), this._deck.on("change:background", this._updateSurface, this), this._deck.on("change:bgImage", this._updateDeckBackground, this), this._deck.on("change:bgColor", this._updateDeckBackground, this), this.setModel(this._deck.get("activeSlide")), d.on("cut", this._cut, this), d.on("copy", this._copy, this), d.on("paste", this._paste, this), d.on("delete", this._delete, this), this._clipboard = this._editorModel.clipboard
				},
				_onStepEditorHeightChanged: function(a, b) {
					b && (this.$el.css("bottom", b), this._resize())
				},
				_onViewportSizeChanged: function() {
					this._$slideContainer.css(this._deck.get("viewportSize")), this._resize()
				},
				_updateDeckBackground: function() {
					f.setBackground(this._$slideContainer, this._deck.get("bgColor"), this._deck.get("bgImage"))
				},
				_updateSlideBackground: function() {
					f.setBackground(this._$slideBg, this.model.get("bgColor"), this.model.get("bgImage"))
				},
				render: function() {
					this._$slideContainer = $('<div class="slideContainer"></div>'), this._$slideCnt = $('<div class="slideCnt"></div>'), this._$slideBg = $('<div class="slideBg"</div>'), this._$slideBg.css({
						backgroundSize: "cover",
						width: "100%",
						height: "100%",
						position: "absolute",
						top: "0px",
						left: "0px"
					}), this._$slideContainer.css({
						backgroundSize: "cover"
					}), this._$slideContainer.append(this._$slideBg), this._$slideCnt.append(this._$slideContainer), this.$el.append(this._$slideCnt), this._onViewportSizeChanged(), f.applyBackground(this._$slideContainer, this.model, this._deck, {
						transparentForSurface: !0,
						surfaceForDefault: !0,
						transparentForDeckSurface: !0
					}), this._$markdownContent = $('<div class="markdownArea themedArea"></div>'), this._$slideContainer.append(this._$markdownContent), this._$slideCnt.selectable({
						filter: ">.slideContainer>.component",
						selected: function(a, b) {
							$(b.selected).trigger("select", b)
						},
						unselected: function(a, b) {
							$(b.unselected).trigger("unselect", b)
						}
					});
					var a = this;
					return setTimeout(function() {
						a._rendered = !0, a._resize(), a._renderContents()
					}, 0), this.$el.addClass(this._deck.get("surface") || "bg-default"), this
				},
				_updateBg: function() {
					this._$slideContainer && (this._$slideContainer.removeClass(), this._$slideContainer.addClass("slideContainer"), f.applyBackground(this._$slideContainer, this.model, this._deck, {
						transparentForSurface: !0,
						surfaceForDefault: !0
					}))
				},
				_updateSurface: function(a, b) {
					b = f.slideSurface(a, this._deck), b && (f.isImg(b) ? this.$el.css("background-image", f.getImgUrl(b)) : (this.$el.css("background-image", ""), this.$el.removeClass(), this.$el.addClass("operatingTable strut-surface " + b)))
				},
				_cut: function() {
					if ("operatingTable" == this._editorModel.get("scope")) {
						var a = this.model.selected;
						a.length && (this._clipboard.setItems(a), this.model.remove(a))
					}
				},
				_copy: function() {
					if ("operatingTable" == this._editorModel.get("scope")) {
						var a = this.model.selected;
						a.length && this._clipboard.setItems(a)
					}
				},
				_paste: function() {
					var a = this._clipboard.getItems();
					null != a && a.length && a[0] instanceof e && this.model.add(a)
				},
				_delete: function() {
					if ("operatingTable" == this._editorModel.get("scope")) {
						var a = this.model.selected;
						a.length && this.model.remove(a)
					}
				},
				_clicked: function() {
					this._focus(), this.model.get("components").forEach(function(a) {
						a.get("selected") && a.set("selected", !1)
					}), this.$el.find(".editable").removeClass("editable").attr("contenteditable", !1).trigger("editComplete"), this._focus()
				},
				_focus: function() {
					this._editorModel.set("scope", "operatingTable")
				},
				_dragover: function(a) {
					a.stopPropagation(), a.preventDefault(), a.originalEvent.dataTransfer.dropEffect = "copy"
				},
				_drop: function(a) {
					a.stopPropagation(), a.preventDefault();
					var b = a.originalEvent.dataTransfer.files[0];
					b.type.match("image.*") && this._editorModel.hasStorage() && this._editorModel.addComponent({
						src: {
							file: b
						},
						type: "Image"
					}, this.model)
				},
				_componentAdded: function(a, b) {
					var d = c.instance.createView(b);
					this._$slideContainer.append(d.render())
				},
				setModel: function(a) {
					var b = this.model;
					if (this.model !== a) return null != this.model && this.model.off(null, null, this), this.model = a, null != this.model && (this.model.on("change:components.add", this._componentAdded, this), this.model.on("change:bgImage", this._updateSlideBackground, this), this.model.on("change:bgColor", this._updateSlideBackground, this), this.model.on("change:background", this._updateBg, this), this.model.on("change:markdown", this._renderMarkdown, this), this.model.on("change:surface", this._updateSurface, this), this._updateBg(), this._updateSurface(this.model, this.model.get("surface")), this._updateSlideBackground(), this._updateDeckBackground()), this._renderContents(b), this
				},
				dispose: function() {
					$(window).off("resize", this._resize), this._deck.off(null, null, this), this.model && this.model.off(null, null, this), d.off(null, null, this)
				},
				_renderContents: function(a) {
					if (null != a && a.trigger("unrender", !0), this._rendered && null != this.model) {
						var b = this.model.get("components");
						b.forEach(function(a) {
							var b = c.instance.createView(a);
							this._$slideContainer.append(b.render())
						}, this), this._renderMarkdown()
					}
				},
				_renderMarkdown: function() {
					this._$markdownContent.html(this.model.get("markdown") ? h(this.model.get("markdown")) : "")
				},
				_resize: function() {
					var a = this._deck.get("viewportSize"),
						b = g.computeSlideDimensions(this.$el, a),
						c = b.scale * this._deck.get("viewportScale"),
						d = (this._$slideCnt.innerHeight() - this.$el.innerHeight() + 17) / 2,
						e = (this._$slideCnt.innerWidth() - this.$el.innerWidth() + 17) / 2;
					this.$el.scrollTop(d), this.$el.scrollLeft(e), this._$slideContainer.css(window.browserPrefix + "transform", "scale(" + c + ")")
				},
				constructor: function(b, c) {
					this._deck = b.deck(), this._registry = b.registry, this._editorModel = b, this._slideEditorModel = c, a.View.prototype.constructor.call(this)
				}
			})
		}), CodeMirror.defineMode("xml", function(a, b) {
			function c(a, b) {
				function c(c) {
					return b.tokenize = c, c(a, b)
				}
				var e = a.next();
				if ("<" == e) {
					if (a.eat("!")) return a.eat("[") ? a.match("CDATA[") ? c(f("atom", "]]>")) : null : a.match("--") ? c(f("comment", "-->")) : a.match("DOCTYPE", !0, !0) ? (a.eatWhile(/[\w\._\-]/), c(g(1))) : null;
					if (a.eat("?")) return a.eatWhile(/[\w\._\-]/), b.tokenize = f("meta", "?>"), "meta";
					var h = a.eat("/");
					t = "";
					for (var i; i = a.eat(/[^\s\u00a0=<>\"\'\/?]/);) t += i;
					return t ? (u = h ? "closeTag" : "openTag", b.tokenize = d, "tag") : "tag error"
				}
				if ("&" == e) {
					var j;
					return j = a.eat("#") ? a.eat("x") ? a.eatWhile(/[a-fA-F\d]/) && a.eat(";") : a.eatWhile(/[\d]/) && a.eat(";") : a.eatWhile(/[\w\.\-:]/) && a.eat(";"), j ? "atom" : "error"
				}
				return a.eatWhile(/[^&<]/), null
			}

			function d(a, b) {
				var d = a.next();
				if (">" == d || "/" == d && a.eat(">")) return b.tokenize = c, u = ">" == d ? "endTag" : "selfcloseTag", "tag";
				if ("=" == d) return u = "equals", null;
				if ("<" == d) {
					b.tokenize = c;
					var f = b.tokenize(a, b);
					return f ? f + " error" : "error"
				}
				return /[\'\"]/.test(d) ? (b.tokenize = e(d), b.stringStartCol = a.column(), b.tokenize(a, b)) : (a.eatWhile(/[^\s\u00a0=<>\"\']/), "word")
			}

			function e(a) {
				var b = function(b, c) {
					for (; !b.eol();)
						if (b.next() == a) {
							c.tokenize = d;
							break
						}
					return "string"
				};
				return b.isInAttribute = !0, b
			}

			function f(a, b) {
				return function(d, e) {
					for (; !d.eol();) {
						if (d.match(b)) {
							e.tokenize = c;
							break
						}
						d.next()
					}
					return a
				}
			}

			function g(a) {
				return function(b, d) {
					for (var e; null != (e = b.next());) {
						if ("<" == e) return d.tokenize = g(a + 1), d.tokenize(b, d);
						if (">" == e) {
							if (1 == a) {
								d.tokenize = c;
								break
							}
							return d.tokenize = g(a - 1), d.tokenize(b, d)
						}
					}
					return "meta"
				}
			}

			function h() {
				for (var a = arguments.length - 1; a >= 0; a--) v.cc.push(arguments[a])
			}

			function i() {
				return h.apply(null, arguments), !0
			}

			function j(a, b) {
				var c = B.doNotIndent.hasOwnProperty(a) || v.context && v.context.noIndent;
				v.context = {
					prev: v.context,
					tagName: a,
					indent: v.indented,
					startOfLine: b,
					noIndent: c
				}
			}

			function k() {
				v.context && (v.context = v.context.prev)
			}

			function l(a) {
				if ("openTag" == a) return v.tagName = t, v.tagStart = w.column(), i(p, m(v.startOfLine));
				if ("closeTag" == a) {
					var b = !1;
					return v.context ? v.context.tagName != t && (B.implicitlyClosed.hasOwnProperty(v.context.tagName.toLowerCase()) && k(), b = !v.context || v.context.tagName != t) : b = !0, b && (x = "error"), i(n(b))
				}
				return i()
			}

			function m(a) {
				return function(b) {
					var c = v.tagName;
					return v.tagName = v.tagStart = null, "selfcloseTag" == b || "endTag" == b && B.autoSelfClosers.hasOwnProperty(c.toLowerCase()) ? (o(c.toLowerCase()), i()) : "endTag" == b ? (o(c.toLowerCase()), j(c, a), i()) : i()
				}
			}

			function n(a) {
				return function(b) {
					return a && (x = "error"), "endTag" == b ? (k(), i()) : (x = "error", i(arguments.callee))
				}
			}

			function o(a) {
				for (var b;;) {
					if (!v.context) return;
					if (b = v.context.tagName.toLowerCase(), !B.contextGrabbers.hasOwnProperty(b) || !B.contextGrabbers[b].hasOwnProperty(a)) return;
					k()
				}
			}

			function p(a) {
				return "word" == a ? (x = "attribute", i(q, p)) : "endTag" == a || "selfcloseTag" == a ? h() : (x = "error", i(p))
			}

			function q(a) {
				if ("equals" == a) return i(r, p);
				if (B.allowMissing) {
					if ("word" == a) return x = "attribute", i(q, p)
				} else x = "error";
				return "endTag" == a || "selfcloseTag" == a ? h() : i()
			}

			function r(a) {
				return "string" == a ? i(s) : "word" == a && B.allowUnquoted ? (x = "string", i()) : (x = "error", "endTag" == a || "selfCloseTag" == a ? h() : i())
			}

			function s(a) {
				return "string" == a ? i(s) : h()
			}
			var t, u, v, w, x, y = a.indentUnit,
				z = b.multilineTagIndentFactor || 1,
				A = b.multilineTagIndentPastTag || !0,
				B = b.htmlMode ? {
					autoSelfClosers: {
						area: !0,
						base: !0,
						br: !0,
						col: !0,
						command: !0,
						embed: !0,
						frame: !0,
						hr: !0,
						img: !0,
						input: !0,
						keygen: !0,
						link: !0,
						meta: !0,
						param: !0,
						source: !0,
						track: !0,
						wbr: !0
					},
					implicitlyClosed: {
						dd: !0,
						li: !0,
						optgroup: !0,
						option: !0,
						p: !0,
						rp: !0,
						rt: !0,
						tbody: !0,
						td: !0,
						tfoot: !0,
						th: !0,
						tr: !0
					},
					contextGrabbers: {
						dd: {
							dd: !0,
							dt: !0
						},
						dt: {
							dd: !0,
							dt: !0
						},
						li: {
							li: !0
						},
						option: {
							option: !0,
							optgroup: !0
						},
						optgroup: {
							optgroup: !0
						},
						p: {
							address: !0,
							article: !0,
							aside: !0,
							blockquote: !0,
							dir: !0,
							div: !0,
							dl: !0,
							fieldset: !0,
							footer: !0,
							form: !0,
							h1: !0,
							h2: !0,
							h3: !0,
							h4: !0,
							h5: !0,
							h6: !0,
							header: !0,
							hgroup: !0,
							hr: !0,
							menu: !0,
							nav: !0,
							ol: !0,
							p: !0,
							pre: !0,
							section: !0,
							table: !0,
							ul: !0
						},
						rp: {
							rp: !0,
							rt: !0
						},
						rt: {
							rp: !0,
							rt: !0
						},
						tbody: {
							tbody: !0,
							tfoot: !0
						},
						td: {
							td: !0,
							th: !0
						},
						tfoot: {
							tbody: !0
						},
						th: {
							td: !0,
							th: !0
						},
						thead: {
							tbody: !0,
							tfoot: !0
						},
						tr: {
							tr: !0
						}
					},
					doNotIndent: {
						pre: !0
					},
					allowUnquoted: !0,
					allowMissing: !0
				} : {
					autoSelfClosers: {},
					implicitlyClosed: {},
					contextGrabbers: {},
					doNotIndent: {},
					allowUnquoted: !1,
					allowMissing: !1
				},
				C = b.alignCDATA;
			return {
				startState: function() {
					return {
						tokenize: c,
						cc: [],
						indented: 0,
						startOfLine: !0,
						tagName: null,
						tagStart: null,
						context: null
					}
				},
				token: function(a, b) {
					if (!b.tagName && a.sol() && (b.startOfLine = !0, b.indented = a.indentation()), a.eatSpace()) return null;
					x = u = t = null;
					var c = b.tokenize(a, b);
					if (b.type = u, (c || u) && "comment" != c)
						for (v = b, w = a;;) {
							var d = b.cc.pop() || l;
							if (d(u || c)) break
						}
					return b.startOfLine = !1, x && (c = "error" == x ? c + " error" : x), c
				},
				indent: function(a, b, e) {
					var f = a.context;
					if (a.tokenize.isInAttribute) return a.stringStartCol + 1;
					if (a.tokenize != d && a.tokenize != c || f && f.noIndent) return e ? e.match(/^(\s*)/)[0].length : 0;
					if (a.tagName) return A ? a.tagStart + a.tagName.length + 2 : a.tagStart + y * z;
					if (C && /<!\[CDATA\[/.test(b)) return 0;
					for (f && /^<\//.test(b) && (f = f.prev); f && !f.startOfLine;) f = f.prev;
					return f ? f.indent + y : 0
				},
				electricChars: "/",
				blockCommentStart: "<!--",
				blockCommentEnd: "-->",
				configuration: b.htmlMode ? "html" : "xml",
				helperType: b.htmlMode ? "html" : "xml"
			}
		}), CodeMirror.defineMIME("text/xml", "xml"), CodeMirror.defineMIME("application/xml", "xml"), CodeMirror.mimeModes.hasOwnProperty("text/html") || CodeMirror.defineMIME("text/html", {
			name: "xml",
			htmlMode: !0
		}), define("codemirror/modes/xml", function() {}), define("codemirror/ManagedEditors", ["codemirror/codemirror", "codemirror/modes/xml"], function(a) {
			function b(b, c) {
				var d = {},
					e = a(function(a) {
						d.el = a, c && c(a)
					}, b);
				return d.mirror = e, d
			}
			var c = {};
			return {
				getEditor: function(a, d, e) {
					return c[a] || (c[a] = b(d, e))
				}
			}
		}), CodeMirror.defineMode("markdown", function(a, b) {
			function c(a, b, c) {
				return b.f = b.inline = c, c(a, b)
			}

			function d(a, b, c) {
				return b.f = b.block = c, c(a, b)
			}

			function e(a) {
				return a.linkTitle = !1, a.em = !1, a.strong = !1, a.quote = 0, q || a.f != g || (a.f = k, a.block = f), a.trailingSpace = 0, a.trailingSpaceNewLine = !1, a.thisLineHasContent = !1, null
			}

			function f(a, e) {
				var f = e.list !== !1;
				if (e.list !== !1 && e.indentationDiff >= 0 ? (e.indentationDiff < 4 && (e.indentation -= e.indentationDiff), e.list = null) : e.list !== !1 && e.indentation > 0 ? (e.list = null, e.listDepth = Math.floor(e.indentation / 4)) : e.list !== !1 && (e.list = !1, e.listDepth = 0), e.indentationDiff >= 4) return e.indentation -= 4, a.skipToEnd(), w;
				if (a.eatSpace()) return null;
				if ("#" === a.peek() || e.prevLineHasContent && a.match(O)) e.header = !0;
				else if (a.eat(">"))
					for (e.indentation++, e.quote = 1, a.eatSpace(); a.eat(">");) a.eatSpace(), e.quote++;
				else {
					if ("[" === a.peek()) return c(a, e, m);
					if (a.match(K, !0)) return C;
					if (e.prevLineHasContent && !f || !a.match(L, !0) && !a.match(M, !0)) {
						if (b.fencedCodeBlocks && a.match(/^```([\w+#]*)/, !0)) return e.localMode = t(RegExp.$1), e.localMode && (e.localState = e.localMode.startState()), d(a, e, h), w
					} else e.indentation += 4, e.list = !0, e.listDepth++, b.taskLists && a.match(N, !1) && (e.taskList = !0)
				}
				return c(a, e, e.inline)
			}

			function g(a, b) {
				var c = r.token(a, b.htmlState);
				return q && "tag" === c && "openTag" !== b.htmlState.type && !b.htmlState.context && (b.f = k, b.block = f), b.md_inside && -1 != a.current().indexOf(">") && (b.f = k, b.block = f, b.htmlState.context = void 0), c
			}

			function h(a, b) {
				return a.sol() && a.match(/^```/, !0) ? (b.localMode = b.localState = null, b.f = k, b.block = f, w) : b.localMode ? b.localMode.token(a, b.localState) : (a.skipToEnd(), w)
			}

			function i(a) {
				var b = [];
				if (a.taskOpen) return "meta";
				if (a.taskClosed) return "property";
				if (a.strong && b.push(J), a.em && b.push(I), a.linkText && b.push(G), a.code && b.push(w), a.header && b.push(v), a.quote && b.push(a.quote % 2 ? x : y), a.list !== !1) {
					var c = (a.listDepth - 1) % 3;
					b.push(c ? 1 === c ? A : B : z)
				}
				return a.trailingSpaceNewLine ? b.push("trailing-space-new-line") : a.trailingSpace && b.push("trailing-space-" + (a.trailingSpace % 2 ? "a" : "b")), b.length ? b.join(" ") : null
			}

			function j(a, b) {
				return a.match(P, !0) ? i(b) : void 0
			}

			function k(a, e) {
				var f = e.text(a, e);
				if ("undefined" != typeof f) return f;
				if (e.list) return e.list = null, i(e);
				if (e.taskList) {
					var h = "x" !== a.match(N, !0)[1];
					return h ? e.taskOpen = !0 : e.taskClosed = !0, e.taskList = !1, i(e)
				}
				e.taskOpen = !1, e.taskClosed = !1;
				var j = a.next();
				if ("\\" === j) return a.next(), i(e);
				if (e.linkTitle) {
					e.linkTitle = !1;
					var k = j;
					"(" === j && (k = ")"), k = (k + "").replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1");
					var m = "^\\s*(?:[^" + k + "\\\\]+|\\\\\\\\|\\\\.)" + k;
					if (a.match(new RegExp(m), !0)) return H
				}
				if ("`" === j) {
					var n = i(e),
						o = a.pos;
					a.eatWhile("`");
					var q = 1 + a.pos - o;
					return e.code ? q === u ? (e.code = !1, n) : i(e) : (u = q, e.code = !0, i(e))
				}
				if (e.code) return i(e);
				if ("!" === j && a.match(/\[[^\]]*\] ?(?:\(|\[)/, !1)) return a.match(/\[[^\]]*\]/), e.inline = e.f = l, D;
				if ("[" === j && a.match(/.*\](\(| ?\[)/, !1)) return e.linkText = !0, i(e);
				if ("]" === j && e.linkText) {
					var r = i(e);
					return e.linkText = !1, e.inline = e.f = l, r
				}
				if ("<" === j && a.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/, !1)) return c(a, e, p(E, ">"));
				if ("<" === j && a.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/, !1)) return c(a, e, p(F, ">"));
				if ("<" === j && a.match(/^\w/, !1)) {
					if (-1 != a.string.indexOf(">")) {
						var s = a.string.substring(1, a.string.indexOf(">"));
						/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(s) && (e.md_inside = !0)
					}
					return a.backUp(1), d(a, e, g)
				}
				if ("<" === j && a.match(/^\/\w*?>/)) return e.md_inside = !1, "tag";
				var t = !1;
				if (!b.underscoresBreakWords && "_" === j && "_" !== a.peek() && a.match(/(\w)/, !1)) {
					var v = a.pos - 2;
					if (v >= 0) {
						var w = a.string.charAt(v);
						"_" !== w && w.match(/(\w)/, !1) && (t = !0)
					}
				}
				var n = i(e);
				if ("*" === j || "_" === j && !t) {
					if (e.strong === j && a.eat(j)) return e.strong = !1, n;
					if (!e.strong && a.eat(j)) return e.strong = j, i(e);
					if (e.em === j) return e.em = !1, n;
					if (!e.em) return e.em = j, i(e)
				} else if (" " === j && (a.eat("*") || a.eat("_"))) {
					if (" " === a.peek()) return i(e);
					a.backUp(1)
				}
				return " " === j && (a.match(/ +$/, !1) ? e.trailingSpace++ : e.trailingSpace && (e.trailingSpaceNewLine = !0)), i(e)
			}

			function l(a, b) {
				if (a.eatSpace()) return null;
				var d = a.next();
				return "(" === d || "[" === d ? c(a, b, p(H, "(" === d ? ")" : "]")) : "error"
			}

			function m(a, b) {
				return a.match(/^[^\]]*\]:/, !0) ? (b.f = n, G) : c(a, b, k)
			}

			function n(a, b) {
				return a.eatSpace() ? null : (a.match(/^[^\s]+/, !0), void 0 === a.peek() ? b.linkTitle = !0 : a.match(/^(?:\s+(?:"(?:[^"\\]|\\\\|\\.)+"|'(?:[^'\\]|\\\\|\\.)+'|\((?:[^)\\]|\\\\|\\.)+\)))?/, !0), b.f = b.inline = k, H)
			}

			function o(a) {
				return Q[a] || (a = (a + "").replace(/([.?*+^$[\]\\(){}|-])/g, "\\$1"), Q[a] = new RegExp("^(?:[^\\\\]|\\\\.)*?(" + a + ")")), Q[a]
			}

			function p(a, b, c) {
				return c = c || k,
					function(d, e) {
						return d.match(o(b)), e.inline = e.f = c, a
					}
			}
			var q = CodeMirror.modes.hasOwnProperty("xml"),
				r = CodeMirror.getMode(a, q ? {
					name: "xml",
					htmlMode: !0
				} : "text/plain"),
				s = {
					html: "htmlmixed",
					js: "javascript",
					json: "application/json",
					c: "text/x-csrc",
					"c++": "text/x-c++src",
					java: "text/x-java",
					csharp: "text/x-csharp",
					"c#": "text/x-csharp",
					scala: "text/x-scala"
				},
				t = function() {
					var b, c, d = {},
						e = {},
						f = [];
					for (var g in CodeMirror.modes) CodeMirror.modes.propertyIsEnumerable(g) && f.push(g);
					for (b = 0; b < f.length; b++) d[f[b]] = f[b];
					var h = [];
					for (var g in CodeMirror.mimeModes) CodeMirror.mimeModes.propertyIsEnumerable(g) && h.push({
						mime: g,
						mode: CodeMirror.mimeModes[g]
					});
					for (b = 0; b < h.length; b++) c = h[b].mime, e[c] = h[b].mime;
					for (var i in s)(s[i] in d || s[i] in e) && (d[i] = s[i]);
					return function(b) {
						return d[b] ? CodeMirror.getMode(a, d[b]) : null
					}
				}();
			void 0 === b.underscoresBreakWords && (b.underscoresBreakWords = !0), void 0 === b.fencedCodeBlocks && (b.fencedCodeBlocks = !1), void 0 === b.taskLists && (b.taskLists = !1);
			var u = 0,
				v = "header",
				w = "comment",
				x = "atom",
				y = "number",
				z = "variable-2",
				A = "variable-3",
				B = "keyword",
				C = "hr",
				D = "tag",
				E = "link",
				F = "link",
				G = "link",
				H = "string",
				I = "em",
				J = "strong",
				K = /^([*\-=_])(?:\s*\1){2,}\s*$/,
				L = /^[*\-+]\s+/,
				M = /^[0-9]+\.\s+/,
				N = /^\[(x| )\](?=\s)/,
				O = /^(?:\={1,}|-{1,})$/,
				P = /^[^!\[\]*_\\<>` "'(]+/,
				Q = [];
			return {
				startState: function() {
					return {
						f: f,
						prevLineHasContent: !1,
						thisLineHasContent: !1,
						block: f,
						htmlState: CodeMirror.startState(r),
						indentation: 0,
						inline: k,
						text: j,
						linkText: !1,
						linkTitle: !1,
						em: !1,
						strong: !1,
						header: !1,
						taskList: !1,
						list: !1,
						listDepth: 0,
						quote: 0,
						trailingSpace: 0,
						trailingSpaceNewLine: !1
					}
				},
				copyState: function(a) {
					return {
						f: a.f,
						prevLineHasContent: a.prevLineHasContent,
						thisLineHasContent: a.thisLineHasContent,
						block: a.block,
						htmlState: CodeMirror.copyState(r, a.htmlState),
						indentation: a.indentation,
						localMode: a.localMode,
						localState: a.localMode ? CodeMirror.copyState(a.localMode, a.localState) : null,
						inline: a.inline,
						text: a.text,
						linkTitle: a.linkTitle,
						em: a.em,
						strong: a.strong,
						header: a.header,
						taskList: a.taskList,
						list: a.list,
						listDepth: a.listDepth,
						quote: a.quote,
						trailingSpace: a.trailingSpace,
						trailingSpaceNewLine: a.trailingSpaceNewLine,
						md_inside: a.md_inside
					}
				},
				token: function(a, b) {
					if (a.sol()) {
						if (a.match(/^\s*$/, !0)) return b.prevLineHasContent = !1, e(b);
						b.prevLineHasContent = b.thisLineHasContent, b.thisLineHasContent = !0, b.header = !1, b.taskList = !1, b.code = !1, b.trailingSpace = 0, b.trailingSpaceNewLine = !1, b.f = b.block;
						var c = a.match(/^\s*/, !0)[0].replace(/\t/g, "    ").length,
							d = 4 * Math.floor((c - b.indentation) / 4);
						d > 4 && (d = 4);
						var f = b.indentation + d;
						if (b.indentationDiff = f - b.indentation, b.indentation = f, c > 0) return null
					}
					return b.f(a, b)
				},
				blankLine: e,
				getType: i
			}
		}, "xml"), CodeMirror.defineMIME("text/x-markdown", "markdown"), define("codemirror/modes/markdown", ["codemirror/codemirror"], function() {}), define("strut/slide_editor/view/MarkdownEditor", ["codemirror/ManagedEditors", "codemirror/modes/markdown", "./Utils"], function(a, b, c) {
			function d(a) {
				this._opts = a, this.$el = $(g.el), this._resize = this._resize.bind(this)
			}
			var e = "# Markdown!\n",
				f = {
					Enter: "newlineAndIndentContinueMarkdownList"
				},
				g = a.getEditor("optableeditor", {
					mode: "markdown",
					lineNumbers: !0,
					theme: "default",
					extraKeys: f
				});
			return d.prototype = {
				show: function(a) {
					g.mirror.setOption("mode", "markdown"), g.mirror.setOption("extraKeys", f), this._resize(), this._bindResize(), this._opts.$target.append(this.$el), this.setValue(a)
				},
				setValue: function(a) {
					a = a || e, g.mirror.setValue(a), g.mirror.getDoc().clearHistory()
				},
				getValue: function() {
					var a = g.mirror.getValue();
					return a == e ? "" : a
				},
				hide: function() {
					g.mirror.setValue(""), this._unbindResize(), this.$el.detach()
				},
				_bindResize: function() {
					$(window).on("resize", this._resize)
				},
				_resize: function() {
					var a = c.computeSlideDimensions(this._opts.$target);
					g.mirror.setSize(a.scaledWidth, this._opts.$target.height() - 20), this.$el.css({
						"margin-left": a.remainingWidth / 2,
						"margin-right": a.remainingWidth / 2
					})
				},
				_unbindResize: function() {
					$(window).off("resize", this._resize)
				}
			}, d
		}), define("strut/slide_editor/view/SlideEditorView", ["libs/backbone", "./SlideWell", "./OperatingTable", "./MarkdownEditor"], function(a, b, c, d) {
			"use stict";
			return a.View.extend({
				className: "slideEditor",
				initialize: function() {
					this._well = new b(this.model._editorModel), this._opTable = new c(this.model._editorModel, this.model), this._markdownEditor = new d({
						$target: this._opTable.$el
					}), this._prevSlide = this.model.activeSlide(), this.model.on("change:mode", this._modeChanged, this), this.model.deck().on("change:activeSlide", this._activeSlideChanged, this), this.model.on("saveEdits", this._saveCurrentEdits, this);

				},
				_activeSlideChanged: function(a, b) {
					this._saveCurrentEdits(), this._prevSlide = b, this._markdownEditor.setValue(b && b.get("markdown"))
				},
				_modeChanged: function(a, b) {
					if ("markdown" == b) this._markdownEditor.show(this.model.activeSlide().get("markdown"));
					else {
						if ("preview" != b) throw "Illegal mode";
						this.model.activeSlide().set("markdown", this._markdownEditor.getValue()), this._markdownEditor.hide()
					}
				},
				_saveCurrentEdits: function() {
					this._prevSlide && this.model.isMarkdownMode() && this._prevSlide.set("markdown", this._markdownEditor.getValue())
				},
				remove: function() {
					a.View.prototype.remove.call(this), this.model.dispose(), this._opTable.dispose(), this.model.deck().off(null, null, this)
				},
				render: function() {
					return this.$el.html(), this.$el.append(this._well.render().$el), this.$el.append(this._opTable.render().$el), this
				},
				constructor: function() {
					a.View.prototype.constructor.apply(this, arguments)
				}
			})
		}), define("tantaman/web/widgets/ModeButton", [], function() {
			function a(a, b, c) {
				this.$el = $(c()), this.modeId = b, this.clicked = this.clicked.bind(this), this.modeChanged = this.modeChanged.bind(this), this.$el.click(this.clicked), this.el = this.$el[0], this.editorModel = a, a.on("change:activeMode", this.modeChanged, this)
			}
			return a.prototype.render = function() {
				return this
			}, a.prototype.clicked = function() {
				this.editorModel.changeActiveMode(this.modeId)
			}, a.prototype.generatorChanged = function() {}, a.prototype.modeChanged = function(a) {
				a.get("modeId") == this.modeId ? this.$el.addClass("dispNone") : this.$el.removeClass("dispNone")
			}, a
		}), define("strut/slide_editor/main", ["./model/SlideEditorModel", "./view/SlideEditorView", "tantaman/web/widgets/ModeButton", "tantaman/web/widgets/Button"], function(a, b, c, d) {
			function e(a) {
				this._slideEditorModel = a.get("activeMode").model, this._button = new d({
					icon: "icon-markdown-white",
					cb: this._toggleMarkdown.bind(this),
					name: "MDown"
				}), this._button.$el.addClass("iconBtns"), this._slideEditorModel.on("change:mode", this._modeChanged, this)
			}
			var f = {
				getMode: function(c, d) {
					var e = new a({
						editorModel: c
					});
					return {
						view: new b({
							model: e,
							registry: d
						}),
						model: e,
						id: "slide-editor",
						close: function() {
							this.view.remove()
						}
					}
				},
				createButton: function(a) {
					return new c(a, "slide-editor", JST["strut.slide_editor/Button"])
				}
			};
			e.prototype = {
				view: function() {
					return this._button
				},
				_toggleMarkdown: function() {
					this._slideEditorModel.toggleMarkdown()
				},
				_modeChanged: function(a, b) {
					"markdown" == b ? this._button.$el.addClass("active") : this._button.$el.removeClass("active")
				},
				dispose: function() {
					this._slideEditorModel.off(null, null, this)
				}
			};
			var g = {
				create: function(a) {
					return new e(a)
				}
			};
			return {
				initialize: function(a) {
					a.register({
						interfaces: "strut.EditMode",
						meta: {
							id: "slide-editor"
						}
					}, f), a.register({
						interfaces: "strut.ThemeProvider",
						meta: {
							modes: {
								"slide-editor": !0
							},
							overflow: !0
						}
					}, g)
				}
			}
		}), define("tantaman/web/Utils", [], function() {
			return {
				dispose: function(a) {
					null != a.dispose ? a.dispose() : null != a.forEach && a.forEach(function(a) {
						a.dispose()
					})
				},
				stopProp: function(a) {
					a.stopPropagation()
				}
			}
		}), define("strut/transition_editor/model/OverviewModel", ["tantaman/web/Utils", "libs/backbone"], function(a, b) {
			return b.Model.extend({
				initialize: function() {
					this._editorModel.on("change:generator", this._generatorChanged, this), this._generatorChanged(this._editorModel, this._editorModel.get("generator"))
				},
				_generatorChanged: function(a, b) {
					var c = this._registry.get({
						interfaces: "strut.TransitionEditor",
						meta: {
							capabilities: b.capabilities
						}
					});
					this.transitionEditors = [], c.forEach(function(a) {
						var b = a.service();
						this.transitionEditors.push(new b({
							model: this._editorModel
						}))
					}, this), this.trigger("change:transitionEditors", this, this.transitionEditors)
				},
				dispose: function() {
					a.dispose(this.transitionEditors), this.off(), this._editorModel.off(null, null, this)
				},
				constructor: function(a, c) {
					this._editorModel = a, this._registry = c, b.Model.prototype.constructor.call(this)
				}
			})
		}), define("strut/transition_editor/view/Overview", ["libs/backbone", "tantaman/web/Utils", "css!styles/transition_editor/overview.css"], function(a, b) {
			return a.View.extend({
				initialize: function() {
					this.model.on("change:transitionEditors", this.render, this), this._currentEditors = []
				},
				remove: function() {
					this.dispose()
				},
				dispose: function() {
					a.View.prototype.remove.call(this), this.model.dispose(), b.dispose(this._currentEditors)
				},
				render: function() {
					return this.$el.html(""), b.dispose(this._currentEditors), this._currentEditors = [], this.model.transitionEditors.forEach(function(a) {
						this._currentEditors.push(a), a.render(), this.$el.append(a.$el)
					}, this), this
				},
				constructor: function() {
					a.View.prototype.constructor.apply(this, arguments)
				}
			})
		}), define("libs/mix", ["require", "exports", "module"], function(a, b, c) {
			var d = document.createElement("dummy").style,
				e = "Webkit Moz O ms Khtml".split(" "),
				f = {},
				g = /%$/i,
				h = function() {};
			c.exports = {
				css3prefix: function(a) {
					if ("undefined" == typeof f[a]) {
						var b = a.charAt(0).toUpperCase() + a.substr(1),
							c = (a + " " + e.join(b + " ") + b).split(" ");
						f[a] = null;
						for (var g in c)
							if (void 0 !== d[c[g]]) {
								f[a] = c[g];
								break
							}
					}
					return f[a]
				},
				noop: h,
				bindContext: function(a, b) {
					return function() {
						a.apply(b, arguments)
					}
				},
				clone: function(a) {
					if (Object.create) return Object.create(a);
					var b = function() {};
					return b.prototype = a, b.prototype.constructor = b, new b
				},
				round: function(a, b) {
					var c;
					return null != b || (b = 0), c = Math.pow(10, b), Math.round(a * c) / c
				},
				valueIsFraction: function(a) {
					return "number" == typeof a ? !1 : g.test(a)
				},
				decimalToFraction: function(a) {
					return g.test(a) ? a : 100 * (parseFloat(a) || 0) + "%"
				},
				fractionToDecimal: function(a) {
					return g.test(a) ? (parseFloat(a) || 0) / 100 : a
				}
			}
		}), define("libs/CSSCMDBuilder", ["require", "exports", "module", "libs/mix"], function(a, b, c) {
			var d = a("libs/mix").decimalToFraction,
				e = "all",
				f = function(a, b, c) {
					return "translate3d(" + [a + "px", b + "px", c + "px"].join(",") + ")"
				},
				g = function(a, b, c) {
					return ["rotateX(" + a + "rad)", "rotateY(" + b + "rad)", "rotateZ(" + c + "rad)"].join(" ")
				},
				h = function(a, b) {
					return "scale(" + [a, b].join(",") + ")"
				},
				i = function(a, b) {
					return "skew(" + [a + "rad", b + "rad"].join(",") + ")"
				},
				j = function(a, b, c) {
					return [e, a + "s", b, c + "s"].join(" ")
				},
				k = function(a, b, c) {
					var e = [];
					return void 0 != a && e.push(d(a)), void 0 != b && e.push(d(b)), void 0 != c && e.push(c + "px"), e.join(" ")
				},
				l = function(a, b, c, d) {
					var e = [];
					return a && e.push(a), c && e.push(c), d && e.push(d), b && e.push(b), e.join(" ").trim()
				};
			c.exports = {
				buildTranslateCMD: f,
				buildRotateCMD: g,
				buildScaleCMD: h,
				buildSkewCMD: i,
				buildTransformCMD: l,
				buildTransformOriginCMD: k,
				buildTransitionCMD: j
			}
		}), define("tantaman/web/interactions/TouchBridge", [], function() {
			function a(a) {
				var b = a.originalEvent.changedTouches[0];
				for (var c in b) a[c] = b[c];
				a.which = 1
			}

			function b(b) {
				return function(c) {
					a(c), b(c)
				}
			}

			function c(a, c) {
				c = b(c);
				var d, f;
				return function(a) {
					var b = !1;
					if (d) {
						var g = a.originalEvent.changedTouches[0];
						g.identifier == d.identifier && Date.now() - f < e ? (c(a), d = null) : b = !0
					} else b = !0;
					b && (d = a.originalEvent.changedTouches[0], f = Date.now())
				}
			}
			var d = "ontouchend" in document,
				e = 250,
				f = {
					dblclick: function(a, b) {
						var e;
						return d ? (e = "touchstart", b = c(a, b)) : e = "dblclick", a.on(e, b),
							function() {
								a.off(e, b)
							}
					},
					mousedown: function(a, c) {
						var e;
						return d ? (e = "touchstart", c = b(c)) : e = "mousedown", a.on(e, c),
							function() {
								a.off(e, c)
							}
					},
					mouseup: function(a, c) {
						var e;
						return d ? (e = "touchend", c = b(c)) : e = "mouseup", a.on(e, c),
							function() {
								a.off(e, c)
							}
					},
					mousemove: function(a, c) {
						var e;
						return d ? (e = "touchmove", c = b(c)) : e = "mousemove", a.on(e, c),
							function() {
								a.off(e, c)
							}
					}
				},
				g = {
					mousedown: function(a, b) {
						d ? a.off("touchstart", b) : a.off("mousedown", b)
					},
					mouseup: function(a, b) {
						d ? a.off("touchend", b) : a.off("mouseup", b)
					},
					mousemove: function(a, b) {
						d ? a.off("touchmove", b) : a.off("mousemove", b)
					}
				};
			return {
				on: f,
				off: g
			}
		}), define("tantaman/web/widgets/DeltaDragControl", ["tantaman/web/interactions/TouchBridge"], function(a) {
			var b, c;
			return c = ["mousedown", "mousemove", "mouseup"], b = function() {
				function b(b, c) {
					this.$el = b, this.stopProp = c, this.dragging = !1, this._mousemove = this.mousemove.bind(this), this._mouseup = this.mouseup.bind(this), this._mouseout = this._mouseup, this._toDispose = [], this._toDispose.push(a.on.mousemove($(document), this._mousemove)), this._toDispose.push(a.on.mouseup($(document), this._mouseup)), a.on.mousedown(this.$el, this.mousedown.bind(this)), a.on.mouseup(this.$el, this._mouseup)
				}
				return b.prototype.dispose = function() {
					this._toDispose.forEach(function(a) {
						a()
					})
				}, b.prototype.mousedown = function(a) {
					return a.preventDefault(), this.dragging = !0, this._startPos = {
						x: a.pageX,
						y: a.pageY
					}, this.$el.trigger("deltadragStart", {
						x: a.pageX,
						y: a.pageY
					}), this.stopProp ? a.stopPropagation() : void 0
				}, b.prototype.mousemove = function(a) {
					var b, c;
					return this.dragging && (b = a.pageX - this._startPos.x, c = a.pageY - this._startPos.y, this.$el.trigger("deltadrag", [{
						dx: b,
						dy: c,
						x: a.pageX,
						y: a.pageY
					}]), this.stopProp) ? a.stopPropagation() : void 0
				}, b.prototype.mouseup = function() {
					return this.dragging && (this.dragging = !1, this.$el.trigger("deltadragStop")), !0
				}, b
			}()
		}), define("strut/slide_components/view/ComponentView", ["libs/backbone", "libs/CSSCMDBuilder", "libs/mix", "tantaman/web/widgets/DeltaDragControl", "common/Math2", "css!styles/slide_components/ComponentView.css", "strut/editor/GlobalEvents", "strut/deck/ComponentCommands", "tantaman/web/undo_support/CmdListFactory", "tantaman/web/interactions/TouchBridge"], function(a, b, c, d, e, f, g, h, i, j) {
			{
				var k = i.managedInstance("editor"),
					l = c.css3prefix,
					m = l("transform"),
					n = l("transformOrigin");
				l("boxSizing")
			}
			return a.View.extend({
				transforms: ["skewX", "skewY"],
				className: "component",
				_triggerInner: {
					byInner: !0
				},
				_sizeChangeEnable: !0,
				_visible: !1,
				events: function() {
					return {
						select: "_selected",
						unselect: "_unselected",
						click: "clicked",
						"click .removeBtn": "removeClicked",
						"change input[data-option='x']": "manualMoveX",
						"change input[data-option='y']": "manualMoveY",
						"deltadragStart span[data-delta='skewX']": "skewXStart",
						"deltadrag span[data-delta='skewX']": "skewX",
						"deltadragStop span[data-delta='skewX']": "skewXStop",
						"deltadragStart span[data-delta='skewY']": "skewYStart",
						"deltadrag span[data-delta='skewY']": "skewY",
						"deltadragStop span[data-delta='skewY']": "skewYStop",
						"deltadragStart span[data-delta='rotate']": "rotateStart",
						"deltadrag span[data-delta='rotate']": "rotate",
						"deltadragStop span[data-delta='rotate']": "rotateStop",
						"deltadragStart span[data-delta='scale']": "scaleStart",
						"deltadrag span[data-delta='scale']": "scale",
						"deltadragStop span[data-delta='scale']": "scaleStop",
						destroyed: "remove",
						"click .align": "center"
					}
				},
				initialize: function() {
					this._dragging = !1, this.allowDragging = !0, this.model.on("change:selected", this._selectionChanged, this), this.model.on("change:color", this._colorChanged, this), this.model.on("unrender", this._unrender, this), this._mouseup = this.mouseup.bind(this), this._mousemove = this.mousemove.bind(this), this.mousedown = this.mousedown.bind(this), this._deltaDrags = [], this.model.on("rerender", this._setUpdatedTransform, this), this.model.on("change:x", this._xChanged, this), this.model.on("change:y", this._yChanged, this), this.model.on("change:disabled", this._onDisabledChanged, this), this.model.on("change:visible", this._onVisibleChanged, this), this.model.on("change:sizeX", this._onSizeChanged, this), this.model.on("change:sizeY", this._onSizeChanged, this), this.model.on("change:originX", this._setUpdatedTransform, this), this.model.on("change:originY", this._setUpdatedTransform, this), this.model.on("change:originZ", this._setUpdatedTransform, this), this.model.on("change:positionX", this._xChanged, this), this.model.on("change:positionY", this._yChanged, this), this.model.on("change:positionZ", this._setUpdatedTransform, this), this.model.on("change:rotateX", this._setUpdatedTransform, this), this.model.on("change:rotateY", this._setUpdatedTransform, this), this.model.on("change:rotateZ", this._setUpdatedTransform, this), this.model.on("change:scaleX", this._setUpdatedTransform, this), this.model.on("change:scaleY", this._setUpdatedTransform, this), this.model.on("change:scaleZ", this._setUpdatedTransform, this), this.model.on("change:skewX", this._setUpdatedTransform, this), this.model.on("change:skewY", this._setUpdatedTransform, this), this.model.on("change:bgColor", this._setUpdatedTransform, this), this.model.on("change:opacity", this._setUpdatedTransform, this), this.model.on("change:zOrder", this._setUpdatedTransform, this), this.model.on("change:customClasses", this._updateCustomClasses, this), this.model.on("dragStart", this.dragStart, this), this.model.on("drag", this.drag, this), this.model.on("dragStop", this.dragStop, this), this._lastDeltas = {
						dx: 0,
						dy: 0
					}, this._toDispose = [];
					var a = $(document);
					this._toDispose.push(j.on.mouseup(a, this._mouseup)), this._toDispose.push(j.on.mousemove(a, this._mousemove)), j.on.mousedown(this.$el, this.mousedown), this.$el.css("opacity", 0), this.$preventUIEventDom = $("<div>"), this.$preventUIEventDom.css({
						position: "absolute",
						top: "50%",
						left: "50%",
						"z-index": 999,
						"background-color": "#000",
						opacity: .2,
						display: "none",
						cursor: "default",
						border: "2px solid red"
					})
				},
				_onDisabledChanged: function() {
					if (this.model.get("disabled")) {
						var a = this.$el.width() + 70,
							b = this.$el.height() + 70;
						this.$preventUIEventDom.css({
							width: a,
							height: b,
							"margin-left": -a / 2,
							"margin-top": -b / 2
						}), this.allowDragging = !1, this.$preventUIEventDom.show()
					} else this.allowDragging = !0, this.$preventUIEventDom.hide()
				},
				_onVisibleChanged: function() {
					this.model.get("visible") ? this.$el.show() : (this._unselected(), this.$el.hide())
				},
				_onSizeChanged: function(a, b, c) {
					if (!this._sizeChangeEnable || c && c.byInner) return this._setUpdatedTransform(), !1;
					var d = this.model.get("scale"),
						e = this.origSize.width,
						f = this.origSize.height,
						g = d.width,
						h = d.height,
						i = this.model.get("sizeX") || g,
						j = this.model.get("sizeY") || h,
						k = i / g * d.x,
						l = j / h * d.y,
						m = e * k,
						n = f * l;
					return d = {
						width: m,
						height: n,
						x: k,
						y: l
					}, this.model.set("scale", d, this._triggerInner), this.model.setInt("sizeX", m, this._triggerInner), this.model.setInt("sizeY", n, this._triggerInner), this._setUpdatedTransform(), !0
				},
				_initOriginalSize: function(a, b) {
					this.origSize = {
						width: a,
						height: b
					};
					var c = this.model.get("scale"),
						d = this.model.get("sizeX"),
						e = this.model.get("sizeY");
					d || (c.width = a, this.model.setInt("sizeX", a, this._triggerInner)), e || (c.height = b, this.model.setInt("sizeY", b, this._triggerInner)), this.model.set("scale", c, this._triggerInner)
				},
				_colorChanged: function(a, b) {
					this.$el.css("color", "#" + b)
				},
				_setZIndex: function() {
					var a = zTracker.next();
					this.$el.css("z-index", a)
				},
				clicked: function() {
					return this.$el.trigger("focused"), !1
				},
				removeClicked: function(a) {
					a.stopPropagation(), this.model.slide && this.model.slide.remove([this.model])
				},
				remove: function(b) {
					var c, d, e;
					a.View.prototype.remove.call(this), e = this._deltaDrags;
					for (d in e) c = e[d], c.dispose();
					b && this.model.dispose(), this.model.off(null, null, this), this._toDispose.forEach(function(a) {
						a()
					})
				},
				mousedown: function(a) {
					this.$el.parents(".ui-selectable").selectable("disable"), 1 === a.which && (a.preventDefault(), this._selectComponent(a), this.model.slide ? this.model.slide.selected.forEach(function(b) {
						b.trigger("dragStart", a)
					}) : this.options.deck.selected.forEach(function(b) {
						b.trigger("dragStart", a)
					}))
				},
				_selectComponent: function() {
					(g.pressed.ctrl || g.pressed.meta || g.pressed.shift) && this.model.get("selected") ? this.model.set("selected", !1) : this.model.set("selected", !0)
				},
				_selected: function() {
					this.model.set("selected", !0, {
						multiselect: !0
					})
				},
				_unselected: function() {
					this.model.set("selected", !1)
				},
				_selectionChanged: function(a, b) {
					if (b) {
						if (this.model.get("locked")) return void this.model.set("selected", !1);
						this.$el.addClass("ui-selected")
					} else {
						this.$el.removeClass("ui-selected"); {
							this.model.get("disabled")
						}
						this.model.set("disabled", !1)
					}
				},
				mousemove: function(a) {
					this.model.slide ? this.model.slide.selected.forEach(function(b) {
						b.trigger("drag", a)
					}) : this.options.deck.selected.forEach(function(b) {
						b.trigger("drag", a)
					})
				},
				mouseup: function(a) {
					this.$el.parents(".ui-selectable").selectable("enable");
					var b = this;
					this.model.slide ? k.record(function() {
						b.model.slide.selected.forEach(function(b) {
							b.trigger("dragStop", a)
						})
					}, "Move Components") : k.record(function() {
						b.options.deck.selected.forEach(function(b) {
							b.trigger("dragStop", a)
						})
					}, "Move Slide Transition")
				},
				dragStart: function(a) {
					this.dragScale = this.$el.parent().css(window.browserPrefix + "transform"), this.dragScale = parseFloat(this.dragScale.substring(7, this.dragScale.indexOf(","))) || 1, this._dragging = !0, this.$el.addClass("dragged"), this._prevPos = {
						x: parseFloat(this.model.get("x")),
						y: parseFloat(this.model.get("y"))
					}, this._prevMousePos = {
						x: a.pageX,
						y: a.pageY
					}
				},
				drag: function(a) {
					var b, c, d, e, f, h;
					this._dragging && this.allowDragging && (h = g.pressed.shift, b = a.pageX - this._prevMousePos.x, c = a.pageY - this._prevMousePos.y, e = this._prevPos.x + b / this.dragScale, f = this._prevPos.y + c / this.dragScale, h && (d = 20, e = Math.floor(e / d) * d, f = Math.floor(f / d) * d), this.model.setInt("x", e), this.model.setInt("y", f), this.model.setInt("positionX", e), this.model.setInt("positionY", f), this.dragStartLoc || (this.dragStartLoc = {
						x: e,
						y: f,
						positionX: e,
						positionY: f
					}))
				},
				dragStop: function() {
					this._dragging && (this._dragging = !1, this.$el.removeClass("dragged"), null != this.dragStartLoc && this.dragStartLoc.positionX !== this.model.get("positionX") && this.dragStartLoc.positionY !== this.model.get("positionY") && k.pushdo(new h.Move(this.dragStartLoc, this.model)), this.dragStartLoc = null)
				},
				_xChanged: function(a, b) {
					this.model.attributes.x = b, this._setUpdatedTransform(), this.$xInput.val(b)
				},
				_yChanged: function(a, b) {
					this.model.attributes.y = b, this._setUpdatedTransform(), this.$yInput.val(b)
				},
				manualMoveX: function(a) {
					return this.model.setInt("positionX", a.target.value), this.model.setInt("x", a.target.value)
				},
				manualMoveY: function(a) {
					return this.model.setInt("positionY", a.target.value), this.model.setInt("y", a.target.value)
				},
				center: function(a) {
					var b = a.target.getAttribute("data-option");
					getAxis = function(a, b) {
						return "x" == a ? b.width() : b.height()
					};
					var c = getAxis(b, this.$el.parent(".slideContainer")),
						d = getAxis(b, this.$el),
						e = this.model.get("x"),
						f = this.model.get("y"),
						g = {
							x: e,
							y: f,
							positionX: e,
							positionY: f
						},
						i = "x" == b ? "positionX" : "positionY",
						j = c / 2 - d / 2;
					j += d * this.model.get("x" == b ? "originX" : "originY"), this.model.setInt(b, j), this.model.setInt(i, j);
					var l = new h.Move(g, this.model);
					k.push(l)
				},
				skewXStart: function() {
					return this._initialSkewX = this.model.get("skewX") || 0
				},
				skewX: function(a, b) {
					this.model.setFloat("skewX", this._initialSkewX + Math.atan2(b.dx, 22))
				},
				skewXStop: function() {
					var a = new h.SkewX(this._initialSkewX, this.model);
					k.push(a)
				},
				skewYStart: function() {
					return this._initialSkewY = this.model.get("skewY") || 0
				},
				skewY: function(a, b) {
					this.model.setFloat("skewY", this._initialSkewY + Math.atan2(b.dy, 22))
				},
				skewYStop: function() {
					var a = new h.SkewY(this._initialSkewY, this.model);
					k.push(a)
				},
				rotateStart: function(a, b) {
					this.updateOrigin(), this._rotOffset = this._calcRot(b), this._initialRotate = this.model.get("rotate") || 0
				},
				updateOrigin: function() {
					var a;
					a = this.$el.offset(), this._origin = {
						x: this.$el.width() / 2 + a.left,
						y: this.$el.height() / 2 + a.top
					}
				},
				_calcRot: function(a) {
					return Math.atan2(a.y - this._origin.y, a.x - this._origin.x)
				},
				rotate: function(a, b) {
					var c, d;
					d = this._calcRot(b), c = this._initialRotate + d - this._rotOffset, g.pressed.shift && (c = Math.floor(c / Math.PI * 8) / 8 * Math.PI), c %= 2 * Math.PI, this.model.setFloat("rotate", c), this.model.setFloat("rotateZ", c)
				},
				rotateStop: function() {
					var a = new h.Rotate(this._initialRotate, this.model);
					k.push(a)
				},
				scaleStart: function() {
					var a;
					this.dragScale = this.$el.parent().css(window.browserPrefix + "transform"), this.dragScale = parseFloat(this.dragScale.substring(7, this.dragScale.indexOf(","))) || 1, this._initialScale = this.model.get("scale"), a = this.model.get("rotate") || 0, this.origSize || (this.origSize = {
						width: this.$el.width(),
						height: this.$el.height()
					}), this._scaleDim = {
						width: this._initialScale.x * this.origSize.width,
						height: this._initialScale.y * this.origSize.height,
						theta: a
					}
				},
				scale: function(a, b) {
					var c, d;
					c = g.pressed.shift;
					var e = 1,
						f = 1,
						h = (e * b.dx + this._scaleDim.width) / this._scaleDim.width,
						i = (f * b.dy + this._scaleDim.height) / this._scaleDim.height;
					d = {
						x: this._initialScale.x * h,
						y: this._initialScale.y * (c ? i : h)
					}, d.width = d.x * this.origSize.width, d.height = d.y * this.origSize.height, this.model.set("scale", d), this.model.setInt("sizeX", d.width), this.model.setInt("sizeY", d.height)
				},
				scaleStop: function() {
					var a = this.model,
						b = this._initialScale;
					k.record(function() {
						var c = new h.SizeX(b.width, a),
							d = new h.SizeY(b.height, a);
						k.push(c), k.push(d)
					}, "component size")
				},
				render: function() {
					var a, b = this;
					return this.$el.html(this.__getTemplate()(this.model.attributes)), this.$el.append(this.$preventUIEventDom), this.$el.find("span[data-delta]").each(function(a, c) {
						var e;
						return e = new d($(c), !0), b._deltaDrags.push(e)
					}), this.$content = this.$el.find(".content"), this.$content.addClass(this.model.customClasses()), this.$contentScale = this.$el.find(".content-scale"), this._selectionChanged(this.model, this.model.get("selected")), this.$xInput = this.$el.find("[data-option='x']"), this.$yInput = this.$el.find("[data-option='y']"), this.$el.css({
						top: 0,
						left: 0
					}), a = {
						width: this.$el.width(),
						height: this.$el.height()
					}, a.width > 0 && a.height > 0 && (this.origSize = a), this.model.get("sizeX") && this._setUpdatedTransform(), this._onVisibleChanged(), this.$el
				},
				_setUpdatedTransform: function(a, c, d) {
					if (!d || !d.byInner) {
						var a = this.model,
							e = a.get("sizeX"),
							f = a.get("sizeY");
						this._sizeChangeEnable && (e && this.$content.width(e), f && this.$content.height(f));
						var g = a.get("opacity");
						"undefined" == typeof g ? "" : this.$content.css("opacity", g / 100), this.$content.css("background", a.get("bgColor"));
						var h = "",
							i = "",
							j = "",
							k = "",
							l = "",
							o = a.get("originX"),
							p = a.get("originY"),
							q = a.get("originZ"),
							r = b.buildTransformOriginCMD(o, p, q),
							s = a.get("positionX"),
							t = a.get("positionY"),
							u = a.get("positionZ") || 0;
						s -= e * o, t -= f * p, h = b.buildTranslateCMD(s, t, u);
						var v = a.get("rotateX") || 0,
							w = a.get("rotateY") || 0,
							x = a.get("rotateZ") || 0;
						i = b.buildRotateCMD(v, w, x);
						var y = a.get("scaleX") || 1,
							z = a.get("scaleY") || 1,
							A = a.get("scaleZ") || 1;
						j = b.buildScaleCMD(y, z, A);
						var B = a.get("skewX") || 0,
							C = a.get("skewY") || 0;
						k = b.buildSkewCMD(B, C), j && this.$contentScale.css(m, j), k && this.$content.css(m, k), l = b.buildTransformCMD(h, i, "", ""), l && this.$el.css(m, l), r && this.$el.css(n, r), this.$el.css("zIndex", a.get("zOrder")), this._visible || (this.$el.css("opacity", 1), this._visible = !0)
					}
				},
				_updateCustomClasses: function(a, b) {
					this.$content.attr("class", "content " + b)
				},
				__getTemplate: function() {
					return JST["strut.slide_components/Component"]
				},
				_unrender: function() {
					return this.remove(!1)
				},
				constructor: function() {
					a.View.prototype.constructor.apply(this, arguments)
				}
			})
		}), define("strut/slide_components/view/ThreeDRotatableComponentView", ["./ComponentView", "common/Math2"], function(a, b) {
			var c = 2 * Math.PI;
			return a.extend({
				transforms: ["rotateX", "rotateY", "rotateZ", "scale"],
				events: function() {
					var b;
					return b = a.prototype.events(), _.extend(b, {
						"mousedown .form-inline": "stopProp",
						"deltadragStart span[data-delta='rotateX']": "rotateXStart",
						"deltadrag span[data-delta='rotateX']": "rotateX",
						"deltadragStart span[data-delta='rotateZ']": "rotateZStart",
						"deltadrag span[data-delta='rotateY']": "rotateY",
						"deltadragStart span[data-delta='rotateY']": "rotateYStart",
						"deltadrag span[data-delta='rotateZ']": "rotateZ",
						"change input[data-option='z']": "manualMoveZ",
						"change input[data-option='scale']": "manualMoveScale",
						"change input[data-option='rotateX']": "manualRotX",
						"change input[data-option='rotateY']": "manualRotY",
						"change input[data-option='rotateZ']": "manualRotZ"
					})
				},
				initialize: function() {
					return a.prototype.initialize.apply(this, arguments), this.model.on("change:rotateX", this._rotXChanged, this), this.model.on("change:rotateY", this._rotYChanged, this), this.model.on("change:rotateZ", this._rotZChanged, this)
				},
				stopProp: function(a) {
					a.stopPropagation()
				},
				dispose: function() {
					this.model.off(null, null, this)
				},
				manualMoveScale: function(a) {
					return this.model.setFloat("impScale", a.target.value)
				},
				manualMoveZ: function(a) {
					return this.model.setInt("z", a.target.value)
				},
				manualRotX: function(a) {
					return this.model.setFloat("rotateX", b.toRads(a.target.value))
				},
				manualRotY: function(a) {
					return this.model.setFloat("rotateY", b.toRads(a.target.value))
				},
				manualRotZ: function(a) {
					return this.model.setFloat("rotateZ", b.toRads(a.target.value))
				},
				rotateXStart: function(a, b) {
					return this.updateOrigin(), this._rotXOffset = this._calcRot(b), this._initialRotX = this.model.get("rotateX") || 0
				},
				rotateX: function(a, b) {
					var d;
					return d = .02 * b.dy % c, this.model.setFloat("rotateX", this._initialRotX + d)
				},
				_rotXChanged: function(a, c) {
					return this.$rotXInput.val(b.round(b.toDeg(c), 2)), this._setUpdatedTransform()
				},
				rotateYStart: function(a, b) {
					return this.updateOrigin(), this._rotYOffset = this._calcRot(b), this._initialRotY = this.model.get("rotateY") || 0
				},
				rotateY: function(a, b) {
					var d;
					return d = .02 * b.dx % c, this.model.setFloat("rotateY", this._initialRotY + d)
				},
				_rotYChanged: function(a, c) {
					return this.$rotYInput.val(b.round(b.toDeg(c), 2)), this._setUpdatedTransform()
				},
				rotateZStart: function(a, b) {
					return this.updateOrigin(), this._rotZOffset = this._calcRot(b), this._initialRotZ = this.model.get("rotateZ") || 0
				},
				rotateZ: function(a, b) {
					var c;
					return c = this._calcRot(b), this.model.setFloat("rotateZ", this._initialRotZ + c - this._rotZOffset)
				},
				_rotZChanged: function(a, c) {
					return this.$rotZInput.val(b.round(b.toDeg(c), 2)), this._setUpdatedTransform()
				},
				render: function() {
					return a.prototype.render.apply(this, arguments), this.$rotXInput = this.$el.find("[data-option='rotateX']"), this.$rotYInput = this.$el.find("[data-option='rotateY']"), this.$rotZInput = this.$el.find("[data-option='rotateZ']"), this
				},
				__getTemplate: function() {
					return null
				},
				constructor: function() {
					a.prototype.constructor.apply(this, arguments)
				}
			})
		}), define("strut/slide_snapshot/TransitionSlideSnapshot", ["strut/slide_components/view/ThreeDRotatableComponentView", "./SlideDrawer", "css!styles/transition_editor/TransitionSlideSnapshot.css", "strut/deck/Utils"], function(a, b) {
			var c = window.config.slide.overviewSize;
			return a.extend({
				className: "component transitionSlideSnapshot",
				events: function() {
					var b;
					return b = a.prototype.events(), _.extend(b, {
						mousedown: "mousedown"
					})
				},
				initialize: function() {
					a.prototype.initialize.apply(this, arguments), this.model.on("change:impScale", this._impScaleChanged, this), this.model.on("change:background", this._backgroundChanged, this), this.model.on("change:surface", this._backgroundChanged, this), this.options.deck.on("change:background", this._backgroundChanged, this), this.options.deck.on("change:surface", this._backgroundChanged, this)
				},
				remove: function() {
					this.dispose(), a.prototype.remove.call(this, !1), this.model.set("selected", !1)
				},
				dispose: function() {
					null != this.slideDrawer && this.slideDrawer.dispose(), a.prototype.dispose.call(this), this.model.off(null, null, this), this.options.deck.off(null, null, this)
				},
				mousedown: function(b) {
					var c = b.ctrlKey || b.metaKey || b.shiftKey;
					c || this.model.get("selected") || this.model.set("active", !0), a.prototype.mousedown.apply(this, arguments)
				},
				_impScaleChanged: function() {
					var a = 0 | this.model.get("impScale"),
						b = this.$el.find(".content"),
						d = c.width * a,
						e = c.height * a,
						f = {
							width: d,
							height: e
						};
					b.css(f), this.slideDrawer.setSize(f)
				},
				_backgroundChanged: function() {
					this._$content.removeClass(), this._$content.addClass("content"), this.slideDrawer.applyBackground(this.model, this.options.deck, {
						transparentForDeckSurface: !0,
						surfaceForDefault: !0
					})
				},
				render: function() {
					a.prototype.render.apply(this, arguments), null != this.slideDrawer && this.slideDrawer.dispose(), this.$el.css({
						left: this.model.get("x"),
						top: this.model.get("y")
					}), this._$content = this.$el.find(".content");
					var c = this.$el.find(".slideDrawer");
					return this.slideDrawer = new b(this.model, c), this.slideDrawer.applyBackground(this.model, this.options.deck, {
						transparentForDeckSurface: !0,
						surfaceForDefault: !0
					}), this._impScaleChanged(), this.slideDrawer.render(), this
				},
				__getTemplate: function() {
					return JST["strut.slide_snapshot/TransitionSlideSnapshot"]
				},
				constructor: function() {
					a.prototype.constructor.apply(this, arguments)
				}
			})
		}), define("strut/transition_editor/view/FreeFormTransitionEditorView", ["libs/backbone", "strut/slide_snapshot/TransitionSlideSnapshot", "strut/deck/Utils"], function(a, b, c) {
			"use strict";
			return a.View.extend({
				className: "slideTable strut-surface",
				events: {
					click: "_clicked"
				},
				initialize: function() {
					this._snapshots = [], this.model.deck().on("change:surface", this._surfaceChanged, this)
				},
				_surfaceChanged: function(a, b) {
					c.isImg(b) ? this.$el.css("background-image", c.getImgUrl(b)) : (this.$el.css("background-image", ""), this.$el.removeClass(), this.$el.addClass("slideTable strut-surface ui-selectable " + b))
				},
				_clicked: function() {
					this.model.deck().unselectSlides(null, !0)
				},
				remove: function() {
					this.dispose()
				},
				dispose: function() {
					a.View.prototype.remove.call(this), this.model.deck().off(null, null, this)
				},
				render: function() {
					this.$el.selectable({
						filter: ".component",
						selected: function(a, b) {
							$(b.selected).trigger("select", b)
						},
						unselected: function(a, b) {
							$(b.unselected).trigger("unselect", b)
						}
					}), this.$el.html("");
					var a = this.model.deck();
					this._surfaceChanged(a, a.get("surface"));
					var c = 6,
						d = 0;
					return a.get("slides").forEach(function(e) {
						var f = e.get("x");
						null == f && (e.set("x", 280 * d + 180), e.set("y", 280 * (d / c | 0) + 180)), ++d;
						var g = new b({
							model: e,
							registry: this.model.registry,
							deck: a
						});
						this._snapshots.push(g), this.$el.append(g.render().$el)
					}, this), this
				},
				constructor: function() {
					a.View.prototype.constructor.apply(this, arguments)
				}
			})
		}), define("strut/transition_editor/view/CannedTransitionsView", ["libs/backbone"], function(a) {
			function b() {
				return "styles/img/" + this.name + ".png"
			}
			var c = [{
				name: "carousel",
				img: b,
				style: "height: 126px;"
			}, {
				name: "classic",
				img: b
			}, {
				name: "concave",
				img: b,
				style: "height: 126px;"
			}, {
				name: "coverflow",
				img: b
			}, {
				name: "cube",
				img: b
			}, {
				name: "cubeb",
				img: b
			}, {
				name: "cards",
				img: b
			}, {
				name: "none",
				img: "styles/strut.themes/img/nobg.png"
			}];
			return a.View.extend({
				events: {
					"click .thumbnail": "_transitionSelected"
				},
				className: "cannedTransitionsView",
				initialize: function() {
					var a = this.model.cannedTransition() || "none";
					c.some(function(b) {
						b.active = b.name == a ? !0 : !1
					})
				},
				_transitionSelected: function(a) {
					this.$el.find(".active").removeClass("active");
					var b = a.currentTarget.dataset.name;
					this.model.cannedTransition(b), $(a.currentTarget).addClass("active")
				},
				render: function() {
					return this.$el.html(JST["strut.transition_editor/CannedTransitions"](c)), this
				},
				dispose: function() {},
				constructor: function() {
					a.View.prototype.constructor.apply(this, arguments)
				}
			})
		}), define("strut/transition_editor/main", ["tantaman/web/widgets/ModeButton", "./model/OverviewModel", "./view/Overview", "./view/FreeFormTransitionEditorView", "./view/CannedTransitionsView"], function(a, b, c, d, e) {
			var f = {
				getMode: function(a, d) {
					var e = new b(a, d);
					return {
						view: new c({
							model: e
						}),
						model: e,
						id: "overview",
						close: function() {
							this.view.remove()
						}
					}
				},
				createButton: function(b) {
					return new a(b, "overview", JST["strut.transition_editor/Button"])
				}
			};
			return {
				initialize: function(a) {
					a.register({
						interfaces: "strut.EditMode",
						meta: {
							id: "overview"
						}
					}, f), a.register({
						interfaces: "strut.TransitionEditor",
						meta: {
							capabilities: {
								freeformStepping: !0
							}
						}
					}, d), a.register({
						interfaces: "strut.TransitionEditor",
						meta: {
							capabilities: {
								cannedTransitions: !0
							}
						}
					}, e)
				}
			}
		}), define("strut/slide_components/view/ComponentButton", ["libs/backbone"], function(a) {
			"use strict";
			return a.View.extend({
				className: "btn btn-plast",
				tagName: "a",
				events: {
					click: "_clicked"
				},
				initialize: function() {
					this.$el.attr("data-compType", this.options.componentType)
				},
				_clicked: function() {
					this.options.editorModel.addComponent(this.options.componentType)
				},
				render: function() {
					return this.$el.html('<i class="' + this.options.icon + ' icon-white"></i>' + this.options.name), this
				},
				constructor: function() {
					a.View.prototype.constructor.apply(this, arguments)
				}
			})
		}), define("strut/slide_components/view/ImportingComponentButton", ["./ComponentButton", "tantaman/web/widgets/ItemImportModal"], function(a, b) {
			"use strict";
			return a.extend({
				initialize: function() {
					a.prototype.initialize.apply(this, arguments), this._modal = b.get(this.options), this._itemImported = this._itemImported.bind(this)
				},
				_clicked: function() {
					this._modal.show(this._itemImported)
				},
				_itemImported: function(a) {
					this.options.editorModel.addComponent({
						src: a,
						type: this.options.componentType
					})
				},
				constructor: function() {
					a.prototype.constructor.apply(this, arguments)
				}
			})
		}), define("strut/slide_components/model/Image", ["strut/deck/Component", "common/FileUtils"], function(a) {
			"use strict";
			var b = !1;
			return a.extend({
				_nodeClass: "erquan_image",
				_meta: {
					index: 0
				},
				initialize: function() {
					if (a.prototype.initialize.apply(this, arguments), this.registry = window.serviceRegistry, this.set("type", "Image"), this.get("scaleRule") || this.set("scaleRule", 1), !b) {
						var c = this.get("src"),
							d = this;
						"object" == typeof c ? (this.storageInterface = this.registry.getBest("strut.StorageInterface"), this.storageInterface.getAttachmentURL(c.docKey, c.attachKey).then(function(a) {
							d.uri = a, d.trigger("change:uri", d, a), d.trigger("change", d)
						}, function(a) {
							console.error(a)
						}).done()) : this.uri = c
					}
				},
				clone: function() {
					b = !0;
					var c = a.prototype.clone.call(this);

					return c.uri = this.uri, b = !1, c
				},
				dispose: function() {
					a.prototype.dispose.apply(this, arguments);
					var b = this.get("src");
					"object" == typeof b && (console.log("Revoking image uri"), this.storageInterface.revokeAttachmentURL(b.docKey, b.attachKey))
				},
				getURL: function() {
					return this.uri
				},
				constructor: function(b) {
					a.prototype.constructor.call(this, b)
				}
			})
		}), define("strut/slide_components/model/TextBox", ["strut/deck/Component"], function(a) {
			"use strict";

			function b(a) {
				if (a) {
					var b = "<font";
					for (var c in a) "size" != c && (b += " ", b += c + '="' + a[c] + '"');
					return b + ">Text</font>"
				}
				return "Text"
			}
			return a.extend({
				_nodeClass: "erquan_text",
				_meta: {
					index: 0
				},
				initialize: function() {
					if (a.prototype.initialize.apply(this, arguments), this.set("type", "TextBox"), !this.get("text")) {
						var c = b(this._opts && this._opts.fontStyles);
						this._opts && this._opts.fontStyles.size && this.set("size", this._opts.fontStyles.size), delete this._opts, this.set("text", c), this.get("size") || this.set("size", 72), this.get("lineHeight") || this.set("lineHeight", "normal")
					}
					this.get("scaleRule") || this.set("scaleRule", 1)
				},
				constructor: function(b, c) {
					this._opts = c, a.prototype.constructor.call(this, b)
				}
			})
		}), define("strut/slide_components/model/WebFrame", ["strut/deck/Component", "common/FileUtils"], function(a) {
			"use strict";
			return a.extend({
				_nodeClass: "erquan_webframe",
				_meta: {
					index: 0
				},
				initialize: function() {
					a.prototype.initialize.apply(this, arguments), this.set("type", "WebFrame")
				},
				constructor: function(b) {
					a.prototype.constructor.call(this, b)
				}
			})
		}), define("strut/slide_components/model/Video", ["lodash", "strut/deck/Component", "common/FileUtils"], function(a, b, c) {
			"use strict";
			var d = !1;
			return b.extend({
				_nodeClass: "erquan_video",
				_meta: {
					index: 0
				},
				_defaults: {
					playStatus: 3,
					type: "Video"
				},
				initialize: function() {
					if (b.prototype.initialize.apply(this, arguments), this.registry = window.serviceRegistry, !d) {
						var a = this.get("src"),
							c = this;
						return "object" == typeof a ? (this.storageInterface = this.registry.getBest("strut.StorageInterface"), this.storageInterface.getAttachmentURL(a.docKey, a.attachKey).then(function(a) {
							c.uri = a, c.trigger("change:uri", c, a), c.trigger("change", c), c._setSrcType()
						}, function(a) {
							console.error(a)
						}).done()) : (this.uri = a, this._setSrcType()), this
					}
				},
				_setSrcType: function() {
					this.set("srcType", c.type(c.extension(this.uri)))
				},
				clone: function() {
					d = !0;
					var a = b.prototype.clone.call(this);
					return a.uri = this.uri, d = !1, a
				},
				dispose: function() {
					b.prototype.dispose.apply(this, arguments);
					var a = this.get("src");
					"object" == typeof a && this.storageInterface.revokeAttachmentURL(a.docKey, a.attachKey)
				},
				getURL: function() {
					return this.uri
				},
				constructor: function(a) {
					b.prototype.constructor.call(this, a)
				}
			})
		}), define("strut/slide_components/model/Audio", ["./Video"], function(a) {
			"use strict";
			return a.extend({
				_nodeClass: "erquan_audio",
				_meta: {
					index: 0
				},
				_defaults: {
					type: "Audio"
				}
			})
		}), define("strut/slide_components/view/Mixers", [], function() {
			var a;
			return a = {
				scaleByResize: function(a, b) {
					var c, d, e;
					return d = this.$el.offset(), e = (b.x - d.left) / this.dragScale, c = (b.y - d.top) / this.dragScale, this.model.set("scale", {
						width: e,
						height: c
					})
				},
				scaleChangeByResize: function(a, b) {
					if (this.origSize) {
						var c = b.width / this.origSize.width;
						b.height = this.origSize.height * c
					}
					this.$el.css(b)
				},
				scaleObjectEmbed: function(a, b) {
					var c, d, e, f;
					return d = this.$el.offset(), f = (b.x - d.left) / this.dragScale, c = (b.y - d.top) / this.dragScale, e = {
						width: f,
						height: c
					}, this.model.set("scale", e)
				},
				scaleChangeObjectEmbed: function(a, b) {
					this.$object.attr(b), this.$embed.attr(b), this.$el.css(b)
				},
				scaleChangeInlineSvg: function(a, b) {
					this.$object.attr(b), this.$el.css(b)
				}
			}
		}), define("strut/slide_components/view/ImageView", ["./ComponentView", "./Mixers"], function(a) {
			return a.extend({
				className: "component imageView",
				tagName: "div",
				_image: null,
				initialize: function() {
					a.prototype.initialize.apply(this, arguments), this.model.on("change:uri", this._urlChanged, this), this.model.on("change:scaleRule", this._onScaleRuleChanged, this)
				},
				_urlChanged: function(a, b) {
					this.$img.attr("src", b)
				},
				_onSizeChanged: function() {
					a.prototype._onSizeChanged.apply(this, arguments) && this._resetImg()
				},
				_onScaleRuleChanged: function() {
					this._resetImg()
				},
				_finishRender: function(a) {
					var b, c;
					c = a[0].naturalWidth, b = a[0].naturalHeight, this._image = a, a.css({
						position: "absolute",
						top: "50%",
						left: "50%"
					}), this._initOriginalSize(c, b), a.bind("dragstart", function(a) {
						return a.preventDefault(), !1
					}), this.$content.append(a), this._resetImg(), this._setUpdatedTransform()
				},
				_resetImg: function() {
					var a = this.model.get("scaleRule") || 1,
						b = this.origSize.width,
						c = this.origSize.height,
						d = this.model.get("sizeX") || b,
						e = this.model.get("sizeY") || c,
						f = d / b,
						g = e / c;
					switch (Number(a)) {
						case 1:
							f = g = Math.min(f, g);
							break;
						case 2:
							f = g = Math.max(f, g);
							break;
						case 3:
					}
					var h = b * f,
						i = c * g,
						j = -h / 2,
						k = -i / 2,
						l = {
							silent: !0
						};
					this.model.set("imageWidth", h, l), this.model.set("imageHeight", i, l), this.model.set("marginLeft", j, l), this.model.set("marginTop", k, l), this._image.css({
						marginLeft: j,
						marginTop: k,
						width: h,
						height: i
					})
				},
				render: function() {
					var b, c = this;
					a.prototype.render.call(this), this.$content.css({
						overflow: "hidden",
						position: "relative"
					});
					var d = this.model.getURL();
					return b = $(d ? "<img src=" + d + "></img>" : "<img></img>"), b.load(function() {
						return c._finishRender($(this))
					}), b.error(function() {
						return c.remove()
					}), this.$img = b, this.$el
				}
			})
		}), define("strut/slide_components/view/TextBoxView", ["./ComponentView", "libs/etch", "strut/deck/ComponentCommands", "tantaman/web/undo_support/CmdListFactory", "tantaman/web/interactions/TouchBridge"], function(a, b, c, d, e) {
			"use strict";
			var f, g = d.managedInstance("editor");
			return f = ["family", "size", "lineHeight", "weight", "style", "color", "decoration", "align"], a.extend({
				className: "component textBox",
				tagName: "div",
				_sizeChangeEnable: !1,
				_sizeRendered: !1,
				events: function() {
					var b, c;
					return c = a.prototype.events(), b = {
						editComplete: "editCompleted",
						mouseup: "mouseup"
					}, _.extend(c, b)
				},
				initialize: function() {
					var b, c, d;
					for (a.prototype.initialize.apply(this, arguments), c = 0, d = f.length; d > c; c++) b = f[c], this.model.on("change:" + b, this._styleChanged, this);
					this.model.on("change:text", this._textChanged, this), this._lastDx = 0, this.keydown = this.keydown.bind(this), this.dblclicked = this.dblclicked.bind(this), e.on.dblclick(this.$el, this.dblclicked), this.$el.on("keydown", this.keydown), this.model.on("edit", this.edit, this), this.model.on("change:state", this._stateChanged, this)
				},
				_stateChanged: function() {
					var a = this.$textEl.html();
					this.model.set("text", a)
				},
				drag: function() {
					a.prototype.drag.apply(this, arguments), this._updateSize()
				},
				scaleStart: function() {
					this._initialSize = this.model.get("size")
				},
				scale: function(a, b) {
					var c, d;
					c = this.model.get("size"), d = b.dx - this._lastDx > 0 ? 1 : -1;
					var e = c + Math.round(d * Math.sqrt(Math.abs(b.dx - this._lastDx))),
						f = e / c,
						g = this.model.get("sizeX"),
						h = this.model.get("sizeY");
					return this.model.set("sizeX", g * f), this.model.set("sizeY", h * f), this.model.set("size", e), this._lastDx = b.dx
				},
				scaleStop: function() {
					var a = c.TextScale(this._initialSize, this.model);
					g.push(a)
				},
				remove: function() {
					a.prototype.remove.apply(this, arguments)
				},
				dblclicked: function(a) {
					if (this.$el.addClass("editable"), this.$textEl.attr("contenteditable", !0), null != a && (this._initialText = this.$textEl.html(), b.editableInit.call(this, a, this.model.get("y") * this.dragScale + 35), !this.editing)) {
						this.$textEl.get(0).focus();
						try {
							document.execCommand("selectAll", !1, null), b.triggerCaret()
						} catch (a) {}
					}
					this.allowDragging = !1, this.editing = !0
				},
				mousedown: function(c) {
					return this.editing ? (c.stopPropagation(), b.editableInit.call(this, c, this.model.get("y") * this.dragScale + 35)) : a.prototype.mousedown.apply(this, arguments), !0
				},
				mouseup: function() {
					this.editing && b.triggerCaret(), a.prototype.mouseup.apply(this, arguments)
				},
				keydown: function(a) {
					this.model.get("selected") && !this.editing && (a.ctrlKey || a.altKey || a.metaKey || !String.fromCharCode(a.which).match(/[\w]/) || this.edit()), this.editing && this._updateSize()
				},
				edit: function() {
					var a;
					this.model.set("selected", !0), a = $.Event("click", {
						pageX: this.model.get("x")
					}), this.dblclicked(a), this.$textEl.selectText()
				},
				editCompleted: function() {
					var a;
					if (a = this.$textEl.html(), this.editing = !1, "" === a) return this.remove();
					var b = c.Text(this._initialText, this.model);
					g.push(b), window.getSelection().removeAllRanges(), this.$textEl.attr("contenteditable", !1), this.$el.removeClass("editable"), this.allowDragging = !0, this._updateSize()
				},
				_selectionChanged: function(b, c) {
					a.prototype._selectionChanged.apply(this, arguments), !c && this.editing && this.editCompleted()
				},
				_updateSize: function(a) {
					var b = this;
					setTimeout(function() {
						b.model.setInt("sizeX", b.$content.width(), {
							silent: !!a
						}), b.model.setInt("sizeY", b.$content.height(), {
							silent: !!a
						})
					}, 20)
				},
				_styleChanged: function(a, b, c) {
					var d, e, f;
					if (f = c.changes) {
						for (var g = 0; g < f.length; ++g) d = f[g], e = a.get(d), e && ("lineHeight" === d || ("decoration" === d || "align" === d ? d = "text" + d.substring(0, 1).toUpperCase() + d.substr(1) : "color" !== d && (d = "font" + d.substr(0, 1).toUpperCase() + d.substr(1))), this.$el.css(d, b));
						this._updateSize(!0)
					}
				},
				_textChanged: function(a, b) {
					this.$textEl.html(b)
				},
				_handlePaste: function(a, b) {
					b = b.originalEvent, document.execCommand("insertText", !1, b.clipboardData.getData("text/plain")), b.preventDefault()
				},
				render: function() {
					a.prototype.render.call(this), this.$textEl = this.$el.find(".content");
					var b = this;
					return this.$textEl.bind("paste", function(a) {
						b._handlePaste(this, a)
					}), this.$textEl.html(this.model.get("text")), this.$el.css({
						fontSize: this.model.get("size"),
						lineHeight: this.model.get("lineHeight")
					}), this.$el
				},
				constructor: function() {
					a.prototype.constructor.apply(this, arguments)
				}
			})
		}), define("strut/slide_components/view/WebFrameView", ["./ComponentView"], function(a) {
			return a.extend({
				className: "component webFrameView",
				initialize: function() {
					a.prototype.initialize.apply(this, arguments), this.model.on("change:scale", this._onScale, this), this.model.on("change:src", this._onSrcChanged, this)
				},
				_onSrcChanged: function() {
					this._iframe.attr("src", this.model.get("src"))
				},
				_onSizeChanged: function() {
					a.prototype._onSizeChanged.apply(this, arguments), this._iframe.css({
						width: this.model.get("sizeX"),
						height: this.model.get("sizeY")
					})
				},
				render: function() {
					var b;
					return a.prototype.render.call(this), this._iframe = b = $("<iframe frameBorder='no' scrolling='yes' src='" + this.model.get("src") + "' ></iframe>"), this.$el.find(".content").append(b), this.$el.append('<div class="overlay"></div>'), b.css({
						width: "100%",
						height: "100%"
					}), this.model.get("sizeX") || this._initOriginalSize(480, 320), this.$el
				}
			})
		}), define("strut/slide_components/view/VideoView", ["./ComponentView", "./Mixers"], function(a) {
			return a.extend({
				className: "component videoView",
				initialize: function() {
					a.prototype.initialize.apply(this, arguments), this.model.on("change:uri", this._urlChanged, this), this.model.on("change:scale", this._onScale, this)
				},
				_onSizeChanged: function() {
					a.prototype._onSizeChanged.apply(this, arguments)
				},
				_urlChanged: function(a, b) {
					this._video.attr("src", b)
				},
				render: function() {
					var b;
					return a.prototype.render.call(this), this._video = b = $("Audio" == this.model.get("type") ? "<audio controls preload='preload'></audio>" : "<video controls preload='preload'></video>"), b.append("<source src='" + this.model.getURL() + "' type='" + this.model.get("srcType") + "' />"), b.css({
						width: "100%",
						height: "100%"
					}), this.$el.find(".content").append(b), this.$el.append('<div class="overlay"></div>'), this._initOriginalSize(200, 100), this.$el
				}
			})
		}), define("strut/slide_components/view/AudioView", ["./VideoView"], function(a) {
			return a.extend({
				className: "component audioView"
			})
		}), define("tantaman/web/widgets/Utils", [], function() {
			return {
				fitSizeToScale: function(a, b) {
					for (var c = a.length, d = 0; c > d; ++d) {
						var e = $(a[d]),
							f = e.outerWidth(),
							g = e.outerHeight(),
							h = e.parent();
						h.width(f * b), h.height(g * b)
					}
				}
			}
		}), define("strut/slide_components/view/ShapesDropdown", ["tantaman/web/widgets/Dropdown", "tantaman/web/widgets/Utils"], function(a) {
			function b(b, c, d) {
				a.apply(this, arguments), this._editorModel = d.editorModel, this._shapes = b.shapes, this.$el.on("click", ".shape", this._selected.bind(this))
			}
			return d(b, a), b.prototype._selected = function(a) {
				this._editorModel.addComponent({
					markup: this._shapes[a.currentTarget.dataset.index].markup,
					type: "Shape"
				})
			}, b
		}), define("strut/slide_components/ShapeCollection", [], function() {
			function a(b, c, d, e) {
				return this instanceof a ? (this.name = b, this.src = "styles/img/" + c, this.markup = d, void(this.aspect = e)) : new a(b, c, d, e)
			}

			function b() {
				this.title = "shapes", this.shapes = [a("square", "square.svg", '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 50 50" preserveAspectRatio="none"><rect width="50" height="50"/></svg>', 1), a("triangle", "triangle.svg", '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 50 50" preserveAspectRatio="none"><polygon points="25,0 50,50 0,50"/></svg>', 1), a("circle", "circle.svg", '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" preserveAspectRatio="none" viewBox="0 0 80 80"><circle cx="40" cy="40" r="40" /></svg>', 1), a("hexagon", "hexagon.svg", '<svg version="1.1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 726 726" preserveAspectRatio="none"><polygon points="723,314 543,625.769145 183,625.769145 3,314 183,2.230855 543,2.230855 723,314"/></svg>', 1), a("pentagon", "pentagon.svg", '<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg" version="1.1" preserveAspectRatio="none"><polygon points="156.427384220077,186.832815729997 43.5726157799226,186.832815729997 8.69857443566525,79.5015528100076 100,13.1671842700025 191.301425564335,79.5015528100076" /></svg>', 1), a("star", "star.svg", '<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 180 180" preserveAspectRatio="none"><polygon points="90,0 30,170 180,50 0,50 150,170"/></svg>', 1), a("pacman", "pacman.svg", '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 571.11 571.11" preserveAspectRatio="none"><path d="M535.441,412.339A280.868,280.868 0 1,1 536.186,161.733L284.493,286.29Z"/></svg>', 1), a("heart", "heart.svg", '<svg xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" version="1.0" viewBox="0 0 645 585" preserveAspectRatio="none"><defs id="defs4" /><g id="layer1"><path d="M 297.29747,550.86823 C 283.52243,535.43191 249.1268,505.33855 220.86277,483.99412 C 137.11867,420.75228 125.72108,411.5999 91.719238,380.29088 C 29.03471,322.57071 2.413622,264.58086 2.5048478,185.95124 C 2.5493594,147.56739 5.1656152,132.77929 15.914734,110.15398 C 34.151433,71.768267 61.014996,43.244667 95.360052,25.799457 C 119.68545,13.443675 131.6827,7.9542046 172.30448,7.7296236 C 214.79777,7.4947896 223.74311,12.449347 248.73919,26.181459 C 279.1637,42.895777 310.47909,78.617167 316.95242,103.99205 L 320.95052,119.66445 L 330.81015,98.079942 C 386.52632,-23.892986 564.40851,-22.06811 626.31244,101.11153 C 645.95011,140.18758 648.10608,223.6247 630.69256,270.6244 C 607.97729,331.93377 565.31255,378.67493 466.68622,450.30098 C 402.0054,497.27462 328.80148,568.34684 323.70555,578.32901 C 317.79007,589.91654 323.42339,580.14491 297.29747,550.86823 z" id="path2417"/><g transform="translate(129.28571,-64.285714)" id="g2221"/></g></svg>', 1), a("infinity", "infinity.svg", '<svg viewBox="0 0 640 480" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="none"><g><path stroke-width="1px" d="m349.597595,238.17981c15.849091,14.657486 34.60968,25.733734 56.281982,33.228851c21.671265,7.495331 46.092407,11.24292 73.263641,11.242828c32.668762,0.000092 59.354279,-5.579712 80.056244,-16.739349c20.700806,-11.325974 31.051331,-25.733459 31.052124,-43.222443c-0.000793,-16.822479 -9.542786,-30.813492 -28.62616,-41.973221c-19.084778,-11.159363 -43.020752,-16.73912 -71.808075,-16.739334c-26.5242,0.000214 -50.622009,5.663269 -72.293213,16.989166c-21.348907,11.159744 -43.991089,30.230896 -67.926544,57.213501m-59.193085,-26.732941c-15.849976,-14.657166 -34.61055,-25.650101 -56.282013,-32.978958c-21.348709,-7.328445 -45.769836,-10.992783 -73.263657,-10.992981c-32.993088,0.000198 -59.84024,5.496704 -80.541473,16.489441c-20.378067,10.993195 -30.567028,25.317368 -30.566898,42.97261c-0.00013,16.822723 9.541882,30.813782 28.626179,41.973267c19.083969,11.159607 43.019958,16.739441 71.80806,16.739319c26.523346,0.000122 50.62114,-5.662964 72.293213,-16.989166c21.671478,-11.325958 44.313583,-30.397125 67.92659,-57.213531m34.448425,45.720856c-22.642609,22.485779 -46.740234,39.058563 -72.293289,49.718323c-25.230194,10.493347 -53.047653,15.740021 -83.45253,15.73996c-43.990807,0.000061 -81.026909,-9.244049 -111.108456,-27.73233c-30.081831,-18.654663 -45.122731,-41.806549 -45.122602,-69.455734c-0.00013,-29.147934 13.423501,-52.716156 40.270741,-70.70491c27.170368,-17.988297 62.427532,-26.982544 105.77132,-26.982796c30.728348,0.000252 58.384155,5.246895 82.967438,15.739967c24.905945,10.493515 49.003754,27.232849 72.293213,50.217957c21.994659,-22.985107 45.768982,-39.890991 71.322876,-50.717636c25.552734,-10.992752 54.017242,-16.489243 85.393311,-16.489471c43.343018,0.000229 80.217407,9.410889 110.62323,28.231979c30.404541,18.654984 45.606995,41.890076 45.607788,69.705536c-0.000793,29.148254 -13.585999,52.633209 -40.755859,70.455109c-26.8479,17.822021 -61.943237,26.733032 -105.286163,26.732941c-30.405701,0.000092 -57.738037,-4.913483 -81.99704,-14.74057c-23.936401,-9.993561 -48.681091,-26.566345 -74.233978,-49.718323" id="text1306"/></g></svg>', 1), a("yin yang", "yinyang.svg", '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 466 466" preserveAspectRatio="none"><circle cx="233" cy="233" r="231"/><path d="M 233,459 a 226 226 0 0 1 0,-452 a 113 113 0 0 1 0,226 z" fill="#fff"/><circle cx="233" cy="346" r="113"/><circle cx="233" cy="120" r="30"/><circle cx="233" cy="346" r="30" fill="#fff"/></svg>', 1)]
			}
			return b.prototype = {
				on: function() {}
			}, b
		}), define("tantaman/web/widgets/ManagedColorChooser", ["libs/backbone", "tantaman/web/Utils"], function(a, b) {
			"use strict";

			function c(a) {
				a = a || {}, _.defaults(a, e), this.$el = $('<div class="dispNone"></div>'), this.$el.on("mousedown", b.stopProp), this.$el.append('<input class="color-chooser colorpicker" />'), this._$colorChooser = this.$el.find(".color-chooser");
				var c = this;
				a.move = function(a) {
					c._colorUpdated(a)
				}, a.position && this.$el.css("position", a.position), this._$colorChooser.spectrum(a)
			}
			var d = {},
				e = {
					color: "#000",
					showSelectionPalette: !0,
					localStorageKey: "strut.colorChooser",
					showPalette: !0,
					showInitial: !0,
					showInput: !0,
					palette: [],
					clickoutFiresChange: !0,
					flat: !1,
					position: "absolute"
				};
			return c.prototype = {
				_colorUpdated: function(a) {
					this.trigger("update:color", a)
				},
				show: function(a) {
					this.$el.removeClass("dispNone"), a && null != a.top && null != a.left && this.$el.css({
						top: a.top,
						left: a.left
					}), a && a.move && this.on("update:color", a.move), a && a.appendTo && 0 == this.$el.parent(a.appendTo).length && this.$el.appendTo(a.appendTo)
				},
				move: function(a) {
					this.$el.css(a)
				},
				hide: function(a) {
					this.$el.addClass("dispNone"), this._$colorChooser.spectrum("hide"), a && a.move && this.off("update:color", a.move)
				}
			}, {
				get: function(b, e) {
					var f;
					return f = d[b], f || (f = new c(e), _.extend(f, a.Events), d[b] = f), f
				}
			}
		}), define("strut/slide_components/view/ShapeView", ["./ComponentView", "./Mixers", "tantaman/web/widgets/ManagedColorChooser"], function(a, b, c) {
			"use strict";
			var d = c.get("floatingChooser");
			return a.extend({
				className: "component shapeView",
				initialize: function() {
					a.prototype.initialize.apply(this, arguments), this.model.on("change:fill", this._fillChanged, this), this._updateFill = this._updateFill.bind(this)
				},
				_onSizeChanged: function() {
					a.prototype._onSizeChanged.apply(this, arguments) && (this._rePosColor(), this._resizeObj())
				},
				_resizeObj: function() {
					var a = {
						width: this.model.get("sizeX"),
						height: this.model.get("sizeY")
					};
					this.$object.attr(a)
				},
				_rePosColor: function() {
					d.show({
						left: this.model.get("positionX") + this.model.get("sizeX"),
						top: this.model.get("positionY") - 5
					})
				},
				render: function() {
					a.prototype.render.call(this);
					var b = this.model.get("markup");
					this.$object = $(b);
					var c = this.model.get("scale"),
						d = this.$el.find(".content");
					d.append(this.$object), d.append($('<div class="overlay"></div>')), this._$colorPreview = this.$el.find(".sp-preview-inner"), c && c.width || this._initOriginalSize(100, 100), this._resizeObj();
					var e = this.model.get("fill");
					return e && this.$object.attr("fill", e), this.$el
				},
				_xChanged: function() {
					a.prototype._xChanged.apply(this, arguments), this._rePosColor()
				},
				_yChanged: function() {
					a.prototype._yChanged.apply(this, arguments), this._rePosColor()
				},
				remove: function() {
					a.prototype.remove.apply(this, arguments), d.hide({
						move: this._updateFill
					})
				},
				_selectionChanged: function(b, c) {
					c ? (d.show({
						move: this._updateFill,
						appendTo: ".operatingTable > .slideContainer"
					}), this._rePosColor()) : d.hide({
						move: this._updateFill
					}), a.prototype._selectionChanged.apply(this, arguments)
				},
				_fillChanged: function(a, b) {
					this._$colorPreview.css("background-color", b), this.$object.attr("fill", b)
				},
				_updateFill: function(a) {
					this.model.set("fill", a.toHexString())
				}
			})
		}), define("strut/slide_components/model/Shape", ["strut/deck/Component"], function(a) {
			"use strict";
			return a.extend({
				_nodeClass: "erquan_shape",
				_meta: {
					index: 0
				},
				initialize: function() {
					a.prototype.initialize.apply(this, arguments), this.set("type", "Shape")
				},
				constructor: function(b) {
					a.prototype.constructor.call(this, b)
				}
			})
		}), define("strut/slide_components/main", ["./view/ComponentButton", "./view/ImportingComponentButton", "./model/Image", "./model/TextBox", "./model/WebFrame", "./model/Video", "./model/Audio", "./view/ImageView", "./view/TextBoxView", "./view/WebFrameView", "./view/VideoView", "./view/AudioView", "./ComponentFactory", "lang", "./view/ShapesDropdown", "./ShapeCollection", "./view/ShapeView", "./model/Shape"], function(a, b, c, d, e, f, g, h, i, j, k, l, m, n, o, p) {
			var q = function() {
					return !1
				},
				r = (new p, {
					createButtons: function(c) {
						var d = [];
						return d.push(new a({
							componentType: "TextBox",
							icon: "icon-text-width",
							name: n.text,
							editorModel: c
						})), d.push(new b({
							componentType: "Image",
							icon: "icon-picture",
							name: n.image,
							tag: "img",
							title: n.insert_image,
							editorModel: c,
							ignoreErrors: !1,
							hasStorage: q,
							browsable: !0
						})), d.push(new b({
							componentType: "Audio",
							icon: "icon-music",
							name: n.audio,
							tag: "audio",
							title: n.insert_audio,
							editorModel: c,
							ignoreErrors: !1,
							hasStorage: q,
							browsable: !0
						})), d.push(new b({
							componentType: "Video",
							icon: "icon-film",
							name: n.video,
							tag: "video",
							title: n.insert_video,
							editorModel: c,
							ignoreErrors: !1,
							hasStorage: q,
							browsable: !0
						})), d.push(new b({
							componentType: "WebFrame",
							icon: "icon-globe",
							name: n.website,
							tag: "iframe",
							title: n.insert_website,
							editorModel: c
						})), d
					}
				});
			return {
				initialize: function(a) {
					a.register({
						interfaces: "strut.ComponentButtonProvider"
					}, r), a.register({
						interfaces: "strut.ComponentModel",
						meta: {
							type: "Image"
						}
					}, c), a.register({
						interfaces: "strut.ComponentModel",
						meta: {
							type: "TextBox"
						}
					}, d), a.register({
						interfaces: "strut.ComponentModel",
						meta: {
							type: "Video"
						}
					}, f), a.register({
						interfaces: "strut.ComponentModel",
						meta: {
							type: "Audio"
						}
					}, g), a.register({
						interfaces: "strut.ComponentModel",
						meta: {
							type: "WebFrame"
						}
					}, e), a.register({
						interfaces: "strut.ComponentView",
						meta: {
							type: "Image"
						}
					}, h), a.register({
						interfaces: "strut.ComponentView",
						meta: {
							type: "TextBox"
						}
					}, i), a.register({
						interfaces: "strut.ComponentView",
						meta: {
							type: "Video"
						}
					}, k), a.register({
						interfaces: "strut.ComponentView",
						meta: {
							type: "Audio"
						}
					}, l), a.register({
						interfaces: "strut.ComponentView",
						meta: {
							type: "WebFrame"
						}
					}, j), m.initialize(a)
				}
			}
		}), define("strut/well_context_buttons/AddSlideButton", ["libs/backbone"], function(a) {
			return a.View.extend({
				className: "addBtn btn btn-success",
				events: {
					click: "_addSlide"
				},
				_addSlide: function() {
					this._editorModel.addSlide(this._wellMenuModel.slideIndex())
				},
				render: function() {
					return this.$el.html('<center><i class="icon-plus icon-white"></i></center>'), this
				},
				constructor: function(b, c) {
					this._editorModel = b, this._wellMenuModel = c, a.View.prototype.constructor.call(this)
				}
			})
		}), define("strut/well_context_buttons/main", ["./AddSlideButton", "lang"], function(a) {
			"use strict";
			var b = {
				createButtons: function(b, c) {
					var d = [];
					return d.push(new a(b, c)), d
				}
			};
			return {
				initialize: function(a) {
					a.register({
						interfaces: ["strut.WellContextButtonProvider"]
					}, b)
				}
			}
		}), define("strut/logo_button/LogoModel", ["libs/backbone", "framework/ServiceCollection"], function(a, b) {
			return a.Model.extend({
				initialize: function() {
					this.items = new b(this._editorModel.registry, "strut.LogoMenuItemProvider", this._convertServiceEntry.bind(this))
				},
				_convertServiceEntry: function(a) {
					return a.service().createMenuItems(this._editorModel)
				},
				constructor: function(b) {
					this._editorModel = b, a.Model.prototype.constructor.call(this)
				}
			})
		}), define("strut/logo_button/LogoView", ["libs/backbone", "./LogoModel", "css!styles/logo_button/logo.css"], function(a, b) {
			"use strict";
			return a.View.extend({
				className: "logo-group btn-group",
				initialize: function() {
					this._template = JST["strut.logo_button/Logo"], this.model = new b(this.options.editorModel), delete this.options.editorModel, a.on("erquan-filename-changed", this._onFileNameChanged, this)
				},
				_onFileNameChanged: function(a) {
					this.$el.find(".file-name").text(a || "")
				},
				render: function() {
					this.$el.html(this._template());
					var a = this.$el.find(".dropdown-menu");
					return this.model.items.forEach(function(b) {
						a.append(b.render().$el)
					}, this), this
				},
				constructor: function() {
					a.View.prototype.constructor.apply(this, arguments)
				}
			})
		}), define("strut/presentation_generator/PreviewLauncher", ["require", "exports", "module", "erquan/config/common", "libs/backbone"], function(a) {
			"use strict";

			function b(a) {
				this._editorModel = a
			}
			var c = a("erquan/config/common"),
				d = a("libs/backbone");
			return b.prototype = {
				launch: function(a) {
					window.previewWind && window.previewWind.close();
					var b = this._editorModel.deck(),
						e = b.get("server_id"),
						f = c.service.base_projects_url + e + "/preview/" + a.getSlideHash(this._editorModel);
					d.once("erquan-store:success", function() {
						window.previewWind = window.open(f, window.location.href)
					}), this._editorModel.savePresentation(), this._editorModel.trigger("launch:preview", null)
				}
			}, b
		}), define("strut/presentation_generator/view/PreviewButton", ["libs/backbone", "../PreviewLauncher"], function(a, b) {
			return a.View.extend({
				className: "btn-group iconBtns",
				events: {
					"click .act": "_launch"
				},
				initialize: function() {
					this._editorModel = this.options.editorModel, this._previewLauncher = new b(this._editorModel), this._generators = this._editorModel.registry.getBest("strut.presentation_generator.GeneratorCollection"), delete this.options.editorModel, this._index = Math.min(window.sessionMeta.generator_index || 0, this._generators.length - 1), this._generatorChanged(), this._template = JST["strut.presentation_generator/Button"]
				},
				_launch: function() {
					return this._previewLauncher.launch(this._generators[this._index]), !1
				},
				_bind: function() {
					var a = this;
					this.$el.find("li").each(function(b) {
						var c = $(this);
						c.click(function(d) {
							a.$el.find(".check").css("visibility", "hidden"), c.find(".check").css("visibility", ""), a._index = b, window.sessionMeta.generator_index = b, a._generatorChanged(), a.$el.find(".dropdown-toggle").dropdown("toggle"), d.stopPropagation()
						})
					})
				},
				_generatorChanged: function() {
					this._editorModel.set("generator", this._generators[this._index]), this._$readout && this._$readout.text(this._generators[this._index].shortname || this._generators[this._index].displayName)
				},
				render: function() {
					return this.$el.html(this._template({
						generators: this._generators,
						chosen: this._generators[this._index]
					})), this._bind(), this._$readout = this.$el.find(".chosen"), $(this.$el.find(".check")[this._index]).css("visibility", ""), this
				}
			})
		}), define("strut/header/model/ThemeProviderCollection", ["libs/backbone", "framework/ServiceCollection"], function(a, b) {
			function c(a, c) {
				this._editorModel = a, this._activeProviders = [], this._editorModel.on("change:activeMode", this._modeChanged, this), this._themeProviders = new b(a.registry, {
					interfaces: "strut.ThemeProvider",
					meta: c
				}), this._modeChanged(null, this._editorModel.get("activeMode")), this._themeProviders.on("registered", function(a, b) {
					this._addProvider(b)
				}, this)
			}
			return c.prototype = {
				_modeChanged: function(a, b) {
					this._disposePrevious(), this._themeProviders.forEach(function(a) {
						b.id in a.meta().modes && this._addProvider(a)
					}, this), this.trigger("change:activeProviders", this._activeProviders)
				},
				_addProvider: function(a) {
					var b = a.service().create(this._editorModel);
					Array.isArray(b) ? this._activeProviders = this._activeProviders.concat(b) : this._activeProviders.push(b)
				},
				_disposePrevious: function() {
					this._activeProviders.forEach(function(a) {
						a.dispose()
					}, this), this._activeProviders = []
				},
				activeProviders: function() {
					return this._activeProviders
				}
			}, _.extend(c.prototype, a.Events), c
		}), define("strut/header/view/ThemeProviderView", ["libs/backbone", "../model/ThemeProviderCollection"], function(a, b) {
			return a.View.extend({
				className: "themeProviders",
				initialize: function(a) {
					this._providerCollection = new b(a, {
						overflow: !1
					}), this._providerCollection.on("change:activeProviders", this.render, this)
				},
				render: function() {
					return this.$el.empty(), this._providerCollection.activeProviders().forEach(function(a) {
						this.$el.append(a.view().render().$el)
					}, this), this
				},
				constructor: function(b) {
					a.View.prototype.constructor.call(this, b)
				}
			})
		}), define("tantaman/web/widgets/Tablets", [], function() {
			function a(a) {
				this._currentItems = [], this.$el = $('<div class="tablets hiding">'), this.template = a.template;
				var b = this;
				this.$el.on("click", ".tablets-toggle", function() {
					b.toggle()
				})
			}
			return a.prototype = {
				render: function() {
					return this.$el.html(this.template()), this.$content = this.$el.find(".tablets-content"), this._currentItems.forEach(function(a) {
						this.$content.append(a.render().$el)
					}, this), this
				},
				add: function(a) {
					Array.isArray(a) || (a = [a]);
					var b = [];
					a.forEach(function(a) {
						-1 == this._currentItems.indexOf(a) && b.push(a)
					}, this), b.forEach(function(a) {
						this._currentItems.push(a), this.$content && this.$content.append(a.render().$el)
					}, this)
				},
				empty: function() {
					this.$content && this.$content.html(""), this._currentItems = []
				},
				dispose: function() {},
				toggle: function() {
					this.$el.is(".hiding") ? (this.$el.removeClass("hiding"), this.$el.addClass("showing")) : this.hide()
				},
				hide: function() {
					this.$el.removeClass("showing"), this.$el.addClass("hiding")
				}
			}, a
		}), define("strut/header/view/Tablets", ["tantaman/web/widgets/Tablets", "../model/ThemeProviderCollection"], function(a, b) {
			function c(c) {
				this._providers = new b(c, {
					overflow: !0
				}), this._providers.on("change:activeProviders", this._providersChanged, this), this._tablets = new a({
					template: JST["strut.slide_editor/Tablets"]
				}), this.$el = this._tablets.$el, this._providersChanged()
			}
			return c.prototype = {
				dispose: function() {
					this._tablets.dispose(), this._providers.dispose()
				},
				_providersChanged: function() {
					var a = [];
					this._providers.activeProviders().forEach(function(b) {
						a.push(b.view())
					}, this), this._tablets.hide(), this._tablets.empty(), this._tablets.add(a)
				},
				render: function() {
					return this._tablets.render(), this
				}
			}, c
		}), define("strut/action_editor/util/tooltip", ["require", "exports", "module", "css!styles/action_editor/tooltip.css", "jquery"], function(a) {
			a("css!styles/action_editor/tooltip.css");
			var b = a("jquery"),
				c = b("body"),
				d = b(window),
				e = b('<div class="erquan_tooltip">'),
				f = !1,
				g = null,
				h = function(a) {
					var b = a.offset(),
						c = b.left + a.outerWidth() / 2,
						d = b.top - 10;
					e.css({
						top: d,
						left: c
					})
				};
			e.on("click", function() {
				return !1
			}), c.on("click", function() {
				!f && e.fadeOut()
			}), d.on("resize", function() {
				g && h(g)
			}), c.append(e), b.fn.tooltip = function(a) {
				f = !1, e.hide(), e.text(a), g = this, h(this), e.css({
					display: "inline-block",
					opacity: 0
				}), f = !0, e.animate({
					opacity: 1
				}, function() {
					f = !1
				})
			}, b.fn.hidetooltip = function() {
				g = null, e.hide()
			}
		}), define("strut/action_editor/util/EventListener", ["require", "exports", "module", "css!styles/action_editor/eventListener.css", "strut/action_editor/util/tooltip"], function(a, b, c) {
			a("css!styles/action_editor/eventListener.css"), a("strut/action_editor/util/tooltip");
			var d = JST["strut.action_editor/event_pannel"],
				e = JST["strut.action_editor/event_pannel_option"],
				f = JST["strut.action_editor/event_pannel_listener"],
				g = ".event_head",
				h = ".event_op",
				i = ".add_listener",
				j = ".listener_comp",
				k = ".listener_method",
				l = "\u53d6\u6d88",
				m = "\u6dfb\u52a0",
				n = "\u65e0",
				o = c.exports = function(a) {
					a = $.extend({}, o.DEFAULT, a), this.$el = null, this._triggers = null, this._listeners = null, this._unfold = null, this._opShown = null, this._currentComp = null, this._type = a.type, this._key = a.key, this._name = a.name, this._wrap = $(a.wrap), this._opShown = a.opShown, this._onListenerRepeat = a.onListenerRepeat, this._create(), this.triggers(a.triggers), this.listeners(a.listeners), this.unfold(a.unfold, !0), this._render()
				};
			o.prototype._grepListener = function(a) {
				var b = null;
				return this._listeners.forEach(function(c) {
					return a.targetId == c.targetId && a.method == c.method && a.param == c.param && a.event == c.event ? (b = c, !1) : void 0
				}), b
			}, o.prototype._showOpWrap = function(a) {
				this._opShown = !0, this.$el.find(i).text(l), this.$el.find(h)[a ? "show" : "slideDown"]()
			}, o.prototype._hideOpWrap = function(a) {
				this._opShown = !1,
					this.$el.find(i).text(m), this.$el.find(h)[a ? "hide" : "slideUp"]()
			}, o.prototype._onHeadDblClicked = function() {
				this.unfold(!this._unfold)
			}, o.prototype._onAddListnerClicked = function() {
				return this._opShown ? this._hideOpWrap() : this._unfold ? this._showOpWrap() : (this._showOpWrap(!0), this.unfold(!0)), !1
			}, o.prototype._onCompSelectedChange = function(a) {
				var b = $(a.target).val(),
					c = this._currentComp = $.grep(this._triggers, function(a) {
						return a.id == b
					})[0];
				this.$el.find(k).html(e(c.hooks)).trigger("change")
			}, o.prototype._onMethodChange = function(a) {
				var b = $(a.target).val(),
					c = $.grep(this._currentComp.hooks, function(a) {
						return a.key == b
					})[0];
				this.$el.find(".listener_param").prop("disabled", !c.param)
			}, o.prototype._onAddListenerOkClicked = function(a) {
				var b = {};
				this._type == o.TYPE_UI && (b.event = this.$el.find(".ui_event_name").val(), b.propagation = this.$el.find(".ui_event_prpgt").prop("checked"));
				var c = this.$el.find(j);
				b.targetId = c.val();
				var d = c.find(":selected");
				b.targetName = d.data("name"), b.targetType = d.data("type"), b.method = this.$el.find(k).val();
				var e = this.$el.find(".listener_param");
				return b.param = e.val(), this._grepListener(b) ? (this._onListenerRepeat(a.currentTarget, b), !1) : (e.val(""), this._addListener(b), this._listeners.push(b), this.$el.trigger("add:listener", b), !1)
			}, o.prototype._onDeleteButtonClicked = function(a) {
				var b = {},
					c = $(a.target).closest("tr"),
					d = c.children();
				if (this._type == o.TYPE_UI && (b.event = d.eq(0).text(), d = d.slice(2)), b.targetId = d.eq(0).data("comp_id"), b.method = d.eq(1).text(), b.param = d.eq(2).text(), b.param == n && (b.param = ""), b = this._grepListener(b), !b) return !1;
				var e = this._listeners.indexOf(b);
				return this._listeners.splice(e, 1), this.$el.trigger("remove:listener", b), c.remove(), !1
			}, o.prototype._addListener = function(a, b) {
				var c = this.$el.find("tbody");
				return b && c.empty(), a && c.append($(f(a))), !1
			}, o.prototype._create = function() {
				this.$el = $(d({
					name: this._name,
					ui: this._type == o.TYPE_UI ? !0 : !1
				})), this._opShown ? this._showOpWrap(!0) : this._hideOpWrap(!0), this.$el.on("dblclick", g, this._onHeadDblClicked.bind(this)), this.$el.on("click", i, this._onAddListnerClicked.bind(this)), this.$el.on("click", ".delete_listener", this._onDeleteButtonClicked.bind(this)), this.$el.on("click", ".add_listener_ok", this._onAddListenerOkClicked.bind(this)), this.$el.on("change", j, this._onCompSelectedChange.bind(this)), this.$el.on("change", ".listener_method", this._onMethodChange.bind(this))
			}, o.prototype._render = function() {
				this._wrap.append(this.$el)
			}, o.prototype.getKey = function() {
				return this._key
			}, o.prototype.triggers = function(a) {
				return void 0 == a ? this.triggers : void(this._triggers != a && (this._triggers = a, this.$el.find(j).html(e(a)).trigger("change")))
			}, o.prototype.listeners = function(a) {
				if (void 0 == a) return this._listeners;
				if (this._listeners != a) {
					this._listeners = a, this._addListener(null, !0);
					var b = this;
					a.forEach(function(a) {
						b._addListener(a)
					})
				}
			}, o.prototype.unfold = function(a, b) {
				if (this._unfold !== a) {
					this._unfold = a;
					var c = this.$el.find(".event_content");
					if (a) return this._olderOpShown && this._showOpWrap(!0), void c[b ? "show" : "slideDown"]();
					var d = this,
						e = function() {
							d._olderOpShown = d._opShown, d._hideOpWrap(!0)
						};
					return b ? (c.hide(), void e()) : void c.slideUp(e)
				}
			}, o.TYPE_SYS = 1, o.TYPE_UI = 17, o.DEFAULT = {
				key: null,
				name: null,
				type: o.TYPE_SYS,
				unfold: !0,
				opShown: !0,
				wrap: "body",
				listeners: [],
				triggers: [],
				onListenerRepeat: function(a) {
					$(a).tooltip("\u6570\u636e\u91cd\u590d!")
				}
			}
		}), define("tantaman/web/widgets/Modal", [], function() {
			function a(a) {
				this.$el = $('<div class="modal hide"></div>'), this.options = a, this.$el.modal({
					show: !1
				})
			}
			return a.prototype = {
				render: function() {
					return this.$el.html(JST["tantaman.web.widgets/Modal"](this.options)), this.options.className && this.$el.addClass(this.options.className), this.$errors = this.$el.find(".errors"), this.$content = this.$el.find(".content"), this
				},
				show: function(a) {
					this.$content.empty(), this.$content.append($(a)), this.$errors.empty(), this.$el.modal("show")
				},
				hide: function() {
					this.$el.modal("hide")
				},
				error: function(a) {
					this.$errors.html(JST["tantaman.web.widgets/List"](a))
				}
			}, a
		}), define("strut/action_editor/view/EventPannel", ["require", "exports", "module", "libs/backbone", "strut/action_editor/util/EventListener", "tantaman/web/widgets/Modal", "handlebars"], function(a, b, c) {
			var d = a("libs/backbone"),
				e = a("strut/action_editor/util/EventListener"),
				f = a("tantaman/web/widgets/Modal"),
				g = a("handlebars"),
				h = new f({
					title: "\u4e8b\u4ef6\u7ba1\u7406",
					className: "event_manager"
				});
			h.render(), $("#modals").append(h.$el), g.registerHelper("showEventEntityName", function(a, b) {
				return a ? "viewport" == a ? "\u89c6\u7a97" : "scene" == a ? "\u573a\u666f" : a + "\u3010" + b + "\u3011" : b
			});
			var i = function(a) {
				this._container = a || []
			};
			i.prototype.add = function(a, b) {
				var c = a.get("hooks");
				if (c && c.length) {
					var d = a.get("id"),
						e = a.get("name") || d,
						f = [];
					c.forEach(function(a) {
						f.push({
							key: a.key,
							name: a.name || a.key,
							param: !!a.param
						})
					}), this._container.push({
						id: d,
						name: e,
						hooks: f,
						type: b
					})
				}
			}, i.prototype.dump = function() {
				return this._container
			};
			var j = c.exports = d.View.extend({
				id: "event_pannel",
				tagName: "form",
				className: "wrap_transition form-horizontal",
				initialize: function(a) {
					this._deck = a.deck
				},
				show: function(a) {
					this._model = a;
					var b = a.get("events");
					if (b && b.length) {
						var c = new i,
							d = this._deck;
						if (c.add(d, "viewport"), this._model != d) {
							var f = this._deck.get("activeSlide");
							c.add(f, "scene"), f.get("stepListEditor").get("step_list_collection").forEach(function(a) {
								c.add(a, "stepList")
							}), f.get("components").forEach(function(a) {
								c.add(a, "component")
							})
						}
						c = c.dump();
						var g = this.$el,
							j = a.get("id"),
							k = (a.get("name") || j, a.get("listeners"));
						k || a.set("listeners", k = {}), g.empty().detach();
						b.forEach(function(a) {
							var b = a.key,
								d = a.name || b,
								f = "UIEvent" == b ? e.TYPE_UI : e.TYPE_SYS;
							k[b] || (k[b] = []); {
								var h = k[b];
								new e({
									key: b,
									name: d,
									triggers: c,
									listeners: h,
									wrap: g,
									type: f
								})
							}
						}), h.show(this.$el)
					}
				}
			});
			j.getInstance = function(a) {
				return this._instance || (this._instance = new j(a)), this._instance
			}
		}), define("strut/action_editor/view/ViewportAdvanced", ["require", "exports", "module", "libs/backbone", "strut/action_editor/view/EventPannel", "tantaman/web/widgets/ItemImportModal"], function(a, b, c) {
			var d = a("libs/backbone"),
				e = a("strut/action_editor/view/EventPannel"),
				f = JST["strut.action_editor/viewport_advanced"],
				g = a("tantaman/web/widgets/ItemImportModal"),
				h = null;
			c.exports = d.View.extend({
				_byView: {
					byView: !0
				},
				className: "btn-group",
				events: {
					"change [name=viewport_width]": "_onViewportWidthChanged",
					"change [name=viewport_height]": "_onViewportHeightChanged",
					"click .btn-cfg-event": "_onEventConfigBtnClicked",
					"change [name=sc_loop]": "_onSceneLoopChanged",
					"change [name=play_control]": "_onPlayControlChanged",
					"change [name=scale_rule]": "_onScaleRuleChanged",
					"change [name=orientation_mode]": "_onOrientationModeChanged",
					"change .input-bg-color": "_onBgColorchanged",
					"click .btn-clear-bg-color": "_onBtnclearBgColorClick",
					"click .btn-set-bg-image": "_onBtnSetBgImageClick",
					"click .btn-clear-bg-image": "_onBtnClearBgImageClick",
					"click ul": "_onListClick"
				},
				initialize: function(a) {
					this._editorModel = a.editorModel, this.$el.html(f()), this.model.on("change:viewportSize", this._onDeckSizeChanged, this), this.model.on("change:sceneLoop", this._onDeckLoopChanged, this), this.model.on("change:scaleRule", this._onDeckScaleRuleChanged, this), this.model.on("change:orientationMode", this._onDeckOrientationModeChanged, this), this.model.on("change:playControl", this._onDeckPlayControlChanged, this), this.model.on("change:bgColor", this._onDeckBgColorChanged, this), this._onDeckSizeChanged(), this._onDeckLoopChanged(), this._onDeckScaleRuleChanged(), this._onDeckOrientationModeChanged(), this._onDeckPlayControlChanged(), this._onDeckBgColorChanged()
				},
				_onListClick: function(a) {
					a.stopPropagation()
				},
				_onViewportWidthChanged: function(a) {
					var b = this.model.get("viewportSize");
					this.model.set("viewportSize", {
						width: $(a.target).val(),
						height: b.height
					}, this._byView)
				},
				_onViewportHeightChanged: function(a) {
					var b = this.model.get("viewportSize");
					this.model.set("viewportSize", {
						width: b.width,
						height: $(a.target).val()
					}, this._byView)
				},
				_onViewportScaleChanged: function(a) {
					var b = $(a.target).val();
					this.model.set("viewportScale", b, this._byView)
				},
				_onSceneLoopChanged: function(a) {
					var b = $(a.target).val();
					this.model.set("sceneLoop", !!parseInt(b), {
						silent: !0
					})
				},
				_onPlayControlChanged: function(a) {
					var b = $(a.target).val();
					this.model.set("playControl", !!parseInt(b))
				},
				_onScaleRuleChanged: function(a) {
					var b = parseInt($(a.target).val());
					this.model.set("scaleRule", b)
				},
				_onOrientationModeChanged: function(a) {
					var b = parseInt($(a.target).val());
					this.model.set("orientationMode", b)
				},
				_onDeckSizeChanged: function(a, b, c) {
					if (!c || !c.byView) {
						var d = this.model.get("viewportSize");
						this.$el.find("[name=viewport_width]").val(d.width), this.$el.find("[name=viewport_height]").val(d.height)
					}
				},
				_onDeckScaleChanged: function(a, b, c) {
					if (!c || !c.byView) {
						var d = this.model.get("viewportScale");
						this.$el.find("[name=viewport_scale]").val(d)
					}
				},
				_onDeckLoopChanged: function() {
					var a = !!this.model.get("sceneLoop"),
						b = this.$el.find("[name=sc_loop]");
					b.prop("checked", !1), b.eq(a ? 0 : 1).prop("checked", !0)
				},
				_onDeckPlayControlChanged: function() {
					var a = !!this.model.get("playControl"),
						b = this.$el.find("[name=play_control]");
					b.prop("checked", !1), b.eq(a ? 0 : 1).prop("checked", !0)
				},
				_onDeckScaleRuleChanged: function() {
					var a = this.model.get("scaleRule"),
						b = this.$el.find("[name=scale_rule]");
					b.prop("checked", !1), b.eq(a).prop("checked", !0)
				},
				_onDeckOrientationModeChanged: function() {
					var a = this.model.get("orientationMode"),
						b = this.$el.find("[name=orientation_mode]"),
						c = 0;
					16 == a ? c = 1 : 17 == a && (c = 2), b.prop("checked", !1), b.eq(c).prop("checked", !0)
				},
				_onDeckBgColorChanged: function() {
					this.$el.find(".input-bg-color").val(this.model.get("bgColor") || "#ffffff")
				},
				_onEventConfigBtnClicked: function() {
					return h || (h = e.getInstance({
						deck: this.model
					})), h.show(this.model), !1
				},
				_onBgColorchanged: function() {
					var a = this.$el.find(".input-bg-color").val();
					return this.model.set("bgColor", a), !1
				},
				_onBtnclearBgColorClick: function() {
					return this.model.set("bgColor", null), !1
				},
				_onBtnSetBgImageClick: function() {
					var a = this.model;
					return this._modal.show(function(b) {
						a.set("bgImage", b)
					}), !1
				},
				_onBtnClearBgImageClick: function() {
					return this.model.set("bgImage", null), !1
				},
				render: function() {
					return this._modal = g.get({
						tag: "img",
						editorModel: this._editorModel,
						ignoreErrors: !1,
						hasStorage: function() {
							return !1
						},
						browsable: !0
					}), this
				},
				dispose: function() {
					this.model.off(null, null, this)
				}
			})
		}), define("strut/header/view/HeaderView", ["libs/backbone", "strut/logo_button/LogoView", "strut/presentation_generator/view/PreviewButton", "./ThemeProviderView", "./Tablets", "css!styles/header/header.css", "strut/action_editor/view/ViewportAdvanced", "erquan/config/common"], function(a, b, c, d, e, f, g, h) {
			return a.View.extend({
				className: "row-fluid header editor_header",
				events: {
					"click .zoom-in": "_onZoomInClicked",
					"click .zoom-out": "_onZoomOutClicked",
					"click .zoom-normal": "_onZoomNormalClicked",
					"click .btn-sync": "_onBtnSyncClicked",
					"click .btn-search": "_onBtnSearchClicked",
					"click .btn-search-release": "_onBtnSearchReleaseClicked",
					"click .btn-release": "_onBtnReleaseClicked",
					"click .btn-release-history": "_onBtnReleaseHistoryClicked"
				},
				initialize: function() {
					var a = this.model.editorModel();
					this._template = JST["strut.header/Header"], this._logoButton = new b({
						editorModel: a
					}), this._previewButton = new c({
						editorModel: a
					}), this._themeProviderView = new d(a), this._viewportAdvanced = new g({
						model: a._deck,
						editorModel: a
					}), this.model.editorModel().on("change:activeMode", this._modeChanged, this), this._tablets = new e(this.model.editorModel())
				},
				_onZoomInClicked: function() {
					return this._zoomDeck(!1), !1
				},
				_onZoomOutClicked: function() {
					return this._zoomDeck(!0), !1
				},
				_onZoomNormalClicked: function() {
					return this._zoomDeck(null, !0), !1
				},
				_zoomDeck: function(a, b) {
					var c = this.model.editorModel().deck(),
						d = b ? 1 : parseFloat(c.get("viewportScale")) + (a ? -.1 : .1);
					c.set("viewportScale", d)
				},
				_onBtnSyncClicked: function() {
					this.model.editorModel().savePresentation()
				},
				_onBtnSearchClicked: function() {
					window.open(h.service.base_url + "projects/search")
				},
				_onBtnSearchReleaseClicked: function() {
					window.open(h.service.base_url + "releases/search")
				},
				_onBtnReleaseClicked: function() {
					var a = this.model.editorModel().deck().get("server_id");
					window.open(h.service.base_url + "projects/" + a + "/release/")
				},
				_onBtnReleaseHistoryClicked: function() {
					var a = this.model.editorModel().deck().get("server_id");
					window.open(h.service.base_url + "projects/" + a + "/release/history")
				},
				_modeChanged: function(a, b) {
					"overview" == b.id ? this.$el.find(".create-comp-buttons").addClass("hidden") : this.$el.find(".create-comp-buttons").removeClass("hidden")
				},
				render: function() {
					this.$el.html(this._template()), this.$el.find(".logo-holder").append(this._logoButton.render().$el);
					var a = this.$el.find(".mode-buttons");
					a.append(this._viewportAdvanced.render().$el), this.model.get("modeButtons").forEach(function() {}, this);
					var b = this.$el.find(".create-comp-buttons > div");
					this.model.get("createCompButtons").forEach(function(a) {
						b.append(a.render().el)
					}, this), a.append(this._previewButton.render().$el);
					this.$el.find(".theme-buttons");
					this._tablets.render();
					var c = this.$el.find(".btn-sync > i");
					return $(document).ajaxStart(function() {
						c.addClass("spinner")
					}).ajaxStop(function() {
						c.removeClass("spinner")
					}), this
				},
				constructor: function() {
					a.View.prototype.constructor.apply(this, arguments)
				}
			})
		}), define("strut/action_editor/util/CSSEaseCMDBuilder", ["require", "exports", "module"], function(a, b, c) {
			var d = {
				none: "none",
				linear: "linear",
				ease: "ease",
				easeIn: "ease-in",
				easeOut: "ease-out",
				easeInOut: "ease-in-out",
				easeInQuad: "cubic-bezier(.55,.085,.68,.53)",
				easeOutQuad: "cubic-bezier(.25,.46,.45,.94)",
				easeInOutQuad: "cubic-bezier(.455,.03,.515,.955)",
				easeInCubic: "cubic-bezier(.55,.055,.675,.19)",
				easeOutCubic: "cubic-bezier(.215,.61,.355,1)",
				easeInOutCubic: "cubic-bezier(.645,.045,.355,1)",
				easeInQuart: "cubic-bezier(.895,.03,.685,.22)",
				easeOutQuart: "cubic-bezier(.165,.84,.44,1)",
				easeInOutQuart: "cubic-bezier(.77,0,.175,1)",
				easeInQuint: "cubic-bezier(.755,.05,.855,.06)",
				easeOutQuint: "cubic-bezier(.23,1,.32,1)",
				easeInOutQuint: "cubic-bezier(.86,0,.07,1)",
				easeInCirc: "cubic-bezier(.6,.04,.98,.335)",
				easeOutCirc: "cubic-bezier(.075,.82,.165,1)",
				easeInOutCirc: "cubic-bezier(.785,.135,.15,.86)",
				easeInExpo: "cubic-bezier(.95,.05,.795,.035)",
				easeOutExpo: "cubic-bezier(.19,1,.22,1)",
				easeInOutExpo: "cubic-bezier(1,0,0,1)",
				easeInSine: "cubic-bezier(.47,0,.745,.715)",
				easeOutSine: "cubic-bezier(.39,.575,.565,1)",
				easeInOutSine: "cubic-bezier(.445,.05,.55,.95)",
				easeInBack: "cubic-bezier(.6,-.28,.735,.045)",
				easeOutBack: "cubic-bezier(.175, .885,.32,1.275)",
				easeInOutBack: "cubic-bezier(.68,-.55,.265,1.55)"
			};
			c.exports = {
				build: function(a) {
					return a ? d[a] ? d[a] : a : d.ease
				},
				keys: function() {
					return Object.keys(d)
				}
			}
		}), define("strut/action_editor/view/SceneEditor", ["require", "exports", "module", "css!styles/action_editor/scene_editor.css", "libs/backbone", "lodash", "strut/action_editor/util/CSSEaseCMDBuilder"], function(a, b, c) {
			a("css!styles/action_editor/scene_editor.css"); {
				var d = a("libs/backbone"),
					e = a("lodash"),
					f = a("strut/action_editor/util/CSSEaseCMDBuilder").keys(),
					g = /(^duration|X)$/,
					h = /(^easing|Y)$/,
					i = /(^delay|Z)$/,
					j = d.Model.extend({
						clone: function(a) {
							var b = this.attributes;
							return a && (b = e.clone(b, !0)), new this.constructor(b)
						}
					});
				c.exports = d.View.extend({
					className: "slideAction",
					events: {
						"change [name=sceneStatus]": "_onSceneStatusChange",
						"change input,[name=easing]": "_onInputChange",
						"change [name=opacity]": "_onOpacityChanged",
						"input [name=opacity]": "_onOpacityChanged",
						"click .btn-apply-to-status": "_applyToStatus",
						"click .btn-apply-to-scene": "_applyToScene",
						"click .btn-apply-to-all": "_applyToAll"
					},
					_xyz2123: function(a, b, c) {
						return c = c || [], g.test(a) ? c[0] = b : h.test(a) ? c[1] = b : i.test(a) && (c[2] = b), c
					},
					_getValue: function(a, b, c) {
						var d = a.get(b);
						if (void 0 != d) return d;
						if ("opacity" == b) d = 1;
						else if ("position" == b) switch (c) {
							case "orderInAction":
							case "reverseOutAction":
								d = [0, -1, 0];
								break;
							case "reverseInAction":
							case "orderOutAction":
								d = [0, 1, 0]
						} else "scale" == b ? d = [1, 1, 1] : "skew" == b || "rotate" == b ? d = [0, 0, 0] : "transition" == b && (d = [1, "ease", 0]);
						return d
					},
					_getAllStatus: function(a, b) {
						var c = a.get("opacity"),
							d = a.get("position"),
							e = a.get("scale"),
							f = a.get("skew"),
							g = a.get("rotate"),
							h = a.get("transition"),
							i = new j;
						(c || 0 == c) && i.set("opacity", c), e && i.set("scale", [e[0], e[1], e[2]]), h && i.set("transition", [h[0], h[1], h[2]]);
						var k = i.clone(!0),
							l = i.clone(!0),
							m = i.clone(!0),
							n = 1;
						if (("orderOutAction" == b || "reverseInAction" == b) && (n = -1), d) {
							var o = d[0] * n,
								p = d[1] * n,
								q = d[2];
							i.set("position", [o, p, q]), m.set("position", [o, p, q]), k.set("position", [-o, -p, q]), l.set("position", [-o, -p, q])
						}
						if (f) {
							var r = f[0] * n,
								s = f[1] * n,
								t = f[2] * n;
							i.set("skew", [r, s, t]), m.set("skew", [r, s, t]), k.set("skew", [-r, -s, -t]), l.set("skew", [-r, -s, -t])
						}
						if (g) {
							var u = g[0] * n,
								v = g[1] * n,
								w = g[2] * n;
							i.set("rotate", [u, v, w]), m.set("rotate", [u, v, w]), k.set("rotate", [-u, -v, -w]), l.set("rotate", [-u, -v, -w])
						}
						return {
							orderInAction: i,
							orderOutAction: k,
							reverseInAction: l,
							reverseOutAction: m
						}
					},
					_applyTo: function(a) {
						var b = this.$el.find("[name=sceneStatus]").val(),
							c = this._scene.get(b);
						if (!c) return void(1 === a ? (this._scene.unset("orderOutAction"), this._scene.unset("reverseInAction"), this._scene.unset("reverseOutAction")) : 2 === a ? this._viewport.get("slides").forEach(function(a) {
							a.unset(b)
						}) : 3 === a && this._viewport.get("slides").forEach(function(a) {
							a.unset("orderInAction"), a.unset("orderOutAction"), a.unset("reverseInAction"), a.unset("reverseOutAction")
						}));
						if (c instanceof j || (c = new j(c)), 2 === a) return void this._viewport.get("slides").forEach(function(a) {
							a.set(b, c.clone(!0))
						});
						var d = this._getAllStatus(c, b);
						return 1 === a ? (this._scene.set("orderInAction", d.orderInAction.clone(!0)), this._scene.set("orderOutAction", d.orderOutAction.clone(!0)), this._scene.set("reverseInAction", d.reverseInAction.clone(!0)), void this._scene.set("reverseOutAction", d.reverseOutAction.clone(!0))) : void(3 === a && this._viewport.get("slides").forEach(function(a) {
							a.set("orderInAction", d.orderInAction.clone(!0)), a.set("orderOutAction", d.orderOutAction.clone(!0)), a.set("reverseInAction", d.reverseInAction.clone(!0)), a.set("reverseOutAction", d.reverseOutAction.clone(!0))
						}))
					},
					_applyToStatus: function() {
						return this._applyTo(1), !1
					},
					_applyToScene: function() {
						return this._applyTo(2), !1
					},
					_applyToAll: function() {
						return this._applyTo(3), !1
					},
					_onOpacityChanged: function() {
						this.$el.find(".opacity-info").text(this.$el.find("[name=opacity]").val())
					},
					_onSceneStatusChange: function() {
						var a = this.$el.find("[name=sceneStatus]").val(),
							b = this._scene.get(a);
						b instanceof j || (b = new j(b)), this.$el.find("[name=opacity]").val(100 * this._getValue(b, "opacity", a)), this._onOpacityChanged();
						var c = this._getValue(b, "position", a);
						this.$el.find("[name=positionX]").val(c[0]), this.$el.find("[name=positionY]").val(c[1]), this.$el.find("[name=positionZ]").val(c[2]);
						var d = this._getValue(b, "scale", a);
						this.$el.find("[name=scaleX]").val(d[0]), this.$el.find("[name=scaleY]").val(d[1]), this.$el.find("[name=scaleZ]").val(d[2]);
						var e = this._getValue(b, "rotate", a);
						this.$el.find("[name=rotateX]").val(e[0]), this.$el.find("[name=rotateY]").val(e[1]), this.$el.find("[name=rotateZ]").val(e[2]);
						var f = this._getValue(b, "skew", a);
						this.$el.find("[name=skewX]").val(f[0]), this.$el.find("[name=skewY]").val(f[1]), this.$el.find("[name=skewZ]").val(f[2]);
						var g = this._getValue(b, "transition", a);
						this.$el.find("[name=duration]").val(1e3 * g[0]), this.$el.find("[name=easing]").val(g[1]), this.$el.find("[name=delay]").val(1e3 * g[2])
					},
					_onInputChange: function(a) {
						var b = $(a.target),
							c = b.attr("name"),
							d = b.val();
						"easing" != c && (d = Number(d) || 0);
						var e = this.$el.find("[name=sceneStatus]").val(),
							f = this._scene.get(e);
						f instanceof j || this._scene.set(e, f = new j(f)), "opacity" == c ? f.set("opacity", d / 100) : "positionX" == c || "positionY" == c || "positionZ" == c ? f.set("position", this._xyz2123(c, d, this._getValue(f, "position", e))) : "scaleX" == c || "scaleY" == c || "scaleZ" == c ? f.set("scale", this._xyz2123(c, d, this._getValue(f, "scale", e))) : "rotateX" == c || "rotateY" == c || "rotateZ" == c ? f.set("rotate", this._xyz2123(c, d, this._getValue(f, "rotate", e))) : "skewX" == c || "skewY" == c || "skewZ" == c ? f.set("skew", this._xyz2123(c, d, this._getValue(f, "skew", e))) : ("duration" == c || "delay" == c || "easing" == c) && ("easing" != c && (d /= 1e3), f.set("transition", this._xyz2123(c, d, this._getValue(f, "transition", e))))
					},
					show: function(a, b) {
						this._scene = a, this._viewport = b, this.$el.show(), this.$el.find("[name=sceneStatus]").trigger("change")
					},
					hide: function() {
						this._scene = null, this._viewport = null, this.$el.hide()
					},
					render: function() {
						return this.$el.html(JST["strut.action_editor/scene_editor"](f)), this.hide(), this
					}
				})
			}
		}), define("strut/action_editor/view/ActionEditor", ["require", "exports", "module", "css!styles/action_editor/style.css", "common/Math2", "strut/action_editor/util/mix", "libs/backbone", "strut/action_editor/model/DefaultAction", "tantaman/web/undo_support/CmdListFactory", "strut/deck/ComponentCommands", "strut/action_editor/view/SceneEditor"], function(a, b, c) {
			a("css!styles/action_editor/style.css"); {
				var d = a("common/Math2"),
					e = a("strut/action_editor/util/mix"),
					f = a("libs/backbone"),
					g = a("strut/action_editor/model/DefaultAction"),
					h = a("tantaman/web/undo_support/CmdListFactory").managedInstance("editor"),
					i = a("strut/deck/ComponentCommands"),
					j = a("strut/action_editor/view/SceneEditor"),
					k = g.data,
					l = g.keys,
					m = /(skew|rotate)/i,
					n = /scale(X|Y|Z)/i,
					o = /origin/i;
				c.exports = f.View.extend({
					className: "slideAction",
					events: {
						"change input:not([excluded])": "_onInputValueChanged",
						"change [name=bgColorDisable]": "_onBgColorDisableChanged",
						"click .z-order-inc": "_onZOrderIncClick",
						"click .z-order-dec": "_onZOrderDecClick",
						"change [name=opacity]": "_onOpacityChanged",
						"input [name=opacity]": "_onOpacityChanged"
					},
					_deck: null,
					_activeSlide: null,
					_activeComponents: null,
					_triggerByView: {
						byView: !0
					},
					_scaleRuleEnable: !1,
					_playStatusEnable: !1,
					_playBackgroundEnable: !1,
					_activeCompChangeTimer: null,
					initialize: function(a) {
						if (!(this._editorModel = a.editorModel)) throw "no model in action editor";
						this._sceneEditor = new j, this._activeComponents = [], this._deck = this._editorModel.deck(), this._activeSlide = this._deck.get("activeSlide"), this._activeSlide && this._onActiveSlideChanged(this._deck, this._activeSlide), this._deck.on("change:activeSlide", this._onActiveSlideChanged, this), this._deck.on("change:scaleRule", this._onDeckScaleRuleChanged, this)
					},
					_onBgColorDisableChanged: function(a, b) {
						var c = this.$el.find("[name=bgColorDisable]").prop("checked"),
							d = this.$el.find("[name=bgColor]");
						c ? (d.val("none"), d.prop("disabled", !0), !b && this._setCommonValue("bgColor", 0, !0)) : d.prop("disabled", !1)
					},
					_onOpacityChanged: function() {
						this.$el.find(".opacity-info").text(this.$el.find("[name=opacity]").val())
					},
					_onActiveSlideChanged: function(a, b) {
						this._activeSlide && (this._unbindComponent(), this._activeSlide.off(null, null, this)), this._activeSlide = b, this._activeSlide && (this._onActiveComponentsChanged(b), this._activeSlide.on("change:hasAction", this._onActiveComponentsChanged, this))
					},
					_onActiveComponentsChanged: function(a, b) {
						var c = this;
						c._unbindComponent();
						var d = a.selected || [],
							e = !!d.length;
						return e && d.forEach(function(a) {
							return a.get("disabled") ? e = !1 : void 0
						}), e ? (c._activeComponents = d, c.show(), c._onActiveCompDataChanged(b), void c._activeComponents.forEach(function(a) {
							a.on("change", c._onActiveCompDataChanged, c)
						})) : void c.hide()
					},
					_onHasActionChanged: function(a, b) {
						b.hasAction ? this.show() : this.hide()
					},
					_onInputValueChanged: function(a) {
						var b = a.target,
							c = b.id || b.name,
							f = b.value,
							g = this.$el.find("[name=" + c + "]");
						if (n.test(c)) {
							if (0 == f) return void g.val(this._getCommonValue(c) || 1)
						} else if (o.test(c)) {
							if (0 > f || f > 1) return void g.val(this._getCommonValue(c) || .5)
						} else m.test(c) ? f = d.toRads(f) : b.type && "checkbox" == b.type.toLowerCase() && (f = this.$el.find(b).prop("checked"));
						var j = e.upFirst(c),
							k = this;
						this._activeComponents.forEach(function(a) {
							var b = a.get(c);
							a.set(c, f, k._triggerByView), i[j] && h.push(new i[j](b, a)), a.trigger("changedByView", a)
						})
					},
					_onZOrderIncClick: function() {
						var a = this._activeComponents[0].get("zOrder"),
							b = a + 1;
						this._activeSlide.compOrderMoveTo(a, b)
					},
					_onZOrderDecClick: function() {
						var a = this._activeComponents[0].get("zOrder"),
							b = a - 1;
						this._activeSlide.compOrderMoveTo(a, b)
					},
					_onActiveCompDataChanged: function(a, b) {
						if (!b || (!b.byView || b.byAction) && this._activeComponents.length) {
							var c = b && !b.byAction ? b.changes : l;
							1 == c.length && "selected" == c[0] && (c = l);
							for (var e = 0, f = c.length; f > e; e++) {
								var g = c[e];
								if (void 0 != k[g]) {
									var h = this._getCommonValue(g),
										i = this.$el.find("[name=" + g + "]");
									if (h !== !1) m.test(g) && (h = parseInt(d.toDeg(h))), this.$el.find("[name=" + g + "]").val(h), "opacity" == g && this._onOpacityChanged();
									else switch (g) {
										case "opacity":
											i.val(0), this.$el.find(".opacity-info").text("m");
											break;
										case "bgColor":
											this.$el.find("[name=bgColorDisable]").prop("checked", !0), this._onBgColorDisableChanged(null, !0);
											break;
										default:
											i.val("")
									}
								}
							}
							this._setRadioValue("scaleRule", 1), this._playStatusEnable && (this._setRadioValue("playStatus", 3), this._setCheckboxValue("playLoop", !1), this._playBackgroundEnable && this._setCheckboxValue("playBackground", !1))
						}
					},
					_setRadioValue: function(a, b) {
						var c = this._getCommonValue(a),
							d = this.$el.find("[name=" + a + "]");
						this._activeComponents.length <= 1 || c !== !1 ? (c = c || b, d.eq(c - 1).prop("checked", !0)) : d.prop("checked", !1)
					},
					_setCheckboxValue: function(a, b) {
						var c = this._getCommonValue(a),
							d = this.$el.find("[name=" + a + "]");
						this._activeComponents.length <= 1 || c !== !1 ? (c = c || b, d.prop("disabled", !1), d.prop("checked", c)) : d.prop("disabled", !0)
					},
					_unbindComponent: function() {
						var a = this;
						this._activeComponents.forEach(function(b) {
							b.off(null, null, a)
						}), this._activeComponents = []
					},
					_getCommonValue: function(a) {
						var b = !1;
						return this._activeComponents.forEach(function(c, d) {
							var e = c.attributes,
								f = void 0 == e[a] ? k[a] : e[a];
							return 0 == d ? void(b = f) : b != f ? b = !1 : void 0
						}), b
					},
					_setCommonValue: function(a, b, c) {
						var d = this;
						this._activeComponents.forEach(function(e) {
							e.set(a, b, c ? null : d._triggerByView)
						})
					},
					_onDeckScaleRuleChanged: function() {
						var a = !1,
							b = 3 != this._deck.get("scaleRule");
						this._activeComponents.forEach(function(c) {
							var d = c.get("type");
							return "Audio" == d || "Video" == d || "WebFrame" == d || "TextBox" == d && b ? (a = !0, !1) : void 0
						});
						var c = this.$el.find(".section-scale-rules");
						a ? c.hide() : c.show()
					},
					render: function() {
						this.$el.html(JST["strut.action_editor/action_editor"]()), this.hide(!0);
						var a = this;
						return setTimeout(function() {
							a.$el.after(a._sceneEditor.render().$el)
						}, 0), this
					},
					show: function() {
						this.$el.show(), this._sceneEditor.hide(), this.$el.find("input, button").prop("disabled", !1);
						var a = !1,
							b = !0,
							c = !1;
						this._activeComponents.forEach(function(d) {
							var e = d.get("type");
							return "Audio" != e && (c = !0) && "Video" != e && (b = !1, "TextBox" == e) ? (a = !0, !1) : void 0
						}), this._onDeckScaleRuleChanged(), this._activeComponents.length > 1 && (this.$el.find(".z-order-inc").prop("disabled", !0), this.$el.find(".z-order-dec").prop("disabled", !0));
						var d = this.$el.find(".section-play-status"),
							e = this.$el.find(".section-play-property");
						this._playStatusEnable = !0, b ? (d.show(), e.show(), c ? (this._playBackgroundEnable = !1, this.$el.find("[name=playBackground]").prop("disabled", !0)) : this._playStatusEnable = !0) : (d.hide(), e.hide(), this._playBackgroundEnable = !1), a && this.$el.find("[name=sizeX], [name=sizeY]").prop("disabled", !0)
					},
					hide: function() {
						this.$el.hide(), this._sceneEditor.show(this._activeSlide, this._deck), this.$el.find("input").prop("disabled", !0), this.$el.find("input:not([type=radio])").val(0), this.$el.find("[name=bgColorDisable]").prop("checked", !1), this.$el.find("button").prop("disabled", !0), this.$el.find("output").val(0), this.$el.find(".section-play-status").hide(), this.$el.find(".section-play-property").hide(), this._playStatusEnable = !1, this._playBackgroundEnable = !0
					},
					dispose: function() {
						this._unbindComponent(), this._activeSlide && this._activeSlide.off(null, null, this), this._deck.off(null, null, this)
					}
				})
			}
		}), define("strut/action_editor/util/editable", ["require", "exports", "module", "css!styles/action_editor/editable.css", "strut/action_editor/util/tooltip", "jquery"], function(a) {
			a("css!styles/action_editor/editable.css"), a("strut/action_editor/util/tooltip");
			var b = a("jquery"),
				c = function() {
					return !0
				},
				d = !0,
				e = "unkown",
				f = ".input-name",
				g = "warning",
				h = "error-msg",
				i = "erquan_editing",
				j = '<input type="text" class="erquan_editable_input" value="" />',
				k = null,
				l = null,
				m = function() {
					d = !0, l.hidetooltip(), k.remove(), l.parent().data(i, !1), k = null, l = null
				};
			b.fn.editable = function(a) {
				if ("hide" == a) return !d && m();
				if (d) {
					d = !1;
					var n = this.parent();
					n.data(i, !0);
					var o = l = this,
						p = k = b(j);
					a = a || c, n.css("position", "relative"), n.find(f).remove(), p.val(this.text()), p.on("focus", function() {
						var a = p.data(h);
						return a ? void o.tooltip(a) : void p.removeClass(g)
					}), p.on("blur", function() {
						if (!d) {
							var b = p.val(),
								c = a(b);
							if (c === !0) return void(d || (o.text(p.val()), m()));
							var c = c || e,
								f = p.data(h);
							p.data(h, c), p.addClass(g), p.focus(), c != f && n.tooltip(c)
						}
					}), p.on("keydown", function(a) {
						13 == a.keyCode && p.blur()
					}), n.append(p), p.focus(), p.select()
				}
			}
		}), define("strut/action_editor/view/DropDownMenu", ["require", "exports", "module", "libs/backbone"], function(a, b, c) {
			{
				var d = a("libs/backbone");
				$(window)
			}
			c.exports = d.View.extend({
				_related: null,
				_model: null,
				_shown: !1,
				_deltaX: 0,
				_deltaY: 0,
				_direction: 0,
				className: "erquan_drop_down_menu",
				initialize: function(a) {
					a && (this._deck = a.deck);
					var b = this;
					$(window).bind("resize", function() {
						b._shown && b._reLoc()
					})
				},
				_reLoc: function() {
					var a = this._related.offset(),
						b = this.$el.width(),
						c = this.$el.height(),
						d = this._related.width(),
						e = this._related.height(),
						f = 0,
						g = 0;
					switch (this._direction) {
						case 1:
							f = a.left + d + this._deltaX, g = a.top - c / 2 + e / 2;
							break;
						case 2:
							f = a.left - b / 2 + d / 2, g = a.top + e + this._deltaY;
							break;
						case 3:
							f = a.left - b - this._deltaX, g = a.top - c / 2 + e / 2;
							break;
						case 0:
							f = a.left - b / 2 + d / 2, g = a.top - c - this._deltaY
					}
					this.$el.css({
						left: f,
						top: g,
						visibility: "visible"
					})
				},
				_reSet: function() {},
				render: function() {
					$("body").append(this.$el)
				},
				show: function(a, b) {
					return a && b ? (this._model = a, this._related = b, this._shown = !0, this._reSet(), this.$el.css({
						visibility: "hidden",
						display: "block"
					}), void this._reLoc()) : void console.error("unkown model or related for transition editor show")
				},
				hide: function() {
					this._shown = !1, this.$el.hide()
				}
			}), c.exports.getVal = function(a) {
				return $(a).val()
			}
		}), define("strut/action_editor/view/NodeAdvanced", ["require", "exports", "module", "strut/action_editor/view/DropDownMenu", "strut/action_editor/view/EventPannel", "tantaman/web/widgets/ItemImportModal"], function(a, b, c) {
			var d = a("strut/action_editor/view/DropDownMenu"),
				e = a("strut/action_editor/view/EventPannel"),
				f = a("tantaman/web/widgets/ItemImportModal"),
				g = JST["strut.action_editor/node_advanced"],
				h = null;
			c.exports = d.extend({
				_direction: 0,
				_deltaY: 30,
				_editorModel: null,
				id: "node_advanced",
				events: {
					"click .btn-cog-event": "_onEventConfigBtnClicked",
					"click .btn-replace-source": "_onReplaceSourceBtnClicked",
					"change #image-recognizable": "_onImageRecognizableChanged"
				},
				initialize: function(a) {
					d.prototype.initialize.call(this, a), a && (this._editorModel = a.editorModel), this._modal = f.get(this.options), this._itemImported = this._itemImported.bind(this)
				},
				_itemImported: function(a) {
					this._model.uri = a, this._model.trigger("change:uri", this._model, a), this._model.set("src", a)
				},
				_onEventConfigBtnClicked: function() {
					return h || (h = e.getInstance({
						deck: this._deck
					})), h.show(this._model), !1
				},
				_onReplaceSourceBtnClicked: function() {
					return this._modal.show(this._itemImported), !1
				},
				_onImageRecognizableChanged: function() {
					this.$el.find("#image-recognizable").prop("checked") ? this._model.set("recognizable", !0) : this._model.unset("recognizable")
				},
				show: function(a, b) {
					var c = a.get("type"),
						e = this.$el.find(".image-recognizable-wrap");
					"Image" == c ? (e.show(), this.$el.find("#image-recognizable").prop("checked", a.get("recognizable") ? !0 : !1)) : e.hide();
					var g = this.$el.find(".replace-resource");
					if ("TextBox" == c) return g.hide(), void d.prototype.show.call(this, a, b);
					g.show();
					var h = "",
						i = !1,
						j = function() {
							return !1
						},
						k = !0;
					switch (c) {
						case "Video":
							h = "video";
							break;
						case "Audio":
							h = "audio";
							break;
						case "Image":
							h = "img";
							break;
						case "WebFrame":
							h = "iframe", k = !1, j = null, i = void 0
					}
					this._modal = f.get({
						tag: h,
						editorModel: this._editorModel,
						ignoreErrors: i,
						hasStorage: j,
						browsable: k
					}), d.prototype.show.call(this, a, b)
				},
				render: function() {
					d.prototype.render.call(this), this.$el.html(g())
				}
			})
		}), define("strut/action_editor/view/ActionAdvanced", ["require", "exports", "module", "strut/action_editor/view/DropDownMenu", "strut/action_editor/util/CSSEaseCMDBuilder"], function(a, b, c) {
			var d = a("strut/action_editor/view/DropDownMenu"),
				e = a("strut/action_editor/util/CSSEaseCMDBuilder").keys(),
				f = JST["strut.action_editor/action_advanced"];
			c.exports = d.extend({
				_direction: 0,
				_deltaY: 30,
				id: "action_advanced",
				events: {
					"change [name=ts_playtime]": "_onPlayTimeChanged",
					"change [name=ts_easing]": "_onEasingChanged",
					"change [name=ts_delay]": "_onDelayTimeChanged"
				},
				_onPlayTimeChanged: function(a) {
					var b = d.getVal(a.target);
					this._model.attributes.transition[0] = b
				},
				_onEasingChanged: function(a) {
					var b = d.getVal(a.target);
					this._model.attributes.transition[1] = b
				},
				_onDelayTimeChanged: function(a) {
					var b = d.getVal(a.target);
					this._model.attributes.transition[2] = b
				},
				_reSet: function() {
					var a = this._model.attributes.transition,
						b = a[0],
						c = a[1],
						d = a[2];
					this.$el.find("[name=ts_playtime]").val(b), this.$el.find("[name=ts_easing]").val(c), this.$el.find("[name=ts_delay]").val(d)
				},
				render: function() {
					d.prototype.render.call(this), this.$el.html(f(e))
				}
			})
		}), define("strut/action_editor/view/StepAdvanced", ["require", "exports", "module", "strut/action_editor/view/DropDownMenu", "strut/action_editor/view/EventPannel"], function(a, b, c) {
			var d = a("strut/action_editor/view/DropDownMenu"),
				e = a("strut/action_editor/view/EventPannel"),
				f = JST["strut.action_editor/step_advanced"],
				g = null;
			c.exports = d.extend({
				_direction: 0,
				_deltaY: 30,
				id: "step_advanced",
				events: {
					"change [name=sp_play_end_paused]": "_onStepPlayEndPausedChanged",
					"click .btn-cog-event": "_onEventConfigBtnClicked"
				},
				_onStepPlayEndPausedChanged: function(a) {
					var b = d.getVal(a.target);
					this._model.set("playEndPaused", !!parseInt(b), {
						silent: !0
					})
				},
				_onEventConfigBtnClicked: function() {
					return g || (g = e.getInstance({
						deck: this._deck
					})), g.show(this._model), !1
				},
				_reSet: function() {
					var a = this._model.get("playEndPaused"),
						b = this.$el.find("[name=sp_play_end_paused]");
					b.prop("checked", !1), b.eq(a ? 0 : 1).prop("checked", !0)
				},
				render: function() {
					d.prototype.render.call(this), this.$el.html(f())
				}
			})
		}), define("strut/action_editor/view/StepListAdvanced", ["require", "exports", "module", "strut/action_editor/view/DropDownMenu"], function(a, b, c) {
			var d = a("strut/action_editor/view/DropDownMenu"),
				e = JST["strut.action_editor/step_list_advanced"];
			c.exports = d.extend({
				_direction: 0,
				_deltaY: 30,
				_ajpGroupElm: null,
				id: "step_list_advanced",
				events: {
					"change [name=spl_loop]": "_onStepListLoopChanged"
				},
				_onStepListLoopChanged: function(a) {
					var b = d.getVal(a.target),
						c = !!parseInt(b);
					this._model.set("loop", c)
				},
				_reSet: function() {
					var a = this._model.get("loop"),
						b = this.$el.find("[name=spl_loop]");
					b.prop("checked", !1), b.eq(a ? 0 : 1).prop("checked", !0)
				},
				render: function() {
					d.prototype.render.call(this), this.$el.html(e())
				}
			})
		}), define("strut/action_editor/view/SceneAdvanced", ["require", "exports", "module", "strut/action_editor/view/DropDownMenu", "strut/action_editor/view/EventPannel", "tantaman/web/widgets/ItemImportModal"], function(a, b, c) {
			var d = a("strut/action_editor/view/DropDownMenu"),
				e = a("strut/action_editor/view/EventPannel"),
				f = a("tantaman/web/widgets/ItemImportModal"),
				g = JST["strut.action_editor/scene_advanced"],
				h = null;
			c.exports = d.extend({
				_direction: 0,
				_deltaY: 30,
				id: "scene_advanced",
				events: {
					"click .scene-event-wrap .btn-cog-event": "_onSceneEventConfigBtnClicked",
					"change [name=play_control]": "_onPlayControlChanged",
					"change .input-bg-color": "_onBgColorchanged",
					"click .btn-clear-bg-color": "_onBtnclearBgColorClick",
					"click .btn-set-bg-image": "_onBtnSetBgImageClick",
					"click .btn-clear-bg-image": "_onBtnClearBgImageClick"
				},
				initialize: function(a) {
					d.prototype.initialize.apply(this, arguments), this._editorModel = a.editorModel, this._deck.on("change:playControl", this._onDeckPlayControlChanged, this), this._deck.on("change:activeSlide", this._onActiveSlideChanged, this), this._onDeckPlayControlChanged()
				},
				_onActiveSlideChanged: function() {
					this._onDeckBgColorChanged()
				},
				_onSceneEventConfigBtnClicked: function() {
					return h || (h = e.getInstance({
						deck: this._deck
					})), h.show(this._model), !1
				},
				_onPlayControlChanged: function(a) {
					var b = $(a.target).val(),
						c = this._deck.get("activeSlide");
					c.set("playControl", !!parseInt(b), {
						silent: !0
					})
				},
				_onDeckPlayControlChanged: function() {
					var a = this._deck.get("playControl");
					if (!a) {
						var b = this._deck.get("slides") || [];
						b.forEach(function(a) {
							a.set("playControl", !1)
						})
					}
					this._onModelPlayControlChanged()
				},
				_onModelPlayControlChanged: function() {
					var a = this._deck.get("activeSlide");
					if (a) {
						var b = this._deck.get("playControl"),
							c = b ? a.get("playControl") : !1,
							d = this.$el.find("[name=play_control]");
						d.prop("checked", !1), d.eq(c ? 0 : 1).prop("checked", !0), b ? d.prop("disabled", !1) : d.prop("disabled", !0)
					}
				},
				_onBgColorchanged: function() {
					var a = this._deck.get("activeSlide");
					if (a) {
						var b = this.$el.find(".input-bg-color").val();
						return a.set("bgColor", b), !1
					}
				},
				_onBtnclearBgColorClick: function() {
					var a = this._deck.get("activeSlide");
					if (a) return a.set("bgColor", null), !1
				},
				_onBtnSetBgImageClick: function() {
					var a = this._deck.get("activeSlide");
					if (a) return this._modal.show(function(b) {
						a.set("bgImage", b)
					}), !1
				},
				_onBtnClearBgImageClick: function() {
					var a = this._deck.get("activeSlide");
					if (a) return a.set("bgImage", null), !1
				},
				_onDeckBgColorChanged: function() {
					var a = this._deck.get("activeSlide");
					a && this.$el.find(".input-bg-color").val(a.get("bgColor") || "#ffffff")
				},
				show: function() {
					this._onModelPlayControlChanged(), d.prototype.show.apply(this, arguments)
				},
				render: function() {
					d.prototype.render.call(this), this.$el.html(g()), this._modal = f.get({
						tag: "img",
						editorModel: this._editorModel,
						ignoreErrors: !1,
						hasStorage: function() {
							return !1
						},
						browsable: !0
					})
				}
			})
		}), define("strut/action_editor/view/StepListEditor", ["require", "exports", "module", "strut/action_editor/util/editable", "lodash", "libs/backbone", "strut/action_editor/model/Step", "strut/action_editor/model/StepList", "strut/action_editor/util/mix", "strut/editor/GlobalEvents", "strut/action_editor/model/DefaultAction", "strut/action_editor/view/NodeAdvanced", "strut/action_editor/view/ActionAdvanced", "strut/action_editor/view/StepAdvanced", "strut/action_editor/view/StepListAdvanced", "strut/action_editor/view/SceneAdvanced", "tantaman/web/undo_support/CmdListFactory"], function(a, b, c) {
			a("strut/action_editor/util/editable"); {
				var d = a("lodash"),
					e = a("libs/backbone"),
					f = a("strut/action_editor/model/Step"),
					g = a("strut/action_editor/model/StepList"),
					h = a("strut/action_editor/util/mix"),
					i = a("strut/editor/GlobalEvents"),
					j = (a("strut/action_editor/model/DefaultAction").keys, a("strut/action_editor/view/NodeAdvanced")),
					k = a("strut/action_editor/view/ActionAdvanced"),
					l = a("strut/action_editor/view/StepAdvanced"),
					m = a("strut/action_editor/view/StepListAdvanced"),
					n = a("strut/action_editor/view/SceneAdvanced"),
					o = a("tantaman/web/undo_support/CmdListFactory"),
					p = o.managedInstance("editor"),
					q = JST["strut.action_editor/step_list_collection"],
					r = JST["strut.action_editor/step_list_hd"],
					s = JST["strut.action_editor/step_list_cnt"],
					t = JST["strut.action_editor/step"],
					u = JST["strut.action_editor/action_wrap"],
					v = JST["strut.action_editor/hold_wrap"],
					w = JST["strut.action_editor/node_wrap"];
				c.exports = e.View.extend({
					_activeActionSlide: null,
					_activeStepList: null,
					_activeStep: null,
					_activeAction: null,
					_scroller: null,
					_activeComps: null,
					_stepListCollectionHd: null,
					_stepListCollectionCnt: null,
					_stepCntList: null,
					_stepCntNode: null,
					_triggerByAction: {
						byView: !0,
						byAction: !0
					},
					_actionCfgClicked: !1,
					_reposInterval: 50,
					_activeCompChangeTimer: null,
					_clearing: !1,
					id: "step_list_collection",
					events: {
						"click #step_list_collection_cog>.icon-plus-sign": "_onAddStepListBtnClick",
						"click .step_hd_action .icon-plus-sign": "_onAddStepBtnClick",
						"click .step_hd_node .icon-plus-sign": "_onAddAnimBtnClick",
						"dblclick #step_list_collection_hd .icon-remove": "_onStepListRemoveClick",
						"dblclick .step_hd_action .icon-remove": "_onStepRemoveClick",
						"dblclick .action_wrap .icon-remove": "_onActionRemoveClick",
						"dblclick .node_wrap .icon-remove": "_onNodeRemoveClick",
						"click #step_list_collection_hd .icon-remove": "_preventDefaultFunc",
						"click .step_hd_action .icon-remove": "_preventDefaultFunc",
						"click .action_wrap .icon-remove": "_preventDefaultFunc",
						"click .node_wrap .icon-remove": "_preventDefaultFunc",
						"click .step_list_hd_btn": "_onStepListSelectClick",
						"click .step_hd_action": "_onStepSelectClick",
						"click .action_wrap, .hold_wrap": "_onActionSelectClick",
						"click .node_wrap": "_onNodeSelectClick",
						"click .node_wrap .icon-lock": "_onNodeLockClick",
						"click .node_wrap .icon-visible": "_onNodeVisibleClick",
						"click .node_wrap .icon-cog": "_onNodeConfigClick",
						"click .action_wrap .icon-cog": "_onActionConfigClick",
						"click .step_hd_action .icon-cog": "_onStepConfigClick",
						"click #step_list_collection_hd .icon-cog": "_onStepListConfigClick",
						"click #step_list_collection_cog>.icon-cog": "_onSceneConfigClick",
						"dblclick .node_wrap .content": "_onNodeWrapContentClick",
						"dblclick .editable_action .content": "_onEditableActionClick",
						"dblclick .editable_step .content": "_onStepHdContentClick",
						"dblclick .editable_steplist .step_list_hd_btn": "_onStepListHdContentClick",
						"click :not(.icon-cog)": "onNotCogClick"
					},
					initialize: function(a) {
						this._activeComps = [], this._deck = a.deck, this.$el.html(q()), this._stepListCollectionHd = this.$el.find("#step_list_collection_hd"), this._stepListCollectionCnt = this.$el.find("#step_list_collection_cnt");
						var a = {
							deck: this._deck,
							editorModel: a.editorModel
						};
						this._nodeAdvanced = new j(a), this._actionAdvanced = new k(a), this._stepAdvanced = new l(a), this._stepListAdvanced = new m(a), this._sceneAdvanced = new n(a)
					},
					_preventDefaultFunc: function() {
						return !1
					},
					_updateListenerHookName: function(a, b, c) {
						var d = a.get("listeners");
						d && Object.keys(d).forEach(function(a) {
							var e = d[a];
							e && e.length && e.forEach(function(a) {
								a.targetId == b && (a.targetName = c)
							})
						})
					},
					_removeListenerHook: function(a, b) {
						var c = a.get("listeners");
						c && Object.keys(c).forEach(function(a) {
							var d = c[a];
							d && d.length && (c[a] = d.filter(function(a) {
								return a.targetId != b ? !0 : void 0
							}))
						})
					},
					_syncHooks: function(a, b) {
						a.unshift(null);
						var c = this;
						a[0] = this._activeSlide, b.apply(c, a), this._activeSlide.get("components").forEach(function(d) {
							a[0] = d, b.apply(c, a)
						}), this._activeActionSlide.getStepLists().forEach(function(d) {
							d.getSteps().forEach(function(d) {
								a[0] = d, b.apply(c, a)
							})
						})
					},
					_syncHooksUpdateName: function(a, b) {
						this._syncHooks([a, b], this._updateListenerHookName)
					},
					_syncHooksRemove: function(a) {
						this._syncHooks([a], this._removeListenerHook)
					},
					onNotCogClick: function() {
						this._nodeAdvanced.hide(), this._actionAdvanced.hide(), this._stepAdvanced.hide(), this._stepListAdvanced.hide(), this._sceneAdvanced.hide()
					},
					_onAddStepListBtnClick: function() {
						this._activeActionSlide.addStepList({
							name: "c-steplist-" + h.getRandomLetter().join("-") + "_" + this._activeActionSlide.stepListCount++
						})
					},
					_onAddStepBtnClick: function(a) {
						return this._activeActionSlide.addStep({
							name: "c-step-" + h.getRandomLetter().join("-") + "_" + this._activeActionSlide.stepCount++
						}, $(a.currentTarget).closest("td").attr("data-step_id")), this._activeActionSlide.initStep(), this._onActiveComponentsChanged(), !1
					},
					_onAddAnimBtnClick: function() {
						var a = this;
						p.record(function() {
							a._activeComps.forEach(function(b) {
								var c = b.get("id"),
									d = a._activeStep.getActionByTarget(c);
								d || (a._activeActionSlide.addInitAction({
									target: b.get("id"),
									name: "\u521d\u59cb\u5316"
								}), a._onActiveCompActionChanged(b))
							}), a._onActiveComponentsChanged()
						})
					},
					_onStepListRemoveClick: function(a) {
						var b = $(a.target).closest(".step_list_hd").attr("data-step_list_id");
						return this._activeActionSlide.removeStepList(b), !1
					},
					_onStepRemoveClick: function(a) {
						var b = $(a.target).closest("td").attr("data-step_id");
						return this._activeActionSlide.removeStep(b), !1
					},
					_onActionRemoveClick: function(a) {
						var b = $(a.target),
							c = b.parent().attr("data-action_id"),
							d = b.closest("td").attr("data-step_id");
						return this._activeActionSlide.activeAction(c, d, null, !0), !1
					},
					_onNodeRemoveClick: function(a) {
						var b = $(a.target).parent(),
							c = b.attr("data-node_id"),
							d = this._activeSlide.getCompByNodeId(c);
						return d ? (this._activeStepList.get("type") == g.TYPE_SYS ? this._activeSlide.remove(d) : this._activeActionSlide.removeAllActionByTarget(c), !1) : b.tooltip("\u5220\u9664\u5931\u8d25\uff01")
					},
					_onStepListSelectClick: function(a) {
						var b = $(a.target).closest(".step_list_hd").attr("data-step_list_id");
						return this._activeActionSlide.selectStepList(b), !1
					},
					_onStepSelectClick: function(a) {
						var b = $(a.currentTarget).parent().attr("data-step_id");
						this._activeActionSlide.selectStep(b)
					},
					_onActionSelectClick: function(a) {
						var b = $(a.currentTarget),
							c = b.attr("data-action_id"),
							d = b.closest("td").attr("data-step_id"),
							e = this._activeActionSlide.selectStep(d),
							f = e.getActionById(c),
							g = this._activeSlide.getCompByNodeId(f.get("target"));
						return (i.pressed.ctrl || i.pressed.meta || i.pressed.shift) && g.get("selected") ? g.set("selected", !1) : g.set("selected", !0), !1
					},
					_onNodeSelectClick: function(a) {
						var b = $(a.currentTarget),
							c = b.attr("data-node_id"),
							d = this._activeSlide.getCompByNodeId(c);
						(i.pressed.ctrl || i.pressed.meta || i.pressed.shift) && d.get("selected") ? d.set("selected", !1) : d.set("selected", !0)
					},
					_onNodeWrapContentClick: function(a) {
						var b = $(a.currentTarget),
							c = this;
						b.editable(function(a) {
							var d = "";
							if (d = h.validateName(a)) return d;
							var e = b.parent().attr("data-node_id");
							if (d = c._activeSlide.validateCompName(e, a), d === !0) {
								var f = c._activeSlide.getCompByNodeId(e);
								if (f) return f.set("name", a), !0;
								d = "\u6ca1\u6709\u627e\u5230\u76f8\u5e94\u7ec4\u4ef6!"
							}
							return d
						})
					},
					_onEditableActionClick: function(a) {
						var b = $(a.currentTarget),
							c = this;
						b.editable(function(a) {
							var d = "";
							if (d = h.validateName(a)) return d;
							if ("\u53cc\u51fb\u6dfb\u52a0" == a) return !0;
							if (d = a ? !0 : "\u4e0d\u80fd\u4e3a\u7a7a", d === !0) {
								b = b.parent();
								var e = b.attr("data-action_id"),
									f = b.closest("td").attr("data-step_id");
								c._activeActionSlide.activeAction(e, f, a)
							}
							return d
						})
					},
					_onStepHdContentClick: function(a) {
						var b = $(a.currentTarget),
							c = this;
						b.editable(function(a) {
							var d = "";
							if (d = h.validateName(a)) return d;
							var e = b.closest("td").attr("data-step_id");
							return d = c._activeStepList.validateStepName(e, a), d === !0 && c._activeStep.set("name", a), d
						})
					},
					_onStepListHdContentClick: function(a) {
						var b = $(a.currentTarget),
							c = this;
						b.editable(function(a) {
							var d = "";
							if (d = h.validateName(a)) return d;
							var e = b.closest(".step_list_hd").attr("data-step_list_id"),
								d = c._activeActionSlide.validateStepListName(e, a);
							return d === !0 && (c._activeStepList.set("name", a), c._syncHooksUpdateName(e, a)), d
						})
					},
					_onNodeLockClick: function(a) {
						var b = this._activeSlide.getCompByNodeId($(a.target).parent().attr("data-node_id"));
						return b.get("locked") ? b.set("locked", !1) : (b.get("selected") && b.set("selected", !1), b.set("locked", !0)), this._onCompVisibleChanged(b), !1
					},
					_onNodeVisibleClick: function(a) {
						var b = this._activeSlide.getCompByNodeId($(a.target).parent().attr("data-node_id"));
						return b.get("visible") ? (b.get("selected") && b.set("selected", !1), b.set("visible", !1)) : b.set("visible", !0), this._onCompVisibleChanged(b), !1
					},
					_onNodeConfigClick: function(a) {
						var b = this;
						setTimeout(function() {
							var c = $(a.target).closest(".node_wrap").attr("data-node_id"),
								d = b._activeSlide.getCompByNodeId(c);
							b._nodeAdvanced.show(d, $(a.target))
						}, 10)
					},
					_onActionConfigClick: function(a) {
						var b = this;
						setTimeout(function() {
							var c = $(a.target).closest(".action_wrap").attr("data-action_id"),
								d = b._activeStep.getActionById(c);
							b._actionAdvanced.show(d, $(a.target))
						}, 10)
					},
					_onStepConfigClick: function(a) {
						var b = this;
						setTimeout(function() {
							b._rePosScroller(), b._stepAdvanced.show(b._activeStep, $(a.target))
						}, 10)
					},
					_onStepListConfigClick: function(a) {
						var b = this;
						setTimeout(function() {
							b._stepListAdvanced.show(b._activeStepList, $(a.target))
						}, 10), $(a.target).siblings().eq(0).trigger("click")
					},
					_onSceneConfigClick: function(a) {
						return this._sceneAdvanced.show(this._activeSlide, $(a.target)), !1
					},
					_onStepListAdded: function(a) {
						var b = a.get("id"),
							c = a.get("name"),
							d = a.get("disableRemove"),
							e = $(r({
								stepListId: b,
								stepListName: c,
								removeAble: !d
							})),
							f = $(s({
								stepListId: b
							})),
							g = this;
						f.sortable({
							items: "td:gt(1)",
							axis: "x",
							forceHelperSize: !0,
							forcePlaceholderSize: !0,
							scroll: !1,
							update: function(a, b) {
								var c = [];
								b.item.parent().children().map(function() {
									var a = $(this).attr("data-step_id");
									a && c.push(a)
								}), g._activeStepList.reOrder(c)
							}
						}), f.disableSelection(), this._stepListCollectionHd.append(e), this._stepListCollectionCnt.append(f), this._onStepListChanged(null, a, {
							silent: !0
						});
						var g = this;
						a.getSteps().forEach(function(a) {
							g._onStepAdded(a)
						})
					},
					_onStepAdded: function(a, b) {
						{
							var c = a.get("id"),
								d = a.get("name"),
								e = a.get("disableRemove"),
								f = $(t({
									removeAble: !e,
									id: c,
									name: d
								}));
							f.find(".step_cnt_action")
						}
						if (b) {
							var g = "[data-step_id=" + b + "]";
							this._stepCntList.find("td" + g).after(f)
						} else this._stepCntList.append(f);
						var h = a.getActions();
						if (h.length) {
							this._onStepChanged(null, a, {
								silent: !0
							});
							var i = this;
							h.forEach(function(a) {
								i._onActionAdded(a)
							})
						}
					},
					_onActionAdded: function(a) {
						var b = a.get("id"),
							c = a.get("name"),
							d = a.get("target"),
							e = a.get("disableRemove"),
							g = a.get("inherited"),
							h = this._activeStep.get("id"),
							i = this._activeStep.get("type") == f.TYPE_INIT,
							j = this._stepCntList.find("td[data-step_id=" + h + "] .step_cnt_action");
						if (i && !this._stepCntNode.find("[data-node_id=" + d + "]").length) {
							var k = this._activeSlide.getCompByNodeId(d),
								l = null,
								m = k && (l = k.get("name")) ? l : d;
							this._stepCntNode.append($(w({
								nodeId: d,
								nodeName: m
							}))), this._onCompVisibleChanged(k)
						}
						var n = (g ? v : u)({
							nodeId: d,
							actionId: b,
							actionName: c,
							removeAble: !e
						});
						j.append($(n))
					},
					_onStepListRemoved: function(a) {
						this.$el.find("li[data-step_list_id=" + a + "]").remove(), this._syncHooksRemove(a)
					},
					_onStepRemoved: function(a) {
						var b = "[data-step_id=" + a + "]";
						this._stepCntList.find("td" + b).remove()
					},
					_onActionRemoved: function(a) {
						this._stepCntList.find("[data-action_id=" + a + "]").remove()
					},
					_onActionRemovedByTarget: function(a) {
						this._stepCntList.find("[data-node_id=" + a + "]").remove()
					},
					_onSlideChanged: function() {
						var a = this;
						this._activeActionSlide.getStepLists().forEach(function(b) {
							a._onStepListAdded(b)
						}), this._onStepListChanged(null, this._activeActionSlide.get("currentStepList"))
					},
					_onStepListChanged: function(a, b, c) {
						var d = c && c.silent ? !0 : !1;
						if (!(d && b == this._activeStepList || (this._activeStep && (this._activeStep.off(null, null, this), this._activeStep = null), this._activeStepList && (this._activeStepList.off(null, null, this), this._activeStepList = null), this._activeStepList = b, c && c.onlyAdd || !this._activeStepList))) {
							b.on("change:currentStep", this._onStepChanged, this);
							var e = b.get("id"),
								f = this._currentStepListWrap = this._stepListCollectionCnt.find(">li[data-step_list_id=" + e + "]");
							this._stepCntList = f.find(".step_list"), this._stepCntNode = f.find(".step_cnt_node"), d || (this._stepListCollectionHd.find(">li").removeClass("active"), this._stepListCollectionHd.find(">li[data-step_list_id=" + e + "]").addClass("active"), this._stepListCollectionCnt.find(">li").removeClass("active"), f.addClass("active"), f.editable("hide"), this._onStepChanged(b, b.get("currentStep")))
						}
					},
					_onStepChanged: function(a, b, c) {
						var d = c && c.silent ? !0 : !1;
						if (!(b && b == this._activeStep || (this._activeStep && (this._activeStep.off(null, null, this), this._activeStep = null), this._activeStep = b, d || c && c.onlyAdd || !b))) {
							var e = b.get("id");
							this._stepCntList.find(".step_hd_action").removeClass("active");
							var f = this._stepCntList.find("td[data-step_id=" + e + "] .step_hd_action");
							f.addClass("active"), f.editable("hide"), this._applyCurrentStepAction(), this._onActiveComponentsChanged()
						}
					},
					_onActionChanged: function(a, b) {
						var c = b.get("id"),
							d = b.get("target"),
							e = this._activeSlide.getCompByNodeId(d);
						if (e && (!e.get("visible") || e.get("locked"))) return e.set("selected", !0), void e.set("selected", !1);
						e.set("disabled", b.get("inherited") ? !0 : !1, {
							silent: !0
						}), e.trigger("change:disabled"), this._activeSlide.trigger("change:hasAction", this._activeSlide, e);
						var f = this._stepCntList.find("[data-action_id=" + c + "]");
						if (f.length) {
							f.addClass("active"), f.editable("hide");
							var g = this._stepCntList.find(".node_wrap[data-node_id=" + d + "]");
							g && g.addClass("active"), this._rePosScroller(f)
						}
					},
					_applyCurrentStepAction: function() {
						var a = this._activeStepList.getNormalizedActionCollection(this._activeStep);
						if (!a || !a.length) return void console.warn("not has action list");
						var b = this;
						a.forEach(function(a) {
							var c = a.get("compAttrib");
							if (c) {
								delete c.zOrder, delete c.selected, delete c.disabled, delete c.uri, delete c.src;
								var d = b._activeSlide.getCompByNodeId(a.get("target"));
								d && d.set(c, b._triggerByAction)
							}
						})
					},
					_rePosScroller: function(a) {
						if (!this._scroller) {
							var b = this;
							this._scroller = this.$el.parent(), this._scroller.bind("scroll", function() {
								b._stepAdvanced.hide(), b._actionAdvanced.hide()
							})
						}
						if (this._reposTimer) return clearTimeout(this._reposTimer), void(this._reposTimer = null);
						var c = this._scroller,
							d = 0,
							e = c.prop("scrollLeft");
						this._reposTimer = setTimeout(function() {
							if (a) {
								var b = a.position(),
									f = c.width(),
									g = c.height(),
									h = a.width(),
									i = a.height(),
									j = (f - h) / 2,
									k = (g - i - 120) / 2;
								d = b.top - k, e = b.left - j
							}
							c.animate({
								scrollLeft: e,
								scrollTop: d
							})
						}, this._reposInterval)
					},
					_onActionActiveChanged: function(a) {
						var b = a.get("id"),
							c = a.get("inherited"),
							d = this._stepCntList.find("[data-action_id=" + b + "]");
						if (d.length) {
							var e = a.get("target"),
								f = this._activeSlide.getCompByNodeId(e),
								g = $((c ? v : u)({
									nodeId: e,
									actionId: b,
									actionName: a.get("name"),
									removeAble: !a.get("disableRemove")
								}));
							g.addClass("active"), g.editable("hide"), f.set("disabled", c), this._activeSlide.trigger("change:hasAction", this._activeSlide, f), this._onActiveCompActionChanged(f), d.replaceWith(g)
						}
					},
					_onActiveComponentsChanged: function() {
						this._activeCompChangeTimer && (clearTimeout(this._activeCompChangeTimer), this._activeCompChangeTimer = null);
						var a = this;
						this._activeCompChangeTimer = setTimeout(function() {
							this._activeCompChangeTimer = null, a.$el.editable("hide"), a._activeComps.forEach(function(b) {
								b.off(null, null, a)
							}), a._stepCntList.find(".node_wrap, .action_wrap, .hold_wrap").removeClass("active"), a._activeComps = a._activeSlide.selected || [];
							var b = !1;
							a._activeComps.length ? a._activeComps.forEach(function(c) {
								var d = a._activeStep.getActionByTarget(c.get("id"));
								d ? (a._onActionChanged(a._activeStep, d), a._onActiveCompActionChanged(c)) : b = !0, c.on("change", a._onActiveCompActionChanged, a), c.on("changedByView", a._onActiveCompActionChanged, a), c.on("change:name", a._onActiveCompNameChanged, a)
							}) : a._activeSlide.trigger("change:hasAction", a._activeSlide);
							var c = a._stepCntList.find(".step_hd_node .icon-plus-sign");
							b ? c.show() : c.hide()
						}, 10)
					},
					_onActiveCompNameChanged: function(a) {
						var b = a.get("id"),
							c = a.get("name");
						this._syncHooksUpdateName(b, c), this._stepListCollectionCnt.find(".node_wrap[data-node_id=" + b + "] .content").html(c)
					},
					_onActiveCompActionChanged: function(a, b) {
						if (!b || !b.byView) {
							var c = a.get("id"),
								e = this._activeStep.getActionByTarget(c);
							if (e && !e.get("inherited")) {
								var f = e.get("target");
								if (c != f) return void console.log("not equal");
								var g = d.cloneDeep(a.attributes);
								delete g.recognizable, delete g.locked, delete g.visible, delete g.cid, delete g.id, delete g.src, delete g.uri, delete g.name, delete g.events, delete g.hooks, delete g.listeners, delete g.selected, delete g.zOrder, delete g.disabled, delete g.playBackground, delete g.playLoop, e.set("compAttrib", g)
							}
						}
					},
					_onStepListLoopChanged: function() {
						var a = this._stepCntList.find(".action_wrap:not(.editable_action) .icon-cog");
						this._activeStepList.get("loop") ? a.css("visibility", "visible") : a.css("visibility", "hidden")
					},
					_onCompoentAdded: function(a, b) {
						this._activeActionSlide.addInitAction({
							target: b.get("id"),
							name: "\u521d\u59cb\u5316"
						}, !0), this._onCompVisibleChanged(b)
					},
					_onCompVisibleChanged: function(a) {
						if (a) {
							var b = this.$el.find(".node_wrap[data-node_id=" + a.get("id") + "] .icon-visible");
							b.removeClass("icon-eye-open").removeClass("icon-eye-close"), b.addClass(a.get("visible") ? "icon-eye-open" : "icon-eye-close");
							var b = this.$el.find(".node_wrap[data-node_id=" + a.get("id") + "] .icon-lock");
							b.removeClass("icon-lock-open").removeClass("icon-lock-close"), b.addClass(a.get("locked") ? "icon-lock-close" : "icon-lock-open")
						}
					},
					_onCompoentRemoved: function(a, b) {
						var c = b.get("id");
						this._activeActionSlide.removeAllActionByTarget(c, !0), this.$el.find("[data-node_id=" + c + "]").remove(), this._syncHooksRemove(c)
					},
					render: function() {
						return this._nodeAdvanced.render(), this._actionAdvanced.render(), this._stepAdvanced.render(), this._stepListAdvanced.render(), this._sceneAdvanced.render(), this
					},
					update: function(a, b) {
						this._activeSlide = b, this._activeActionSlide = a, this._onSlideChanged(a), a.on("change:stepList.add", this._onStepListAdded, this), a.on("change:stepList.remove", this._onStepListRemoved, this), a.on("change:currentStepList", this._onStepListChanged, this), a.on("change:step.add", this._onStepAdded, this), a.on("change:step.remove", this._onStepRemoved, this), a.on("change:action.add", this._onActionAdded, this), a.on("change:action.remove", this._onActionRemoved, this), a.on("activechange:action", this._onActionActiveChanged, this), a.on("actionRemovedByTarget", this._onActionRemovedByTarget, this), this._onActiveComponentsChanged(b, b.selected[0]), b.on("change:activeComponent", this._onActiveComponentsChanged, this), b.on("change:components.add", this._onCompoentAdded, this), b.on("change:components.remove", this._onCompoentRemoved, this)
					},
					dispose: function() {
						var a = this;
						this._activeCompChangeTimer && (clearTimeout(this._activeCompChangeTimer), this._activeCompChangeTimer = null), this._activeComps.forEach(function(b) {
							b.off(null, null, a)
						}), this._activeComps = [], this.onNotCogClick(), this._stepListCollectionHd.find(">li").remove(), this._stepListCollectionCnt.empty(), this._activeSlide && this._activeSlide.off(null, null, this), this._activeStep && this._activeStep.off(null, null, this), this._activeStepList && this._activeStepList.off(null, null, this), this._activeActionSlide && this._activeActionSlide.off(null, null, this), this._activeSlide = null, this._activeActionSlide = null, this._activeStepList = null, this._activeStep = null
					}
				})
			}
		}), define("strut/action_editor/view/StepListPannel", ["require", "exports", "module", "libs/backbone", "tantaman/web/interactions/TouchBridge", "strut/action_editor/view/StepListEditor"], function(a, b, c) {
			{
				var d = $(window),
					e = $(document),
					f = ($("head:eq(0)"), a("libs/backbone")),
					g = a("tantaman/web/interactions/TouchBridge"),
					h = a("strut/action_editor/view/StepListEditor");
				c.exports = f.View.extend({
					className: "step_list_editor",
					_deck: null,
					_activeSlide: null,
					_activeComponent: null,
					_stepEditorView: null,
					_minBarY: 0,
					_maxBarY: 0,
					events: {
						click: "_onClick"
					},
					initialize: function(a) {
						if (!(this._editorModel = a.editorModel)) throw "no model in action editor";
						this.hide(!0), this._deck = this._editorModel.deck(), this._activeSlide = this._deck.get("activeSlide"), this._stepEditorView = new h({
							deck: this._deck,
							editorModel: this._editorModel
						}), this._deck.on("change:activeSlide", this._onActiveSlideChanged, this), this._deck.on("change:stepEditorHeight", this._onStepEditorHeightChanged, this);
						var b = this._deck.get("activeSlide");
						b && this._onActiveSlideChanged(this._deck, b), this.$el.html(JST["strut.action_editor/step_list_pannel"]()), g.on.mousedown(this.$el.find("#step_list_resize_bar"), this._onBarMouseDown.bind(this))
					},
					_onBarMouseDown: function(a) {
						function b(a) {
							j = Math.max(Math.min(a.pageY, m), l), k = j - i, h.css("top", k)
						}

						function c() {
							n(), o(), f._deck.set("stepEditorHeight", f.$el.height() - k), h.css("top", 0)
						}
						var f = this,
							h = $(a.currentTarget),
							i = a.pageY,
							j = i,
							k = 0,
							l = window.config.minViewportHeight + 60,
							m = d.height() - window.config.minStepEditorHeight,
							n = null,
							o = null;
						return n = g.on.mousemove(e, b), o = g.on.mouseup(e, c), !1
					},
					_onClick: function() {
						this._stepEditorView.onNotCogClick()
					},
					_onStepEditorHeightChanged: function(a, b) {
						b && this.$el.height(b)
					},
					_onActiveSlideChanged: function(a, b) {
						if (this._stepEditorView.dispose(), !b) return void this.hide();
						this.show(), this._activeSlide && this._activeSlide.off(null, null, this);
						var c = b.get("stepListEditor");
						this._stepEditorView.update(c, b), this._activeSlide = b
					},
					show: function() {
						this.$el.stop(), this.$el.animate({
							opacity: 1
						}, 200)
					},
					hide: function(a) {
						return a ? void this.$el.css("opacity", .5) : void this.$el.animate({
							opacity: .5
						}, 200)
					},
					render: function() {
						var a = this.$el.find("#step_list_editor_wrap");
						return a.append(this._stepEditorView.render().$el), this
					},
					dispose: function() {
						this._activeSlide && this._activeSlide.off(null, null, this), this._deck && this._deck.off(null, null, this)
					}
				})
			}
		}), define("strut/editor/CustomBgStylesheet", ["tantaman/web/css_manip/CssManip"], function(a) {
			function b(a) {
				this.model = a, a.on("change:customBackgrounds", this.render, this)
			}
			var c = a.getStyleElem({
				id: "customBackgrounds",
				create: !0
			});
			return b.prototype = {
				render: function(a, b) {
					b && (c.innerHTML = JST["strut.presentation_generator/CustomBgStylesheet"](b.get("bgs")))
				},
				dispose: function() {
					this.model.off(null, null, this)
				}
			}, b
		}), define("tantaman/web/widgets/InputRequestModal", [], function() {
			function a(a) {
				this.$el = $('<div class="modal hide"></div>'), this._okClicked = this._okClicked.bind(this), this.$el.on("click", ".ok", this._okClicked), this.options = a, this.$el.modal({
					show: !1
				})
			}
			return a.prototype = {
				render: function() {
					this.$el.html(JST["tantaman.web.widgets/InputRequestModal"](this.options)), this.$input = this.$el.find("input"), this.$errors = this.$el.find(".errors");
					var a = this;
					return this.$input.on("keydown", function(b) {
						return 13 == b.keyCode ? (a._okClicked(), !1) : void 0
					}), this
				},
				show: function(a, b) {
					this.cb = a, b && this.$input.val(b), this.$errors.html(""), this.$el.modal("show")
				},
				hide: function() {
					this.$el.modal("hide")
				},
				_okClicked: function() {
					var a = this.$input.val(),
						b = this.cb(a);
					1 == b ? this.hide() : this.$errors.html(JST["tantaman.web.widgets/List"](b.errors))
				}
			}, a
		}), define("strut/editor/EditorView", ["libs/backbone", "strut/header/view/HeaderView", "strut/action_editor/view/ActionEditor", "strut/action_editor/view/StepListPannel", "./CustomBgStylesheet", "tantaman/web/widgets/InputRequestModal", "lang"], function(a, b, c, d, e, f, g) {
			return a.View.extend({
				className: "container-fluid",
				initialize: function() {
					this._header = new b({
						model: this.model.get("header")
					}), this._actionEditor = new c({
						editorModel: this.model
					}), this._stepListPannel = new d({
						editorModel: this.model
					}), this.model.on("change:activeMode", this._modeChanged, this), this.model.on("newPresentationDesired", this._newPresentationDesired, this), this._customBgSheet = new e(this.model), this._filenameInput = new f({
						title: g.new_presentation,
						prompt: g.name,
						oktext: g.create_presentation
					}), $("#modals").append(this._filenameInput.render().$el)
				},
				render: function() {
					this.$el.empty(), this.$el.append(this._header.render().$el), this.$el.append(this._actionEditor.render().$el), this.$el.append(this._stepListPannel.render().$el);
					var a = this.model.get("activeMode");
					return a ? this.$el.append(a.view.render().$el) : this._renderNoMode(), this
				},
				_newPresentationDesired: function(a) {
					var b = this;
					this._filenameInput.show(function(a) {
						return b.model.validKey(a) ? (b.model.createPresentation(a), !0) : {
							errors: [g.invalid_filename]
						}
					}, "presentation-" + a)
				},
				_modeChanged: function(a, b) {
					this.$el.append(b.view.render().$el)
				},
				_renderNoMode: function() {
					this.$el.append('<div class="alert alert-error">No modes available.  Did some plugins fail to load?</div>')
				}
			})
		}), define("strut/header/model/HeaderModel", ["libs/backbone"], function(a) {
			return a.Model.extend({
				initialize: function() {
					this.set("createCompButtons", []), this.set("modeButtons", []), this.registry.on("registered:strut.ComponentButtonProvider", this._compBtnProviderRegistered, this), this.registry.on("registered:strut.EditMode", this._modeRegistered, this)
				},
				editorModel: function() {
					return this._editorModel
				},
				_createModeButtons: function() {
					this._disposeObjects(this.get("modeButtons"));
					var a = this.registry.get("strut.EditMode"),
						b = [];
					a.forEach(function(a) {
						b.push(a.service().createButton(this._editorModel))
					}, this), this.set("modeButtons", b)
				},
				_createCreateCompButtons: function() {
					this._disposeObjects(this.get("createCompButtons"));
					var a = this.registry.get("strut.ComponentButtonProvider"),
						b = [];
					a.forEach(function(a) {
						var c = a.service().createButtons(this._editorModel);
						b = b.concat(c)
					}, this), this.set("createCompButtons", b)
				},
				_modeRegistered: function(a) {
					var b = a.service().createButton(this._editorModel);
					this.get("modeButtons").push(b), this.trigger("change:modeButtons.push", this.get("modeButtons"), b)
				},
				_compBtnProviderRegistered: function(a) {
					var b = a.service().createButtons(this._editorModel);
					this.set("createCompButtons", this.get("createCompButtons").concat(b)), this.trigger("change:createCompButtons.concat", this.get("createCompButtons"), b)
				},
				_disposeObjects: function(a) {
					a && a.forEach(function(a) {
						a.dispose()
					})
				},
				constructor: function(b, c) {
					this.registry = b, this._editorModel = c, a.Model.prototype.constructor.call(this)
				}
			})
		}), define("common/Adapter", [], function() {
			function a(a, b) {
				var c = Object.keys(b);
				c.forEach(function(c) {
					var d = b[c];
					this[c] = function() {
						return a[d].apply(a, arguments)
					}
				}, this)
			}
			return a
		}), define("tantaman/web/interactions/Clipboard", [], function() {
			function a() {
				this.items = []
			}
			return a.prototype.setItems = function(a) {
				a.length && (this.items = a.slice(0))
			}, a.prototype.getItems = function() {
				return $.map(this.items, function(a) {
					return a.clone()
				})
			}, a
		}), define("strut/editor/EditorModel", ["libs/backbone", "strut/header/model/HeaderModel", "strut/deck/Deck", "strut/slide_components/ComponentFactory", "common/Adapter", "tantaman/web/interactions/Clipboard", "./GlobalEvents", "tantaman/web/undo_support/CmdListFactory", "erquan/config/common"], function(a, b, c, d, e, f, g, h, i) {
			"use strict";

			function j(a) {
				return new e(a, {
					store: "savePresentation",
					ready: "ready"
				})
			}
			return a.Model.extend({
				initialize: function() {
					window.uiTestAcc = this, this.hasStorage = this.hasStorage.bind(this), this._fontState = window.sessionMeta.fontState || {}, this._deck = new c, this._deck.on("change:customBackgrounds", function(a, b) {
						this.trigger("change:customBackgrounds", this, b)
					}, this), this.addSlide(), this.set("header", new b(this.registry, this)), this.set("modeId", "slide-editor"), this.exportable = new e(this, {
						"export": "exportPresentation",
						identifier: "fileName"
					}), this.exportable.adapted = this;
					var d = this.registry.getBest("tantaman.web.saver.AutoSavers"),
						i = this.registry.getBest("strut.StorageInterface");
					if (this.storageInterface = i, d) {
						i = j(i), this._exitSaver = d.exitSaver(this.exportable, i), this._timedSaver = d.timedSaver(this.exportable, 6e4, i)
					}
					this.clipboard = new f, this._createMode(), this._cmdList = h.managedInstance("editor"), g.on("undo", this._cmdList.undo, this._cmdList), g.on("redo", this._cmdList.redo, this._cmdList), a.on("etch:state", this._fontStateChanged, this), a.on("storate:id_ready", this._idReady, this)
				},
				_idReady: function(a) {
					a && this._deck.set("server_id", a)
				},
				changeActiveMode: function(a) {
					a != this.get("modeId") && (this.set("modeId", a), this._createMode())
				},
				customStylesheet: function(a) {
					return null == a ? this._deck.get("customStylesheet") : void this._deck.set("customStylesheet", a)
				},
				dispose: function() {
					throw "EditorModel can not be disposed yet"
				},
				validKey: function(a) {
					return this.storageInterface.validKey(a)
				},
				newPresentation: function() {
					var a = window.sessionMeta.num || 0;
					this.trigger("newPresentationDesired", a + 1)
				},
				createPresentation: function(a) {
					var b = window.sessionMeta.num || 0;
					b += 1, window.sessionMeta.num = b, this.importPresentation({
						fileName: a,
						slides: []
					}), this._deck.create()
				},
				addCustomBgClassFor: function(a) {
					var b = this._deck.addCustomBgClassFor(a);
					return b.existed || this.trigger("change:customBackgrounds", this, this._deck.get("customBackgrounds")), b
				},
				customBackgrounds: function() {
					return this._deck.get("customBackgrounds")
				},
				importPresentation: function(b) {
					if (b) {
						console.log("New file name: " + b.fileName), this._deck["import"](b), a.trigger("erquan-filename-changed", this.fileName());
						var c = this;
						setTimeout(function() {
							c.savePresentation()
						}, 2e3)
					}
				},
				savePresentation: function() {
					this._timedSaver.save()
				},
				hasStorage: function() {
					return this.storageInterface.ready()
				},
				exportPresentation: function(a) {
					a && this._deck.set("fileName", a);
					var b = this._deck.get("__genid");
					null == b ? b = 0 : b += 1, this._deck.set("__genid", b);
					var c = this._deck.toJSON(!1, !0);
					return c
				},
				fileName: function() {
					var a = this._deck.get("fileName");
					return null == a && (a = i.clientData.default_project_title, this._deck.set("fileName", a)), a
				},
				deck: function() {
					return this._deck
				},
				cannedTransition: function(a) {
					return null == a ? this._deck.get("cannedTransition") : void this._deck.set("cannedTransition", a)
				},
				slides: function() {
					return this._deck.get("slides")
				},
				addSlide: function(a) {
					this._deck.create(a)
				},
				activeSlide: function() {
					return this._deck.get("activeSlide")
				},
				activeSlideIndex: function() {
					return this._deck.get("slides").indexOf(this._deck.get("activeSlide"))
				},
				addComponent: function(a, b) {
					if (b = b || this._deck.get("activeSlide"))
						if ("object" == typeof a.src && null != a.src.file) this._addEmbeddedComponent(a, b);
						else {
							var c = d.instance.createModel(a, {
								fontStyles: this._fontState
							});
							b.add(c)
						}
				},
				_addEmbeddedComponent: function(a, b) {
					var c = a.src,
						d = this.fileName(),
						e = c.file.name,
						f = this;
					this.storageInterface.storeAttachment(d, e, c.file).then(function() {
						a.src = {
							docKey: d,
							attachKey: e
						}, f.addComponent(a, b)
					}, function(a) {
						console.error(a)
					}).done()
				},
				_fontStateChanged: function(a) {
					_.extend(this._fontState, a), window.sessionMeta.fontState = this._fontState
				},
				_createMode: function() {
					var a = this.get("modeId"),
						b = this.registry.getBest({
							interfaces: "strut.EditMode",
							meta: {
								id: a
							}
						});
					if (b) {
						var c = this.get("activeMode");
						c && c.close(), this.set("activeMode", b.getMode(this, this.registry))
					}
				},
				constructor: function(b) {
					this.registry = b, a.Model.prototype.constructor.call(this)
				}
			})
		}), define("strut/startup/main", ["require", "exports", "module", "Q", "jquery", "lodash", "erquan/config/common", "erquan/unique/main", "strut/editor/EditorView", "strut/editor/EditorModel"], function(a, b, c) {
			var d = a("Q"),
				e = a("jquery"),
				f = a("lodash"),
				g = a("erquan/config/common"),
				h = a("erquan/unique/main"),
				i = a("strut/editor/EditorView"),
				j = a("strut/editor/EditorModel"),
				k = null;
			e.ajaxSetup({
				xhrFields: {
					withCredentials: !0
				}
			}), d.longStackSupport = !1;
			var l = function() {
				var a = window.ERQUAN_CONFIG.title || localStorage.getItem(g.clientData.last_project_title) || g.clientData.default_project_title;
				return h.startup().then(function() {
					return d(e.post(g.service.base_projects_url + "eocd", {
						title: a,
						defaultTitle: g.clientData.default_project_title
					}))
				}).then(function(a) {
					if (!a || 0 != a.status.code) return null;
					var b = k.getBest("strut.StorageInterface");
					return b.load(a.data.id)
				}).then(function(a) {
					var b = new j(k),
						c = new i({
							model: b,
							registry: k
						});
					c.render(), a && a.slides ? b.importPresentation(a) : b.savePresentation(), c.$el.css("opacity", 0), e("body").append(c.$el), e(window).trigger("resize"), c.$el.animate({
						opacity: 1
					}, 800), e(".loading-container").fadeOut(function() {
						e(this).remove()
					})
				})["catch"](function(a) {
					console.error(a.stack)
				})
			};
			c.exports = {
				initialize: function(a) {
					k = a, k.register({
						interfaces: "strut.StartupTask"
					}, {
						run: l
					}), k.register({
						interfaces: "strut.StartupTask"
					}, {
						run: f.noop
					})
				}
			}
		}), define("features", ["framework/ServiceRegistry", "strut/etch_extension/main", "erquan/common/web/remote_storage/main", "strut/storage/main", "strut/logo_button/main", "strut/themes/main", "strut/editor/main", "strut/exporter/erquan/browser/main", "strut/importer/erquan/main", "strut/importer/main", "strut/exporter/main", "strut/presentation_generator/erquan/main", "strut/presentation_generator/main", "tantaman/web/saver/main", "strut/slide_editor/main", "strut/transition_editor/main", "strut/slide_components/main", "strut/well_context_buttons/main", "strut/startup/main"], function(a) {
			for (var b = new a, c = Array.prototype.slice.call(arguments, 0), d = 0, d = 1; d < c.length; ++d) c[d].initialize(b);
			return b
		}), define("common/Concurrent", [], function() {
			function a(a, b, c) {
				this.num = a, this.stepCb = c, this.completionCb = b, this.decrement = this.decrement.bind(this)
			}
			return a.prototype = {
				decrement: function() {
					if (--this.num, this.num < 0) throw "Countdown less than zero";
					this.stepCb.apply(null, arguments), 0 == this.num && this.completionCb.apply(null, arguments)
				}
			}, {
				countdown: a
			}
		}), define("StrutLoader", ["common/Concurrent"], function(a) {
			return {
				start: function(b, c, d) {
					var e = b.get("strut.StartupTask"),
						f = new a.countdown(e.length, c, d);
					e.forEach(function(a) {
						var b = a.service();
						b.run(f.decrement)
					})
				}
			}
		}), ! function(a) {
			"use strict";
			a(function() {
				a.support.transition = function() {
					var a = function() {
						var a, b = document.createElement("bootstrap"),
							c = {
								WebkitTransition: "webkitTransitionEnd",
								MozTransition: "transitionend",
								OTransition: "oTransitionEnd otransitionend",
								transition: "transitionend"
							};
						for (a in c)
							if (void 0 !== b.style[a]) return c[a]
					}();
					return a && {
						end: a
					}
				}()
			})
		}(window.jQuery), ! function(a) {
			"use strict";
			var b = '[data-dismiss="alert"]',
				c = function(c) {
					a(c).on("click", b, this.close)
				};
			c.prototype.close = function(b) {
				function c() {
					d.trigger("closed").remove()
				}
				var d, e = a(this),
					f = e.attr("data-target");
				f || (f = e.attr("href"), f = f && f.replace(/.*(?=#[^\s]*$)/, "")), d = a(f), b && b.preventDefault(), d.length || (d = e.hasClass("alert") ? e : e.parent()), d.trigger(b = a.Event("close")), b.isDefaultPrevented() || (d.removeClass("in"), a.support.transition && d.hasClass("fade") ? d.on(a.support.transition.end, c) : c())
			};
			var d = a.fn.alert;
			a.fn.alert = function(b) {
				return this.each(function() {
					var d = a(this),
						e = d.data("alert");
					e || d.data("alert", e = new c(this)), "string" == typeof b && e[b].call(d)
				})
			}, a.fn.alert.Constructor = c, a.fn.alert.noConflict = function() {
				return a.fn.alert = d, this
			}, a(document).on("click.alert.data-api", b, c.prototype.close)
		}(window.jQuery), ! function(a) {
			"use strict";
			var b = function(b, c) {
				this.$element = a(b), this.options = a.extend({}, a.fn.button.defaults, c)
			};
			b.prototype.setState = function(a) {
				var b = "disabled",
					c = this.$element,
					d = c.data(),
					e = c.is("input") ? "val" : "html";
				a += "Text", d.resetText || c.data("resetText", c[e]()), c[e](d[a] || this.options[a]), setTimeout(function() {
					"loadingText" == a ? c.addClass(b).attr(b, b) : c.removeClass(b).removeAttr(b)
				}, 0)
			}, b.prototype.toggle = function() {
				var a = this.$element.closest('[data-toggle="buttons-radio"]');
				a && a.find(".active").removeClass("active"), this.$element.toggleClass("active")
			};
			var c = a.fn.button;
			a.fn.button = function(c) {
				return this.each(function() {
					var d = a(this),
						e = d.data("button"),
						f = "object" == typeof c && c;
					e || d.data("button", e = new b(this, f)), "toggle" == c ? e.toggle() : c && e.setState(c)
				})
			}, a.fn.button.defaults = {
				loadingText: "loading..."
			}, a.fn.button.Constructor = b, a.fn.button.noConflict = function() {
				return a.fn.button = c, this
			}, a(document).on("click.button.data-api", "[data-toggle^=button]", function(b) {
				var c = a(b.target);
				c.hasClass("btn") || (c = c.closest(".btn")), c.button("toggle")
			})
		}(window.jQuery), ! function(a) {
			"use strict";
			var b = function(b, c) {
				this.$element = a(b), this.options = c, "hover" == this.options.pause && this.$element.on("mouseenter", a.proxy(this.pause, this)).on("mouseleave", a.proxy(this.cycle, this))
			};
			b.prototype = {
				cycle: function(b) {
					return b || (this.paused = !1), this.options.interval && !this.paused && (this.interval = setInterval(a.proxy(this.next, this), this.options.interval)), this
				},
				to: function(b) {
					var c = this.$element.find(".item.active"),
						d = c.parent().children(),
						e = d.index(c),
						f = this;
					if (!(b > d.length - 1 || 0 > b)) return this.sliding ? this.$element.one("slid", function() {
						f.to(b)
					}) : e == b ? this.pause().cycle() : this.slide(b > e ? "next" : "prev", a(d[b]))
				},
				pause: function(b) {
					return b || (this.paused = !0), this.$element.find(".next, .prev").length && a.support.transition.end && (this.$element.trigger(a.support.transition.end), this.cycle()), clearInterval(this.interval), this.interval = null, this
				},
				next: function() {
					return this.sliding ? void 0 : this.slide("next")
				},
				prev: function() {
					return this.sliding ? void 0 : this.slide("prev")
				},
				slide: function(b, c) {
					var d, e = this.$element.find(".item.active"),
						f = c || e[b](),
						g = this.interval,
						h = "next" == b ? "left" : "right",
						i = "next" == b ? "first" : "last",
						j = this;
					if (this.sliding = !0, g && this.pause(), f = f.length ? f : this.$element.find(".item")[i](), d = a.Event("slide", {
							relatedTarget: f[0]
						}), !f.hasClass("active")) {
						if (a.support.transition && this.$element.hasClass("slide")) {
							if (this.$element.trigger(d), d.isDefaultPrevented()) return;
							f.addClass(b), f[0].offsetWidth, e.addClass(h), f.addClass(h), this.$element.one(a.support.transition.end, function() {
								f.removeClass([b, h].join(" ")).addClass("active"), e.removeClass(["active", h].join(" ")), j.sliding = !1, setTimeout(function() {
									j.$element.trigger("slid")
								}, 0)
							})
						} else {
							if (this.$element.trigger(d), d.isDefaultPrevented()) return;
							e.removeClass("active"), f.addClass("active"), this.sliding = !1, this.$element.trigger("slid")
						}
						return g && this.cycle(), this
					}
				}
			};
			var c = a.fn.carousel;
			a.fn.carousel = function(c) {
				return this.each(function() {
					var d = a(this),
						e = d.data("carousel"),
						f = a.extend({}, a.fn.carousel.defaults, "object" == typeof c && c),
						g = "string" == typeof c ? c : f.slide;
					e || d.data("carousel", e = new b(this, f)), "number" == typeof c ? e.to(c) : g ? e[g]() : f.interval && e.cycle()
				})
			}, a.fn.carousel.defaults = {
				interval: 5e3,
				pause: "hover"
			}, a.fn.carousel.Constructor = b, a.fn.carousel.noConflict = function() {
				return a.fn.carousel = c, this
			}, a(document).on("click.carousel.data-api", "[data-slide]", function(b) {
				var c, d = a(this),
					e = a(d.attr("data-target") || (c = d.attr("href")) && c.replace(/.*(?=#[^\s]+$)/, "")),
					f = a.extend({}, e.data(), d.data());
				e.carousel(f), b.preventDefault()
			})
		}(window.jQuery), ! function(a) {
			"use strict";
			var b = function(b, c) {
				this.$element = a(b), this.options = a.extend({}, a.fn.collapse.defaults, c), this.options.parent && (this.$parent = a(this.options.parent)), this.options.toggle && this.toggle()
			};
			b.prototype = {
				constructor: b,
				dimension: function() {
					var a = this.$element.hasClass("width");
					return a ? "width" : "height"
				},
				show: function() {
					var b, c, d, e;
					if (!this.transitioning) {
						if (b = this.dimension(), c = a.camelCase(["scroll", b].join("-")), d = this.$parent && this.$parent.find("> .accordion-group > .in"), d && d.length) {
							if (e = d.data("collapse"), e && e.transitioning) return;
							d.collapse("hide"), e || d.data("collapse", null)
						}
						this.$element[b](0), this.transition("addClass", a.Event("show"), "shown"), a.support.transition && this.$element[b](this.$element[0][c])
					}
				},
				hide: function() {
					var b;
					this.transitioning || (b = this.dimension(), this.reset(this.$element[b]()), this.transition("removeClass", a.Event("hide"), "hidden"), this.$element[b](0))
				},
				reset: function(a) {
					var b = this.dimension();
					return this.$element.removeClass("collapse")[b](a || "auto")[0].offsetWidth, this.$element[null !== a ? "addClass" : "removeClass"]("collapse"), this
				},
				transition: function(b, c, d) {
					var e = this,
						f = function() {
							"show" == c.type && e.reset(), e.transitioning = 0, e.$element.trigger(d)
						};
					this.$element.trigger(c), c.isDefaultPrevented() || (this.transitioning = 1, this.$element[b]("in"), a.support.transition && this.$element.hasClass("collapse") ? this.$element.one(a.support.transition.end, f) : f())
				},
				toggle: function() {
					this[this.$element.hasClass("in") ? "hide" : "show"]()
				}
			};
			var c = a.fn.collapse;
			a.fn.collapse = function(c) {
				return this.each(function() {
					var d = a(this),
						e = d.data("collapse"),
						f = "object" == typeof c && c;
					e || d.data("collapse", e = new b(this, f)), "string" == typeof c && e[c]()
				})
			}, a.fn.collapse.defaults = {
				toggle: !0
			}, a.fn.collapse.Constructor = b, a.fn.collapse.noConflict = function() {
				return a.fn.collapse = c, this
			}, a(document).on("click.collapse.data-api", "[data-toggle=collapse]", function(b) {
				var c, d = a(this),
					e = d.attr("data-target") || b.preventDefault() || (c = d.attr("href")) && c.replace(/.*(?=#[^\s]+$)/, ""),
					f = a(e).data("collapse") ? "toggle" : d.data();
				d[a(e).hasClass("in") ? "addClass" : "removeClass"]("collapsed"), a(e).collapse(f)
			})
		}(window.jQuery), ! function(a) {
			"use strict";

			function b() {
				a(d).each(function() {
					c(a(this)).removeClass("open")
				})
			}

			function c(b) {
				var c, d = b.attr("data-target");
				return d || (d = b.attr("href"), d = d && /#/.test(d) && d.replace(/.*(?=#[^\s]*$)/, "")), c = a(d), c.length || (c = b.parent()), c
			}
			var d = "[data-toggle=dropdown]",
				e = function(b) {
					var c = a(b).on("click.dropdown.data-api", this.toggle);
					a("html").on("click.dropdown.data-api", function() {
						c.parent().removeClass("open")
					})
				};
			e.prototype = {
				constructor: e,
				toggle: function() {
					var d, e, f = a(this);
					if (!f.is(".disabled, :disabled")) return d = c(f), e = d.hasClass("open"), b(), e || d.toggleClass("open"), f.focus(), !1
				},
				keydown: function(b) {
					var d, e, f, g, h;
					if (/(38|40|27)/.test(b.keyCode) && (d = a(this), b.preventDefault(), b.stopPropagation(), !d.is(".disabled, :disabled"))) {
						if (f = c(d), g = f.hasClass("open"), !g || g && 27 == b.keyCode) return d.click();
						e = a("[role=menu] li:not(.divider):visible a", f), e.length && (h = e.index(e.filter(":focus")), 38 == b.keyCode && h > 0 && h--, 40 == b.keyCode && h < e.length - 1 && h++, ~h || (h = 0), e.eq(h).focus())
					}
				}
			};
			var f = a.fn.dropdown;
			a.fn.dropdown = function(b) {
				return this.each(function() {
					var c = a(this),
						d = c.data("dropdown");
					d || c.data("dropdown", d = new e(this)), "string" == typeof b && d[b].call(c)
				})
			}, a.fn.dropdown.Constructor = e, a.fn.dropdown.noConflict = function() {
				return a.fn.dropdown = f, this
			}, a(document).on("click.dropdown.data-api touchstart.dropdown.data-api", b).on("click.dropdown touchstart.dropdown.data-api", ".dropdown form", function(a) {
				a.stopPropagation()
			}).on("touchstart.dropdown.data-api", ".dropdown-menu", function(a) {
				a.stopPropagation()
			}).on("click.dropdown.data-api touchstart.dropdown.data-api", d, e.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api", d + ", [role=menu]", e.prototype.keydown).on("selectablestart", b)
		}(window.jQuery), ! function(a) {
			"use strict";
			var b = function(b, c) {
				this.options = c, this.$element = a(b).delegate('[data-dismiss="modal"]', "click.dismiss.modal", a.proxy(this.hide, this)), this.options.remote && this.$element.find(".modal-body").load(this.options.remote)
			};
			b.prototype = {
				constructor: b,
				toggle: function() {
					return this[this.isShown ? "hide" : "show"]()
				},
				show: function() {
					var b = this,
						c = a.Event("show");
					this.$element.trigger(c), this.isShown || c.isDefaultPrevented() || (this.isShown = !0, this.escape(), this.backdrop(function() {
						var c = a.support.transition && b.$element.hasClass("fade");
						b.$element.parent().length || b.$element.appendTo(document.body), b.$element.show(), c && b.$element[0].offsetWidth, b.$element.addClass("in").attr("aria-hidden", !1), b.enforceFocus(), c ? b.$element.one(a.support.transition.end, function() {
							b.$element.focus().trigger("shown")
						}) : b.$element.focus().trigger("shown")
					}))
				},
				hide: function(b) {
					b && b.preventDefault();
					b = a.Event("hide"), this.$element.trigger(b), this.isShown && !b.isDefaultPrevented() && (this.isShown = !1, this.escape(), a(document).off("focusin.modal"), this.$element.removeClass("in").attr("aria-hidden", !0), a.support.transition && this.$element.hasClass("fade") ? this.hideWithTransition() : this.hideModal())
				},
				enforceFocus: function() {
					var b = this;
					a(document).on("focusin.modal", function(a) {
						b.$element[0] === a.target || b.$element.has(a.target).length || b.$element.focus()
					})
				},
				escape: function() {
					var a = this;
					this.isShown && this.options.keyboard ? this.$element.on("keyup.dismiss.modal", function(b) {
						27 == b.which && a.hide()
					}) : this.isShown || this.$element.off("keyup.dismiss.modal")
				},
				hideWithTransition: function() {
					var b = this,
						c = setTimeout(function() {
							b.$element.off(a.support.transition.end), b.hideModal()
						}, 500);
					this.$element.one(a.support.transition.end, function() {
						clearTimeout(c), b.hideModal()
					})
				},
				hideModal: function() {
					this.$element.hide().trigger("hidden"), this.backdrop()
				},
				removeBackdrop: function() {
					this.$backdrop.remove(), this.$backdrop = null
				},
				backdrop: function(b) {
					var c = this.$element.hasClass("fade") ? "fade" : "";
					if (this.isShown && this.options.backdrop) {
						var d = a.support.transition && c;
						this.$backdrop = a('<div class="modal-backdrop ' + c + '" />').appendTo(document.body), this.$backdrop.click("static" == this.options.backdrop ? a.proxy(this.$element[0].focus, this.$element[0]) : a.proxy(this.hide, this)), d && this.$backdrop[0].offsetWidth, this.$backdrop.addClass("in"), d ? this.$backdrop.one(a.support.transition.end, b) : b()
					} else !this.isShown && this.$backdrop ? (this.$backdrop.removeClass("in"), a.support.transition && this.$element.hasClass("fade") ? this.$backdrop.one(a.support.transition.end, a.proxy(this.removeBackdrop, this)) : this.removeBackdrop()) : b && b()
				}
			};
			var c = a.fn.modal;
			a.fn.modal = function(c) {
				return this.each(function() {
					var d = a(this),
						e = d.data("modal"),
						f = a.extend({}, a.fn.modal.defaults, d.data(), "object" == typeof c && c);
					e || d.data("modal", e = new b(this, f)), "string" == typeof c ? e[c]() : f.show && e.show()
				})
			}, a.fn.modal.defaults = {
				backdrop: !0,
				keyboard: !0,
				show: !0
			}, a.fn.modal.Constructor = b, a.fn.modal.noConflict = function() {
				return a.fn.modal = c, this
			}, a(document).on("click.modal.data-api", '[data-toggle="modal"]', function(b) {
				var c = a(this),
					d = c.attr("href"),
					e = a(c.attr("data-target") || d && d.replace(/.*(?=#[^\s]+$)/, "")),
					f = e.data("modal") ? "toggle" : a.extend({
						remote: !/#/.test(d) && d
					}, e.data(), c.data());
				b.preventDefault(), e.modal(f).one("hide", function() {
					c.focus()
				})
			})
		}(window.jQuery), ! function(a) {
			"use strict";
			var b = function(a, b) {
				this.init("tooltip", a, b)
			};
			b.prototype = {
				constructor: b,
				init: function(b, c, d) {
					var e, f;
					this.type = b, this.$element = a(c), this.options = this.getOptions(d), this.enabled = !0, "click" == this.options.trigger ? this.$element.on("click." + this.type, this.options.selector, a.proxy(this.toggle, this)) : "manual" != this.options.trigger && (e = "hover" == this.options.trigger ? "mouseenter" : "focus", f = "hover" == this.options.trigger ? "mouseleave" : "blur", this.$element.on(e + "." + this.type, this.options.selector, a.proxy(this.enter, this)), this.$element.on(f + "." + this.type, this.options.selector, a.proxy(this.leave, this))), this.options.selector ? this._options = a.extend({}, this.options, {
						trigger: "manual",
						selector: ""
					}) : this.fixTitle()
				},
				getOptions: function(b) {
					return b = a.extend({}, a.fn[this.type].defaults, b, this.$element.data()), b.delay && "number" == typeof b.delay && (b.delay = {
						show: b.delay,
						hide: b.delay
					}), b
				},
				enter: function(b) {
					var c = a(b.currentTarget)[this.type](this._options).data(this.type);
					return c.options.delay && c.options.delay.show ? (clearTimeout(this.timeout), c.hoverState = "in", void(this.timeout = setTimeout(function() {
						"in" == c.hoverState && c.show()
					}, c.options.delay.show))) : c.show()
				},
				leave: function(b) {
					var c = a(b.currentTarget)[this.type](this._options).data(this.type);
					return this.timeout && clearTimeout(this.timeout), c.options.delay && c.options.delay.hide ? (c.hoverState = "out", void(this.timeout = setTimeout(function() {
						"out" == c.hoverState && c.hide()
					}, c.options.delay.hide))) : c.hide()
				},
				show: function() {
					var a, b, c, d, e, f, g;
					if (this.hasContent() && this.enabled) {
						switch (a = this.tip(), this.setContent(), this.options.animation && a.addClass("fade"), f = "function" == typeof this.options.placement ? this.options.placement.call(this, a[0], this.$element[0]) : this.options.placement, b = /in/.test(f), a.detach().css({
							top: 0,
							left: 0,
							display: "block"
						}).insertAfter(this.$element), c = this.getPosition(b), d = a[0].offsetWidth, e = a[0].offsetHeight, b ? f.split(" ")[1] : f) {
							case "bottom":
								g = {
									top: c.top + c.height,
									left: c.left + c.width / 2 - d / 2
								};
								break;
							case "top":
								g = {
									top: c.top - e,
									left: c.left + c.width / 2 - d / 2
								};
								break;
							case "left":
								g = {
									top: c.top + c.height / 2 - e / 2,
									left: c.left - d
								};
								break;
							case "right":
								g = {
									top: c.top + c.height / 2 - e / 2,
									left: c.left + c.width
								}
						}
						a.offset(g).addClass(f).addClass("in")
					}
				},
				setContent: function() {
					var a = this.tip(),
						b = this.getTitle();
					a.find(".tooltip-inner")[this.options.html ? "html" : "text"](b), a.removeClass("fade in top bottom left right")
				},
				hide: function() {
					function b() {
						var b = setTimeout(function() {
							c.off(a.support.transition.end).detach()
						}, 500);
						c.one(a.support.transition.end, function() {
							clearTimeout(b), c.detach()
						})
					}
					var c = this.tip();
					return c.removeClass("in"), a.support.transition && this.$tip.hasClass("fade") ? b() : c.detach(), this
				},
				fixTitle: function() {
					var a = this.$element;
					(a.attr("title") || "string" != typeof a.attr("data-original-title")) && a.attr("data-original-title", a.attr("title") || "").removeAttr("title")
				},
				hasContent: function() {
					return this.getTitle()
				},
				getPosition: function(b) {
					return a.extend({}, b ? {
						top: 0,
						left: 0
					} : this.$element.offset(), {
						width: this.$element[0].offsetWidth,
						height: this.$element[0].offsetHeight
					})
				},
				getTitle: function() {
					var a, b = this.$element,
						c = this.options;
					return a = b.attr("data-original-title") || ("function" == typeof c.title ? c.title.call(b[0]) : c.title)
				},
				tip: function() {
					return this.$tip = this.$tip || a(this.options.template)
				},
				validate: function() {
					this.$element[0].parentNode || (this.hide(), this.$element = null, this.options = null)
				},
				enable: function() {
					this.enabled = !0
				},
				disable: function() {
					this.enabled = !1
				},
				toggleEnabled: function() {
					this.enabled = !this.enabled
				},
				toggle: function(b) {
					var c = a(b.currentTarget)[this.type](this._options).data(this.type);
					c[c.tip().hasClass("in") ? "hide" : "show"]()
				},
				destroy: function() {
					this.hide().$element.off("." + this.type).removeData(this.type)
				}
			};
			var c = a.fn.tooltip;
			a.fn.tooltip = function(c) {
				return this.each(function() {
					var d = a(this),
						e = d.data("tooltip"),
						f = "object" == typeof c && c;
					e || d.data("tooltip", e = new b(this, f)), "string" == typeof c && e[c]()
				})
			}, a.fn.tooltip.Constructor = b, a.fn.tooltip.defaults = {
				animation: !0,
				placement: "top",
				selector: !1,
				template: '<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
				trigger: "hover",
				title: "",
				delay: 0,
				html: !1
			}, a.fn.tooltip.noConflict = function() {
				return a.fn.tooltip = c, this
			}
		}(window.jQuery), ! function(a) {
			"use strict";
			var b = function(a, b) {
				this.init("popover", a, b)
			};
			b.prototype = a.extend({}, a.fn.tooltip.Constructor.prototype, {
				constructor: b,
				setContent: function() {
					var a = this.tip(),
						b = this.getTitle(),
						c = this.getContent();
					a.find(".popover-title")[this.options.html ? "html" : "text"](b), a.find(".popover-content")[this.options.html ? "html" : "text"](c), a.removeClass("fade top bottom left right in")
				},
				hasContent: function() {
					return this.getTitle() || this.getContent()
				},
				getContent: function() {
					var a, b = this.$element,
						c = this.options;
					return a = b.attr("data-content") || ("function" == typeof c.content ? c.content.call(b[0]) : c.content)
				},
				tip: function() {
					return this.$tip || (this.$tip = a(this.options.template)), this.$tip
				},
				destroy: function() {
					this.hide().$element.off("." + this.type).removeData(this.type)
				}
			});
			var c = a.fn.popover;
			a.fn.popover = function(c) {
				return this.each(function() {
					var d = a(this),
						e = d.data("popover"),
						f = "object" == typeof c && c;
					e || d.data("popover", e = new b(this, f)), "string" == typeof c && e[c]()
				})
			}, a.fn.popover.Constructor = b, a.fn.popover.defaults = a.extend({}, a.fn.tooltip.defaults, {
				placement: "right",
				trigger: "click",
				content: "",
				template: '<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"></div></div></div>'
			}), a.fn.popover.noConflict = function() {
				return a.fn.popover = c, this
			}
		}(window.jQuery), ! function(a) {
			"use strict";

			function b(b, c) {
				var d, e = a.proxy(this.process, this),
					f = a(a(b).is("body") ? window : b);
				this.options = a.extend({}, a.fn.scrollspy.defaults, c), this.$scrollElement = f.on("scroll.scroll-spy.data-api", e), this.selector = (this.options.target || (d = a(b).attr("href")) && d.replace(/.*(?=#[^\s]+$)/, "") || "") + " .nav li > a", this.$body = a("body"), this.refresh(), this.process()
			}
			b.prototype = {
				constructor: b,
				refresh: function() {
					var b, c = this;
					this.offsets = a([]), this.targets = a([]), b = this.$body.find(this.selector).map(function() {
						var b = a(this),
							d = b.data("target") || b.attr("href"),
							e = /^#\w/.test(d) && a(d);
						return e && e.length && [
							[e.position().top + c.$scrollElement.scrollTop(), d]
						] || null
					}).sort(function(a, b) {
						return a[0] - b[0]
					}).each(function() {
						c.offsets.push(this[0]), c.targets.push(this[1])
					})
				},
				process: function() {
					var a, b = this.$scrollElement.scrollTop() + this.options.offset,
						c = this.$scrollElement[0].scrollHeight || this.$body[0].scrollHeight,
						d = c - this.$scrollElement.height(),
						e = this.offsets,
						f = this.targets,
						g = this.activeTarget;
					if (b >= d) return g != (a = f.last()[0]) && this.activate(a);
					for (a = e.length; a--;) g != f[a] && b >= e[a] && (!e[a + 1] || b <= e[a + 1]) && this.activate(f[a])
				},
				activate: function(b) {
					var c, d;
					this.activeTarget = b, a(this.selector).parent(".active").removeClass("active"), d = this.selector + '[data-target="' + b + '"],' + this.selector + '[href="' + b + '"]', c = a(d).parent("li").addClass("active"), c.parent(".dropdown-menu").length && (c = c.closest("li.dropdown").addClass("active")), c.trigger("activate")
				}
			};
			var c = a.fn.scrollspy;
			a.fn.scrollspy = function(c) {
				return this.each(function() {
					var d = a(this),
						e = d.data("scrollspy"),
						f = "object" == typeof c && c;
					e || d.data("scrollspy", e = new b(this, f)), "string" == typeof c && e[c]()
				})
			}, a.fn.scrollspy.Constructor = b, a.fn.scrollspy.defaults = {
				offset: 10
			}, a.fn.scrollspy.noConflict = function() {
				return a.fn.scrollspy = c, this
			}, a(window).on("load", function() {
				a('[data-spy="scroll"]').each(function() {
					var b = a(this);
					b.scrollspy(b.data())
				})
			})
		}(window.jQuery), ! function(a) {
			"use strict";
			var b = function(b) {
				this.element = a(b)
			};
			b.prototype = {
				constructor: b,
				show: function() {
					var b, c, d, e = this.element,
						f = e.closest("ul:not(.dropdown-menu)"),
						g = e.attr("data-target");
					g || (g = e.attr("href"), g = g && g.replace(/.*(?=#[^\s]*$)/, "")), e.parent("li").hasClass("active") || (b = f.find(".active:last a")[0], d = a.Event("show", {
						relatedTarget: b
					}), e.trigger(d), d.isDefaultPrevented() || (c = a(g), this.activate(e.parent("li"), f), this.activate(c, c.parent(), function() {
						e.trigger({
							type: "shown",
							relatedTarget: b
						})
					})))
				},
				activate: function(b, c, d) {
					function e() {
						f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"), b.addClass("active"), g ? (b[0].offsetWidth, b.addClass("in")) : b.removeClass("fade"), b.parent(".dropdown-menu") && b.closest("li.dropdown").addClass("active"), d && d()
					}
					var f = c.find("> .active"),
						g = d && a.support.transition && f.hasClass("fade");
					g ? f.one(a.support.transition.end, e) : e(), f.removeClass("in")
				}
			};
			var c = a.fn.tab;
			a.fn.tab = function(c) {
				return this.each(function() {
					var d = a(this),
						e = d.data("tab");
					e || d.data("tab", e = new b(this)), "string" == typeof c && e[c]()
				})
			}, a.fn.tab.Constructor = b, a.fn.tab.noConflict = function() {
				return a.fn.tab = c, this
			}, a(document).on("click.tab.data-api", '[data-toggle="tab"], [data-toggle="pill"]', function(b) {
				b.preventDefault(), a(this).tab("show")
			})
		}(window.jQuery), ! function(a) {
			"use strict";
			var b = function(b, c) {
				this.$element = a(b), this.options = a.extend({}, a.fn.typeahead.defaults, c), this.matcher = this.options.matcher || this.matcher, this.sorter = this.options.sorter || this.sorter, this.highlighter = this.options.highlighter || this.highlighter, this.updater = this.options.updater || this.updater, this.source = this.options.source, this.$menu = a(this.options.menu), this.shown = !1, this.listen()
			};
			b.prototype = {
				constructor: b,
				select: function() {
					var a = this.$menu.find(".active").attr("data-value");
					return this.$element.val(this.updater(a)).change(), this.hide()
				},
				updater: function(a) {
					return a
				},
				show: function() {
					var b = a.extend({}, this.$element.position(), {
						height: this.$element[0].offsetHeight
					});
					return this.$menu.insertAfter(this.$element).css({
						top: b.top + b.height,
						left: b.left
					}).show(), this.shown = !0, this
				},
				hide: function() {
					return this.$menu.hide(), this.shown = !1, this
				},
				lookup: function() {
					var b;
					return this.query = this.$element.val(), !this.query || this.query.length < this.options.minLength ? this.shown ? this.hide() : this : (b = a.isFunction(this.source) ? this.source(this.query, a.proxy(this.process, this)) : this.source, b ? this.process(b) : this)
				},
				process: function(b) {
					var c = this;
					return b = a.grep(b, function(a) {
						return c.matcher(a)
					}), b = this.sorter(b), b.length ? this.render(b.slice(0, this.options.items)).show() : this.shown ? this.hide() : this
				},
				matcher: function(a) {
					return ~a.toLowerCase().indexOf(this.query.toLowerCase())
				},
				sorter: function(a) {
					for (var b, c = [], d = [], e = []; b = a.shift();) b.toLowerCase().indexOf(this.query.toLowerCase()) ? ~b.indexOf(this.query) ? d.push(b) : e.push(b) : c.push(b);
					return c.concat(d, e)
				},
				highlighter: function(a) {
					var b = this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g, "\\$&");
					return a.replace(new RegExp("(" + b + ")", "ig"), function(a, b) {
						return "<strong>" + b + "</strong>"
					})
				},
				render: function(b) {
					var c = this;
					return b = a(b).map(function(b, d) {
						return b = a(c.options.item).attr("data-value", d), b.find("a").html(c.highlighter(d)), b[0]
					}), b.first().addClass("active"), this.$menu.html(b), this
				},
				next: function() {
					var b = this.$menu.find(".active").removeClass("active"),
						c = b.next();
					c.length || (c = a(this.$menu.find("li")[0])), c.addClass("active")
				},
				prev: function() {
					var a = this.$menu.find(".active").removeClass("active"),
						b = a.prev();
					b.length || (b = this.$menu.find("li").last()), b.addClass("active")
				},
				listen: function() {
					this.$element.on("blur", a.proxy(this.blur, this)).on("keypress", a.proxy(this.keypress, this)).on("keyup", a.proxy(this.keyup, this)), this.eventSupported("keydown") && this.$element.on("keydown", a.proxy(this.keydown, this)), this.$menu.on("click", a.proxy(this.click, this)).on("mouseenter", "li", a.proxy(this.mouseenter, this))
				},
				eventSupported: function(a) {
					var b = a in this.$element;
					return b || (this.$element.setAttribute(a, "return;"), b = "function" == typeof this.$element[a]), b
				},
				move: function(a) {
					if (this.shown) {
						switch (a.keyCode) {
							case 9:
							case 13:
							case 27:
								a.preventDefault();
								break;
							case 38:
								a.preventDefault(), this.prev();
								break;
							case 40:
								a.preventDefault(), this.next()
						}
						a.stopPropagation()
					}
				},
				keydown: function(b) {
					this.suppressKeyPressRepeat = ~a.inArray(b.keyCode, [40, 38, 9, 13, 27]), this.move(b)
				},
				keypress: function(a) {
					this.suppressKeyPressRepeat || this.move(a)
				},
				keyup: function(a) {
					switch (a.keyCode) {
						case 40:
						case 38:
						case 16:
						case 17:
						case 18:
							break;
						case 9:
						case 13:
							if (!this.shown) return;
							this.select();
							break;
						case 27:
							if (!this.shown) return;
							this.hide();
							break;
						default:
							this.lookup()
					}
					a.stopPropagation(), a.preventDefault()
				},
				blur: function() {
					var a = this;
					setTimeout(function() {
						a.hide()
					}, 150)
				},
				click: function(a) {
					a.stopPropagation(), a.preventDefault(), this.select()
				},
				mouseenter: function(b) {
					this.$menu.find(".active").removeClass("active"), a(b.currentTarget).addClass("active")
				}
			};
			var c = a.fn.typeahead;
			a.fn.typeahead = function(c) {
				return this.each(function() {
					var d = a(this),
						e = d.data("typeahead"),
						f = "object" == typeof c && c;
					e || d.data("typeahead", e = new b(this, f)), "string" == typeof c && e[c]()
				})
			}, a.fn.typeahead.defaults = {
				source: [],
				items: 8,
				menu: '<ul class="typeahead dropdown-menu"></ul>',
				item: '<li><a href="#"></a></li>',
				minLength: 1
			}, a.fn.typeahead.Constructor = b, a.fn.typeahead.noConflict = function() {
				return a.fn.typeahead = c, this
			}, a(document).on("focus.typeahead.data-api", '[data-provide="typeahead"]', function(b) {
				var c = a(this);
				c.data("typeahead") || (b.preventDefault(), c.typeahead(c.data()))
			})
		}(window.jQuery), ! function(a) {
			"use strict";
			var b = function(b, c) {
				this.options = a.extend({}, a.fn.affix.defaults, c), this.$window = a(window).on("scroll.affix.data-api", a.proxy(this.checkPosition, this)).on("click.affix.data-api", a.proxy(function() {
					setTimeout(a.proxy(this.checkPosition, this), 1)
				}, this)), this.$element = a(b), this.checkPosition()
			};
			b.prototype.checkPosition = function() {
				if (this.$element.is(":visible")) {
					var b, c = a(document).height(),
						d = this.$window.scrollTop(),
						e = this.$element.offset(),
						f = this.options.offset,
						g = f.bottom,
						h = f.top,
						i = "affix affix-top affix-bottom";

					"object" != typeof f && (g = h = f), "function" == typeof h && (h = f.top()), "function" == typeof g && (g = f.bottom()), b = null != this.unpin && d + this.unpin <= e.top ? !1 : null != g && e.top + this.$element.height() >= c - g ? "bottom" : null != h && h >= d ? "top" : !1, this.affixed !== b && (this.affixed = b, this.unpin = "bottom" == b ? e.top - d : null, this.$element.removeClass(i).addClass("affix" + (b ? "-" + b : "")))
				}
			};
			var c = a.fn.affix;
			a.fn.affix = function(c) {
				return this.each(function() {
					var d = a(this),
						e = d.data("affix"),
						f = "object" == typeof c && c;
					e || d.data("affix", e = new b(this, f)), "string" == typeof c && e[c]()
				})
			}, a.fn.affix.Constructor = b, a.fn.affix.defaults = {
				offset: 0
			}, a.fn.affix.noConflict = function() {
				return a.fn.affix = c, this
			}, a(window).on("load", function() {
				a('[data-spy="affix"]').each(function() {
					var b = a(this),
						c = b.data();
					c.offset = c.offset || {}, c.offsetBottom && (c.offset.bottom = c.offsetBottom), c.offsetTop && (c.offset.top = c.offsetTop), b.affix(c)
				})
			})
		}(window.jQuery), define("bootstrap", ["jquery"], function() {}),
		function(a, b) {
			function c(a, b, c) {
				return [parseInt(a[0], 10) * (n.test(a[0]) ? b / 100 : 1), parseInt(a[1], 10) * (n.test(a[1]) ? c / 100 : 1)]
			}

			function d(b, c) {
				return parseInt(a.css(b, c), 10) || 0
			}

			function e(b) {
				var c = b[0];
				return 9 === c.nodeType ? {
					width: b.width(),
					height: b.height(),
					offset: {
						top: 0,
						left: 0
					}
				} : a.isWindow(c) ? {
					width: b.width(),
					height: b.height(),
					offset: {
						top: b.scrollTop(),
						left: b.scrollLeft()
					}
				} : c.preventDefault ? {
					width: 0,
					height: 0,
					offset: {
						top: c.pageY,
						left: c.pageX
					}
				} : {
					width: b.outerWidth(),
					height: b.outerHeight(),
					offset: b.offset()
				}
			}
			a.ui = a.ui || {};
			var f, g = Math.max,
				h = Math.abs,
				i = Math.round,
				j = /left|center|right/,
				k = /top|center|bottom/,
				l = /[\+\-]\d+%?/,
				m = /^\w+/,
				n = /%$/,
				o = a.fn.position;
			a.position = {
					scrollbarWidth: function() {
						if (f !== b) return f;
						var c, d, e = a("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),
							g = e.children()[0];
						return a("body").append(e), c = g.offsetWidth, e.css("overflow", "scroll"), d = g.offsetWidth, c === d && (d = e[0].clientWidth), e.remove(), f = c - d
					},
					getScrollInfo: function(b) {
						var c = b.isWindow ? "" : b.element.css("overflow-x"),
							d = b.isWindow ? "" : b.element.css("overflow-y"),
							e = "scroll" === c || "auto" === c && b.width < b.element[0].scrollWidth,
							f = "scroll" === d || "auto" === d && b.height < b.element[0].scrollHeight;
						return {
							width: e ? a.position.scrollbarWidth() : 0,
							height: f ? a.position.scrollbarWidth() : 0
						}
					},
					getWithinInfo: function(b) {
						var c = a(b || window),
							d = a.isWindow(c[0]);
						return {
							element: c,
							isWindow: d,
							offset: c.offset() || {
								left: 0,
								top: 0
							},
							scrollLeft: c.scrollLeft(),
							scrollTop: c.scrollTop(),
							width: d ? c.width() : c.outerWidth(),
							height: d ? c.height() : c.outerHeight()
						}
					}
				}, a.fn.position = function(b) {
					if (!b || !b.of) return o.apply(this, arguments);
					b = a.extend({}, b);
					var f, n, p, q, r, s, t = a(b.of),
						u = a.position.getWithinInfo(b.within),
						v = a.position.getScrollInfo(u),
						w = (b.collision || "flip").split(" "),
						x = {};
					return s = e(t), t[0].preventDefault && (b.at = "left top"), n = s.width, p = s.height, q = s.offset, r = a.extend({}, q), a.each(["my", "at"], function() {
						var a, c, d = (b[this] || "").split(" ");
						1 === d.length && (d = j.test(d[0]) ? d.concat(["center"]) : k.test(d[0]) ? ["center"].concat(d) : ["center", "center"]), d[0] = j.test(d[0]) ? d[0] : "center", d[1] = k.test(d[1]) ? d[1] : "center", a = l.exec(d[0]), c = l.exec(d[1]), x[this] = [a ? a[0] : 0, c ? c[0] : 0], b[this] = [m.exec(d[0])[0], m.exec(d[1])[0]]
					}), 1 === w.length && (w[1] = w[0]), "right" === b.at[0] ? r.left += n : "center" === b.at[0] && (r.left += n / 2), "bottom" === b.at[1] ? r.top += p : "center" === b.at[1] && (r.top += p / 2), f = c(x.at, n, p), r.left += f[0], r.top += f[1], this.each(function() {
						var e, j, k = a(this),
							l = k.outerWidth(),
							m = k.outerHeight(),
							o = d(this, "marginLeft"),
							s = d(this, "marginTop"),
							y = l + o + d(this, "marginRight") + v.width,
							z = m + s + d(this, "marginBottom") + v.height,
							A = a.extend({}, r),
							B = c(x.my, k.outerWidth(), k.outerHeight());
						"right" === b.my[0] ? A.left -= l : "center" === b.my[0] && (A.left -= l / 2), "bottom" === b.my[1] ? A.top -= m : "center" === b.my[1] && (A.top -= m / 2), A.left += B[0], A.top += B[1], a.support.offsetFractions || (A.left = i(A.left), A.top = i(A.top)), e = {
							marginLeft: o,
							marginTop: s
						}, a.each(["left", "top"], function(c, d) {
							a.ui.position[w[c]] && a.ui.position[w[c]][d](A, {
								targetWidth: n,
								targetHeight: p,
								elemWidth: l,
								elemHeight: m,
								collisionPosition: e,
								collisionWidth: y,
								collisionHeight: z,
								offset: [f[0] + B[0], f[1] + B[1]],
								my: b.my,
								at: b.at,
								within: u,
								elem: k
							})
						}), b.using && (j = function(a) {
							var c = q.left - A.left,
								d = c + n - l,
								e = q.top - A.top,
								f = e + p - m,
								i = {
									target: {
										element: t,
										left: q.left,
										top: q.top,
										width: n,
										height: p
									},
									element: {
										element: k,
										left: A.left,
										top: A.top,
										width: l,
										height: m
									},
									horizontal: 0 > d ? "left" : c > 0 ? "right" : "center",
									vertical: 0 > f ? "top" : e > 0 ? "bottom" : "middle"
								};
							l > n && h(c + d) < n && (i.horizontal = "center"), m > p && h(e + f) < p && (i.vertical = "middle"), i.important = g(h(c), h(d)) > g(h(e), h(f)) ? "horizontal" : "vertical", b.using.call(this, a, i)
						}), k.offset(a.extend(A, {
							using: j
						}))
					})
				}, a.ui.position = {
					fit: {
						left: function(a, b) {
							var c, d = b.within,
								e = d.isWindow ? d.scrollLeft : d.offset.left,
								f = d.width,
								h = a.left - b.collisionPosition.marginLeft,
								i = e - h,
								j = h + b.collisionWidth - f - e;
							b.collisionWidth > f ? i > 0 && 0 >= j ? (c = a.left + i + b.collisionWidth - f - e, a.left += i - c) : a.left = j > 0 && 0 >= i ? e : i > j ? e + f - b.collisionWidth : e : i > 0 ? a.left += i : j > 0 ? a.left -= j : a.left = g(a.left - h, a.left)
						},
						top: function(a, b) {
							var c, d = b.within,
								e = d.isWindow ? d.scrollTop : d.offset.top,
								f = b.within.height,
								h = a.top - b.collisionPosition.marginTop,
								i = e - h,
								j = h + b.collisionHeight - f - e;
							b.collisionHeight > f ? i > 0 && 0 >= j ? (c = a.top + i + b.collisionHeight - f - e, a.top += i - c) : a.top = j > 0 && 0 >= i ? e : i > j ? e + f - b.collisionHeight : e : i > 0 ? a.top += i : j > 0 ? a.top -= j : a.top = g(a.top - h, a.top)
						}
					},
					flip: {
						left: function(a, b) {
							var c, d, e = b.within,
								f = e.offset.left + e.scrollLeft,
								g = e.width,
								i = e.isWindow ? e.scrollLeft : e.offset.left,
								j = a.left - b.collisionPosition.marginLeft,
								k = j - i,
								l = j + b.collisionWidth - g - i,
								m = "left" === b.my[0] ? -b.elemWidth : "right" === b.my[0] ? b.elemWidth : 0,
								n = "left" === b.at[0] ? b.targetWidth : "right" === b.at[0] ? -b.targetWidth : 0,
								o = -2 * b.offset[0];
							0 > k ? (c = a.left + m + n + o + b.collisionWidth - g - f, (0 > c || c < h(k)) && (a.left += m + n + o)) : l > 0 && (d = a.left - b.collisionPosition.marginLeft + m + n + o - i, (d > 0 || h(d) < l) && (a.left += m + n + o))
						},
						top: function(a, b) {
							var c, d, e = b.within,
								f = e.offset.top + e.scrollTop,
								g = e.height,
								i = e.isWindow ? e.scrollTop : e.offset.top,
								j = a.top - b.collisionPosition.marginTop,
								k = j - i,
								l = j + b.collisionHeight - g - i,
								m = "top" === b.my[1],
								n = m ? -b.elemHeight : "bottom" === b.my[1] ? b.elemHeight : 0,
								o = "top" === b.at[1] ? b.targetHeight : "bottom" === b.at[1] ? -b.targetHeight : 0,
								p = -2 * b.offset[1];
							0 > k ? (d = a.top + n + o + p + b.collisionHeight - g - f, a.top + n + o + p > k && (0 > d || d < h(k)) && (a.top += n + o + p)) : l > 0 && (c = a.top - b.collisionPosition.marginTop + n + o + p - i, a.top + n + o + p > l && (c > 0 || h(c) < l) && (a.top += n + o + p))
						}
					},
					flipfit: {
						left: function() {
							a.ui.position.flip.left.apply(this, arguments), a.ui.position.fit.left.apply(this, arguments)
						},
						top: function() {
							a.ui.position.flip.top.apply(this, arguments), a.ui.position.fit.top.apply(this, arguments)
						}
					}
				},
				function() {
					var b, c, d, e, f, g = document.getElementsByTagName("body")[0],
						h = document.createElement("div");
					b = document.createElement(g ? "div" : "body"), d = {
						visibility: "hidden",
						width: 0,
						height: 0,
						border: 0,
						margin: 0,
						background: "none"
					}, g && a.extend(d, {
						position: "absolute",
						left: "-1000px",
						top: "-1000px"
					});
					for (f in d) b.style[f] = d[f];
					b.appendChild(h), c = g || document.documentElement, c.insertBefore(b, c.firstChild), h.style.cssText = "position: absolute; left: 10.7432222px;", e = a(h).offset().left, a.support.offsetFractions = e > 10 && 11 > e, b.innerHTML = "", c.removeChild(b)
				}()
		}(jQuery), define("position", ["jquery"], function() {}),
		function(a, b) {
			function c(a) {
				for (var b, c = a.split(/\s+/), d = [], e = 0; b = c[e]; e++) b = b[0].toUpperCase(), d.push(b);
				return d
			}

			function d(b) {
				return b.id && a('label[for="' + b.id + '"]').val() || b.name
			}

			function e(c, f, g) {
				return g || (g = 0), f.each(function() {
					var f, h, i = a(this),
						j = this,
						k = this.nodeName.toLowerCase();
					switch ("label" == k && i.find("input, textarea, select").length && (f = i.text(), i = i.children().first(), j = i.get(0), k = j.nodeName.toLowerCase()), k) {
						case "menu":
							h = {
								name: i.attr("label"),
								items: {}
							}, g = e(h.items, i.children(), g);
							break;
						case "a":
						case "button":
							h = {
								name: i.text(),
								disabled: !!i.attr("disabled"),
								callback: function() {
									return function() {
										i.click()
									}
								}()
							};
							break;
						case "menuitem":
						case "command":
							switch (i.attr("type")) {
								case b:
								case "command":
								case "menuitem":
									h = {
										name: i.attr("label"),
										disabled: !!i.attr("disabled"),
										callback: function() {
											return function() {
												i.click()
											}
										}()
									};
									break;
								case "checkbox":
									h = {
										type: "checkbox",
										disabled: !!i.attr("disabled"),
										name: i.attr("label"),
										selected: !!i.attr("checked")
									};
									break;
								case "radio":
									h = {
										type: "radio",
										disabled: !!i.attr("disabled"),
										name: i.attr("label"),
										radio: i.attr("radiogroup"),
										value: i.attr("id"),
										selected: !!i.attr("checked")
									};
									break;
								default:
									h = b
							}
							break;
						case "hr":
							h = "-------";
							break;
						case "input":
							switch (i.attr("type")) {
								case "text":
									h = {
										type: "text",
										name: f || d(j),
										disabled: !!i.attr("disabled"),
										value: i.val()
									};
									break;
								case "checkbox":
									h = {
										type: "checkbox",
										name: f || d(j),
										disabled: !!i.attr("disabled"),
										selected: !!i.attr("checked")
									};
									break;
								case "radio":
									h = {
										type: "radio",
										name: f || d(j),
										disabled: !!i.attr("disabled"),
										radio: !!i.attr("name"),
										value: i.val(),
										selected: !!i.attr("checked")
									};
									break;
								default:
									h = b
							}
							break;
						case "select":
							h = {
								type: "select",
								name: f || d(j),
								disabled: !!i.attr("disabled"),
								selected: i.val(),
								options: {}
							}, i.children().each(function() {
								h.options[this.value] = a(this).text()
							});
							break;
						case "textarea":
							h = {
								type: "textarea",
								name: f || d(j),
								disabled: !!i.attr("disabled"),
								value: i.val()
							};
							break;
						case "label":
							break;
						default:
							h = {
								type: "html",
								html: i.clone(!0)
							}
					}
					h && (g++, c["key" + g] = h)
				}), g
			}
			if (a.support.htmlMenuitem = "HTMLMenuItemElement" in window, a.support.htmlCommand = "HTMLCommandElement" in window, a.support.eventSelectstart = "onselectstart" in document.documentElement, !a.ui || !a.ui.widget) {
				var f = a.cleanData;
				a.cleanData = function(b) {
					for (var c, d = 0; null != (c = b[d]); d++) try {
						a(c).triggerHandler("remove")
					} catch (e) {}
					f(b)
				}
			}
			var g = null,
				h = !1,
				i = a(window),
				j = 0,
				k = {},
				l = {},
				m = {},
				n = {
					selector: null,
					appendTo: null,
					trigger: "right",
					autoHide: !1,
					delay: 200,
					reposition: !0,
					determinePosition: function(b) {
						if (a.ui && a.ui.position) b.css("display", "block").position({
							my: "center top",
							at: "center bottom",
							of: this,
							offset: "0 5",
							collision: "fit"
						}).css("display", "none");
						else {
							var c = this.offset();
							c.top += this.outerHeight(), c.left += this.outerWidth() / 2 - b.outerWidth() / 2, b.css(c)
						}
					},
					position: function(a, b, c) {
						var d;
						if (!b && !c) return void a.determinePosition.call(this, a.$menu);
						d = "maintain" === b && "maintain" === c ? a.$menu.position() : {
							top: c,
							left: b
						};
						var e = i.scrollTop() + i.height(),
							f = i.scrollLeft() + i.width(),
							g = a.$menu.height(),
							h = a.$menu.width();
						d.top + g > e && (d.top -= g), d.left + h > f && (d.left -= h), a.$menu.css(d)
					},
					positionSubmenu: function(b) {
						if (a.ui && a.ui.position) b.css("display", "block").position({
							my: "left top",
							at: "right top",
							of: this,
							collision: "flipfit fit"
						}).css("display", "");
						else {
							var c = {
								top: 0,
								left: this.outerWidth()
							};
							b.css(c)
						}
					},
					zIndex: 1,
					animation: {
						duration: 50,
						show: "slideDown",
						hide: "slideUp"
					},
					events: {
						show: a.noop,
						hide: a.noop
					},
					callback: null,
					items: {}
				},
				o = {
					timer: null,
					pageX: null,
					pageY: null
				},
				p = function(a) {
					for (var b = 0, c = a;;)
						if (b = Math.max(b, parseInt(c.css("z-index"), 10) || 0), c = c.parent(), !c || !c.length || "html body".indexOf(c.prop("nodeName").toLowerCase()) > -1) break;
					return b
				},
				q = {
					abortevent: function(a) {
						a.preventDefault(), a.stopImmediatePropagation()
					},
					contextmenu: function(b) {
						var c = a(this);
						if (b.preventDefault(), b.stopImmediatePropagation(), !("right" != b.data.trigger && b.originalEvent || c.hasClass("context-menu-active") || c.hasClass("context-menu-disabled"))) {
							if (g = c, b.data.build) {
								var d = b.data.build(g, b);
								if (d === !1) return;
								if (b.data = a.extend(!0, {}, n, b.data, d || {}), !b.data.items || a.isEmptyObject(b.data.items)) throw window.console && (console.error || console.log)("No items specified to show in contextMenu"), new Error("No Items specified");
								b.data.$trigger = g, r.create(b.data)
							}
							r.show.call(c, b.data, b.pageX, b.pageY)
						}
					},
					click: function(b) {
						b.preventDefault(), b.stopImmediatePropagation(), a(this).trigger(a.Event("contextmenu", {
							data: b.data,
							pageX: b.pageX,
							pageY: b.pageY
						}))
					},
					mousedown: function(b) {
						var c = a(this);
						g && g.length && !g.is(c) && g.data("contextMenu").$menu.trigger("contextmenu:hide"), 2 == b.button && (g = c.data("contextMenuActive", !0))
					},
					mouseup: function(b) {
						var c = a(this);
						c.data("contextMenuActive") && g && g.length && g.is(c) && !c.hasClass("context-menu-disabled") && (b.preventDefault(), b.stopImmediatePropagation(), g = c, c.trigger(a.Event("contextmenu", {
							data: b.data,
							pageX: b.pageX,
							pageY: b.pageY
						}))), c.removeData("contextMenuActive")
					},
					mouseenter: function(b) {
						var c = a(this),
							d = a(b.relatedTarget),
							e = a(document);
						d.is(".context-menu-list") || d.closest(".context-menu-list").length || g && g.length || (o.pageX = b.pageX, o.pageY = b.pageY, o.data = b.data, e.on("mousemove.contextMenuShow", q.mousemove), o.timer = setTimeout(function() {
							o.timer = null, e.off("mousemove.contextMenuShow"), g = c, c.trigger(a.Event("contextmenu", {
								data: o.data,
								pageX: o.pageX,
								pageY: o.pageY
							}))
						}, b.data.delay))
					},
					mousemove: function(a) {
						o.pageX = a.pageX, o.pageY = a.pageY
					},
					mouseleave: function(b) {
						var c = a(b.relatedTarget);
						if (!c.is(".context-menu-list") && !c.closest(".context-menu-list").length) {
							try {
								clearTimeout(o.timer)
							} catch (b) {}
							o.timer = null
						}
					},
					layerClick: function(b) {
						var c, d, e = a(this),
							f = e.data("contextMenuRoot"),
							g = b.button,
							h = b.pageX,
							j = b.pageY;
						b.preventDefault(), b.stopImmediatePropagation(), setTimeout(function() {
							var e, k = "left" == f.trigger && 0 === g || "right" == f.trigger && 2 === g;
							if (document.elementFromPoint && (f.$layer.hide(), c = document.elementFromPoint(h - i.scrollLeft(), j - i.scrollTop()), f.$layer.show()), f.reposition && k)
								if (document.elementFromPoint) {
									if (f.$trigger.is(c) || f.$trigger.has(c).length) return void f.position.call(f.$trigger, f, h, j)
								} else if (d = f.$trigger.offset(), e = a(window), d.top += e.scrollTop(), d.top <= b.pageY && (d.left += e.scrollLeft(), d.left <= b.pageX && (d.bottom = d.top + f.$trigger.outerHeight(), d.bottom >= b.pageY && (d.right = d.left + f.$trigger.outerWidth(), d.right >= b.pageX)))) return void f.position.call(f.$trigger, f, h, j);
							c && k && f.$trigger.one("contextmenu:hidden", function() {
								a(c).contextMenu({
									x: h,
									y: j
								})
							}), f.$menu.trigger("contextmenu:hide")
						}, 50)
					},
					keyStop: function(a, b) {
						b.isInput || a.preventDefault(), a.stopPropagation()
					},
					key: function(a) {
						var b = g.data("contextMenu") || {};
						switch (a.keyCode) {
							case 9:
							case 38:
								if (q.keyStop(a, b), b.isInput) {
									if (9 == a.keyCode && a.shiftKey) return a.preventDefault(), b.$selected && b.$selected.find("input, textarea, select").blur(), void b.$menu.trigger("prevcommand");
									if (38 == a.keyCode && "checkbox" == b.$selected.find("input, textarea, select").prop("type")) return void a.preventDefault()
								} else if (9 != a.keyCode || a.shiftKey) return void b.$menu.trigger("prevcommand");
							case 40:
								if (q.keyStop(a, b), !b.isInput) return void b.$menu.trigger("nextcommand");
								if (9 == a.keyCode) return a.preventDefault(), b.$selected && b.$selected.find("input, textarea, select").blur(), void b.$menu.trigger("nextcommand");
								if (40 == a.keyCode && "checkbox" == b.$selected.find("input, textarea, select").prop("type")) return void a.preventDefault();
								break;
							case 37:
								if (q.keyStop(a, b), b.isInput || !b.$selected || !b.$selected.length) break;
								if (!b.$selected.parent().hasClass("context-menu-root")) {
									var c = b.$selected.parent().parent();
									return b.$selected.trigger("contextmenu:blur"), void(b.$selected = c)
								}
								break;
							case 39:
								if (q.keyStop(a, b), b.isInput || !b.$selected || !b.$selected.length) break;
								var d = b.$selected.data("contextMenu") || {};
								if (d.$menu && b.$selected.hasClass("context-menu-submenu")) return b.$selected = null, d.$selected = null, void d.$menu.trigger("nextcommand");
								break;
							case 35:
							case 36:
								return b.$selected && b.$selected.find("input, textarea, select").length ? void 0 : ((b.$selected && b.$selected.parent() || b.$menu).children(":not(.disabled, .not-selectable)")[36 == a.keyCode ? "first" : "last"]().trigger("contextmenu:focus"), void a.preventDefault());
							case 13:
								if (q.keyStop(a, b), b.isInput) {
									if (b.$selected && !b.$selected.is("textarea, select")) return void a.preventDefault();
									break
								}
								return void(b.$selected && b.$selected.trigger("mouseup"));
							case 32:
							case 33:
							case 34:
								return void q.keyStop(a, b);
							case 27:
								return q.keyStop(a, b), void b.$menu.trigger("contextmenu:hide");
							default:
								var e = String.fromCharCode(a.keyCode).toUpperCase();
								if (b.accesskeys[e]) return void b.accesskeys[e].$node.trigger(b.accesskeys[e].$menu ? "contextmenu:focus" : "mouseup")
						}
						a.stopPropagation(), b.$selected && b.$selected.trigger(a)
					},
					prevItem: function(b) {
						b.stopPropagation();
						var c = a(this).data("contextMenu") || {};
						if (c.$selected) {
							var d = c.$selected;
							c = c.$selected.parent().data("contextMenu") || {}, c.$selected = d
						}
						for (var e = c.$menu.children(), f = c.$selected && c.$selected.prev().length ? c.$selected.prev() : e.last(), g = f; f.hasClass("disabled") || f.hasClass("not-selectable");)
							if (f = f.prev().length ? f.prev() : e.last(), f.is(g)) return;
						c.$selected && q.itemMouseleave.call(c.$selected.get(0), b), q.itemMouseenter.call(f.get(0), b);
						var h = f.find("input, textarea, select");
						h.length && h.focus()
					},
					nextItem: function(b) {
						b.stopPropagation();
						var c = a(this).data("contextMenu") || {};
						if (c.$selected) {
							var d = c.$selected;
							c = c.$selected.parent().data("contextMenu") || {}, c.$selected = d
						}
						for (var e = c.$menu.children(), f = c.$selected && c.$selected.next().length ? c.$selected.next() : e.first(), g = f; f.hasClass("disabled") || f.hasClass("not-selectable");)
							if (f = f.next().length ? f.next() : e.first(), f.is(g)) return;
						c.$selected && q.itemMouseleave.call(c.$selected.get(0), b), q.itemMouseenter.call(f.get(0), b);
						var h = f.find("input, textarea, select");
						h.length && h.focus()
					},
					focusInput: function() {
						var b = a(this).closest(".context-menu-item"),
							c = b.data(),
							d = c.contextMenu,
							e = c.contextMenuRoot;
						e.$selected = d.$selected = b, e.isInput = d.isInput = !0
					},
					blurInput: function() {
						var b = a(this).closest(".context-menu-item"),
							c = b.data(),
							d = c.contextMenu,
							e = c.contextMenuRoot;
						e.isInput = d.isInput = !1
					},
					menuMouseenter: function() {
						var b = a(this).data().contextMenuRoot;
						b.hovering = !0
					},
					menuMouseleave: function(b) {
						var c = a(this).data().contextMenuRoot;
						c.$layer && c.$layer.is(b.relatedTarget) && (c.hovering = !1)
					},
					itemMouseenter: function(b) {
						var c = a(this),
							d = c.data(),
							e = d.contextMenu,
							f = d.contextMenuRoot;
						return f.hovering = !0, b && f.$layer && f.$layer.is(b.relatedTarget) && (b.preventDefault(), b.stopImmediatePropagation()), (e.$menu ? e : f).$menu.children(".hover").trigger("contextmenu:blur"), c.hasClass("disabled") || c.hasClass("not-selectable") ? void(e.$selected = null) : void c.trigger("contextmenu:focus")
					},
					itemMouseleave: function(b) {
						var c = a(this),
							d = c.data(),
							e = d.contextMenu,
							f = d.contextMenuRoot;
						return f !== e && f.$layer && f.$layer.is(b.relatedTarget) ? (f.$selected && f.$selected.trigger("contextmenu:blur"), b.preventDefault(), b.stopImmediatePropagation(), void(f.$selected = e.$selected = e.$node)) : void c.trigger("contextmenu:blur")
					},
					itemClick: function(b) {
						var c, d = a(this),
							e = d.data(),
							f = e.contextMenu,
							g = e.contextMenuRoot,
							h = e.contextMenuKey;
						if (f.items[h] && !d.is(".disabled, .context-menu-submenu, .context-menu-separator, .not-selectable")) {
							if (b.preventDefault(), b.stopImmediatePropagation(), a.isFunction(g.callbacks[h]) && Object.prototype.hasOwnProperty.call(g.callbacks, h)) c = g.callbacks[h];
							else {
								if (!a.isFunction(g.callback)) return;
								c = g.callback
							}
							c.call(g.$trigger, h, g) !== !1 ? g.$menu.trigger("contextmenu:hide") : g.$menu.parent().length && r.update.call(g.$trigger, g)
						}
					},
					inputClick: function(a) {
						a.stopImmediatePropagation()
					},
					hideMenu: function(b, c) {
						var d = a(this).data("contextMenuRoot");
						r.hide.call(d.$trigger, d, c && c.force)
					},
					focusItem: function(b) {
						b.stopPropagation();
						var c = a(this),
							d = c.data(),
							e = d.contextMenu,
							f = d.contextMenuRoot;
						c.addClass("hover").siblings(".hover").trigger("contextmenu:blur"), e.$selected = f.$selected = c, e.$node && f.positionSubmenu.call(e.$node, e.$menu)
					},
					blurItem: function(b) {
						b.stopPropagation(); {
							var c = a(this),
								d = c.data(),
								e = d.contextMenu;
							d.contextMenuRoot
						}
						c.removeClass("hover"), e.$selected = null
					}
				},
				r = {
					show: function(b, c, d) {
						var e = a(this),
							f = {};
						return a("#context-menu-layer").trigger("mousedown"), b.$trigger = e, b.events.show.call(e, b) === !1 ? void(g = null) : (r.update.call(e, b), b.position.call(e, b, c, d), b.zIndex && (f.zIndex = p(e) + b.zIndex), r.layer.call(b.$menu, b, f.zIndex), b.$menu.find("ul").css("zIndex", f.zIndex + 1), b.$menu.css(f)[b.animation.show](b.animation.duration, function() {
							e.trigger("contextmenu:visible")
						}), e.data("contextMenu", b).addClass("context-menu-active"), a(document).off("keydown.contextMenu").on("keydown.contextMenu", q.key), b.autoHide && a(document).on("mousemove.contextMenuAutoHide", function(a) {
							var c = e.offset();
							c.right = c.left + e.outerWidth(), c.bottom = c.top + e.outerHeight(), !b.$layer || b.hovering || a.pageX >= c.left && a.pageX <= c.right && a.pageY >= c.top && a.pageY <= c.bottom || b.$menu.trigger("contextmenu:hide")
						}), void(b.events.shown && b.events.shown.call(e, b)))
					},
					hide: function(c, d) {
						var e = a(this);
						if (c || (c = e.data("contextMenu") || {}), d || !c.events || c.events.hide.call(e, c) !== !1) {
							if (e.removeData("contextMenu").removeClass("context-menu-active"), c.$layer) {
								setTimeout(function(a) {
									return function() {
										a.remove()
									}
								}(c.$layer), 10);
								try {
									delete c.$layer
								} catch (f) {
									c.$layer = null
								}
							}
							g = null, c.$menu.find(".hover").trigger("contextmenu:blur"), c.$selected = null, a(document).off(".contextMenuAutoHide").off("keydown.contextMenu"), c.$menu && c.$menu[c.animation.hide](c.animation.duration, function() {
								c.build && (c.$menu.remove(), a.each(c, function(a) {
									switch (a) {
										case "ns":
										case "selector":
										case "build":
										case "trigger":
											return !0;
										default:
											c[a] = b;
											try {
												delete c[a]
											} catch (d) {}
											return !0
									}
								})), setTimeout(function() {
									e.trigger("contextmenu:hidden")
								}, 10)
							})
						}
					},
					create: function(d, e) {
						e === b && (e = d), d.$menu = a('<ul class="context-menu-list"></ul>').addClass(d.className || "").data({
							contextMenu: d,
							contextMenuRoot: e
						}), a.each(["callbacks", "commands", "inputs"], function(a, b) {
							d[b] = {}, e[b] || (e[b] = {})
						}), e.accesskeys || (e.accesskeys = {}), a.each(d.items, function(b, f) {
							var g = a('<li class="context-menu-item"></li>').addClass(f.className || ""),
								h = null,
								i = null;
							if (g.on("click", a.noop), f.$node = g.data({
									contextMenu: d,
									contextMenuRoot: e,
									contextMenuKey: b
								}), f.accesskey)
								for (var j, k = c(f.accesskey), l = 0; j = k[l]; l++)
									if (!e.accesskeys[j]) {
										e.accesskeys[j] = f, f._name = f.name.replace(new RegExp("(" + j + ")", "i"), '<span class="context-menu-accesskey">$1</span>');
										break
									}
							if ("string" == typeof f) g.addClass("context-menu-separator not-selectable");
							else if (f.type && m[f.type]) m[f.type].call(g, f, d, e), a.each([d, e], function(c, d) {
								d.commands[b] = f, a.isFunction(f.callback) && (d.callbacks[b] = f.callback)
							});
							else {
								switch ("html" == f.type ? g.addClass("context-menu-html not-selectable") : f.type ? (h = a("<label></label>").appendTo(g), a("<span></span>").html(f._name || f.name).appendTo(h), g.addClass("context-menu-input"), d.hasTypes = !0, a.each([d, e], function(a, c) {
									c.commands[b] = f, c.inputs[b] = f
								})) : f.items && (f.type = "sub"), f.type) {
									case "text":
										i = a('<input type="text" value="1" name="" value="">').attr("name", "context-menu-input-" + b).val(f.value || "").appendTo(h);
										break;
									case "textarea":
										i = a('<textarea name=""></textarea>').attr("name", "context-menu-input-" + b).val(f.value || "").appendTo(h), f.height && i.height(f.height);
										break;
									case "checkbox":
										i = a('<input type="checkbox" value="1" name="" value="">').attr("name", "context-menu-input-" + b).val(f.value || "").prop("checked", !!f.selected).prependTo(h);
										break;
									case "radio":
										i = a('<input type="radio" value="1" name="" value="">').attr("name", "context-menu-input-" + f.radio).val(f.value || "").prop("checked", !!f.selected).prependTo(h);
										break;
									case "select":
										i = a('<select name="">').attr("name", "context-menu-input-" + b).appendTo(h), f.options && (a.each(f.options, function(b, c) {
											a("<option></option>").val(b).text(c).appendTo(i)
										}), i.val(f.selected));
										break;
									case "sub":
										a("<span></span>").html(f._name || f.name).appendTo(g), f.appendTo = f.$node, r.create(f, e), g.data("contextMenu", f).addClass("context-menu-submenu"), f.callback = null;
										break;
									case "html":
										a(f.html).appendTo(g);
										break;
									default:
										a.each([d, e], function(c, d) {
											d.commands[b] = f, a.isFunction(f.callback) && (d.callbacks[b] = f.callback)
										}), a("<span></span>").html(f._name || f.name || "").appendTo(g)
								}
								f.type && "sub" != f.type && "html" != f.type && (i.on("focus", q.focusInput).on("blur", q.blurInput), f.events && i.on(f.events, d)), f.icon && g.prepend('<i class="icon icon-' + f.icon + '"></i>'), f.background && (g.addClass(f.background), g[0].dataset.background = f.background)
							}
							f.$input = i, f.$label = h, g.appendTo(d.$menu), !d.hasTypes && a.support.eventSelectstart && g.on("selectstart.disableTextSelect", q.abortevent)
						}), d.$node || d.$menu.css("display", "none").addClass("context-menu-root"), d.$menu.appendTo(d.appendTo || document.body)
					},
					resize: function(b, c) {
						b.css({
							position: "absolute",
							display: "block"
						}), b.data("width", Math.ceil(b.width()) + 1), b.css({
							position: "static",
							minWidth: "0px",
							maxWidth: "100000px"
						}), b.find("> li > ul").each(function() {
							r.resize(a(this), !0)
						}), c || b.find("ul").andSelf().css({
							position: "",
							display: "",
							minWidth: "",
							maxWidth: ""
						}).width(function() {
							return a(this).data("width")
						})
					},
					update: function(c, d) {
						var e = this;
						d === b && (d = c, r.resize(c.$menu)), c.$menu.children().each(function() {
							var b = a(this),
								f = b.data("contextMenuKey"),
								g = c.items[f],
								h = a.isFunction(g.disabled) && g.disabled.call(e, f, d) || g.disabled === !0;
							if (b[h ? "addClass" : "removeClass"]("disabled"), g.type) switch (b.find("input, select, textarea").prop("disabled", h), g.type) {
								case "text":
								case "textarea":
									g.$input.val(g.value || "");
									break;
								case "checkbox":
								case "radio":
									g.$input.val(g.value || "").prop("checked", !!g.selected);
									break;
								case "select":
									g.$input.val(g.selected || "")
							}
							g.$menu && r.update.call(e, g, d)
						})
					},
					layer: function(b, c) {
						var d = b.$layer = a('<div id="context-menu-layer" style="position:fixed; z-index:' + c + '; top:0; left:0; opacity: 0; filter: alpha(opacity=0); background-color: #000;"></div>').css({
							height: i.height(),
							width: i.width(),
							display: "block"
						}).data("contextMenuRoot", b).insertBefore(this).on("contextmenu", q.abortevent).on("mousedown", q.layerClick);
						return a.support.fixedPosition || d.css({
							position: "absolute",
							height: a(document).height()
						}), d
					}
				};
			a.fn.contextMenu = function(c) {
				if (c === b) this.first().trigger("contextmenu");
				else if (c.x && c.y) this.first().trigger(a.Event("contextmenu", {
					pageX: c.x,
					pageY: c.y
				}));
				else if ("hide" === c) {
					var d = this.data("contextMenu").$menu;
					d && d.trigger("contextmenu:hide")
				} else "destroy" === c ? a.contextMenu("destroy", {
					context: this
				}) : a.isPlainObject(c) ? (c.context = this, a.contextMenu("create", c)) : c ? this.removeClass("context-menu-disabled") : c || this.addClass("context-menu-disabled");
				return this
			}, a.contextMenu = function(c, d) {
				"string" != typeof c && (d = c, c = "create"), "string" == typeof d ? d = {
					selector: d
				} : d === b && (d = {});
				var e = a.extend(!0, {}, n, d || {}),
					f = a(document),
					g = f,
					i = !1;
				switch (e.context && e.context.length ? (g = a(e.context).first(), e.context = g.get(0), i = e.context !== document) : e.context = document, c) {
					case "create":
						if (!e.selector) throw new Error("No selector specified");
						if (e.selector.match(/.context-menu-(list|item|input)($|\s)/)) throw new Error('Cannot bind to selector "' + e.selector + '" as it contains a reserved className');
						if (!e.build && (!e.items || a.isEmptyObject(e.items))) throw new Error("No Items specified");
						switch (j++, e.ns = ".contextMenu" + j, i || (k[e.selector] = e.ns), l[e.ns] = e, e.trigger || (e.trigger = "right"), h || (f.on({
							"contextmenu:hide.contextMenu": q.hideMenu,
							"prevcommand.contextMenu": q.prevItem,
							"nextcommand.contextMenu": q.nextItem,
							"contextmenu.contextMenu": q.abortevent,
							"mouseenter.contextMenu": q.menuMouseenter,
							"mouseleave.contextMenu": q.menuMouseleave
						}, ".context-menu-list").on("mouseup.contextMenu", ".context-menu-input", q.inputClick).on({
							"mouseup.contextMenu": q.itemClick,
							"contextmenu:focus.contextMenu": q.focusItem,
							"contextmenu:blur.contextMenu": q.blurItem,
							"contextmenu.contextMenu": q.abortevent,
							"mouseenter.contextMenu": q.itemMouseenter,
							"mouseleave.contextMenu": q.itemMouseleave
						}, ".context-menu-item"), h = !0), g.on("contextmenu" + e.ns, e.selector, e, q.contextmenu), i && g.on("remove" + e.ns, function() {
							a(this).contextMenu("destroy")
						}), e.trigger) {
							case "hover":
								g.on("mouseenter" + e.ns, e.selector, e, q.mouseenter).on("mouseleave" + e.ns, e.selector, e, q.mouseleave);
								break;
							case "left":
								g.on("click" + e.ns, e.selector, e, q.click)
						}
						e.build || r.create(e);
						break;
					case "destroy":
						var m;
						if (i) {
							var o = e.context;
							a.each(l, function(b, c) {
								if (c.context !== o) return !0;
								m = a(".context-menu-list").filter(":visible"), m.length && m.data().contextMenuRoot.$trigger.is(a(c.context).find(c.selector)) && m.trigger("contextmenu:hide", {
									force: !0
								});
								try {
									l[c.ns].$menu && l[c.ns].$menu.remove(), delete l[c.ns]
								} catch (d) {
									l[c.ns] = null
								}
								return a(c.context).off(c.ns), !0
							})
						} else if (e.selector) {
							if (k[e.selector]) {
								m = a(".context-menu-list").filter(":visible"), m.length && m.data().contextMenuRoot.$trigger.is(e.selector) && m.trigger("contextmenu:hide", {
									force: !0
								});
								try {
									l[k[e.selector]].$menu && l[k[e.selector]].$menu.remove(), delete l[k[e.selector]]
								} catch (p) {
									l[k[e.selector]] = null
								}
								f.off(k[e.selector])
							}
						} else f.off(".contextMenu .contextMenuAutoHide"), a.each(l, function(b, c) {
							a(c.context).off(c.ns)
						}), k = {}, l = {}, j = 0, h = !1, a("#context-menu-layer, .context-menu-list").remove();
						break;
					case "html5":
						(!a.support.htmlCommand && !a.support.htmlMenuitem || "boolean" == typeof d && d) && a('menu[type="context"]').each(function() {
							this.id && a.contextMenu({
								selector: "[contextmenu=" + this.id + "]",
								items: a.contextMenu.fromMenu(this)
							})
						}).css("display", "none");
						break;
					default:
						throw new Error('Unknown operation "' + c + '"')
				}
				return this
			}, a.contextMenu.setInputValues = function(c, d) {
				d === b && (d = {}), a.each(c.inputs, function(a, b) {
					switch (b.type) {
						case "text":
						case "textarea":
							b.value = d[a] || "";
							break;
						case "checkbox":
							b.selected = d[a] ? !0 : !1;
							break;
						case "radio":
							b.selected = (d[b.radio] || "") == b.value ? !0 : !1;
							break;
						case "select":
							b.selected = d[a] || ""
					}
				})
			}, a.contextMenu.getInputValues = function(c, d) {
				return d === b && (d = {}), a.each(c.inputs, function(a, b) {
					switch (b.type) {
						case "text":
						case "textarea":
						case "select":
							d[a] = b.$input.val();
							break;
						case "checkbox":
							d[a] = b.$input.prop("checked");
							break;
						case "radio":
							b.$input.prop("checked") && (d[b.radio] = b.value)
					}
				}), d
			}, a.contextMenu.fromMenu = function(b) {
				var c = a(b),
					d = {};
				return e(d, c.children()), d
			}, a.contextMenu.defaults = n, a.contextMenu.types = m, a.contextMenu.handle = q, a.contextMenu.op = r, a.contextMenu.menus = l
		}(jQuery), define("jqContextMenu", ["jquery", "position"], function() {}),
		function(a) {
			function b(a, b) {
				if (!(a.originalEvent.touches.length > 1)) {
					a.preventDefault();
					var c = a.originalEvent.changedTouches[0],
						d = document.createEvent("MouseEvents");
					d.initMouseEvent(b, !0, !0, window, 1, c.screenX, c.screenY, c.clientX, c.clientY, !1, !1, !1, !1, 0, null), a.target.dispatchEvent(d)
				}
			}
			if (a.support.touch = "ontouchend" in document, a.support.touch) {
				var c, d = a.ui.mouse.prototype,
					e = d._mouseInit;
				d._touchStart = function(a) {
					var d = this;
					!c && d._mouseCapture(a.originalEvent.changedTouches[0]) && (c = !0, d._touchMoved = !1, b(a, "mouseover"), b(a, "mousemove"), b(a, "mousedown"))
				}, d._touchMove = function(a) {
					c && (this._touchMoved = !0, b(a, "mousemove"))
				}, d._touchEnd = function(a) {
					c && (b(a, "mouseup"), b(a, "mouseout"), this._touchMoved || b(a, "click"), c = !1)
				}, d._mouseInit = function() {
					var b = this;
					b.element.bind("touchstart", a.proxy(b, "_touchStart")).bind("touchmove", a.proxy(b, "_touchMove")).bind("touchend", a.proxy(b, "_touchEnd")), e.call(b)
				}
			}
		}(jQuery), define("touchpunch", ["jquery", "jqueryui"], function() {}), require.config({
			paths: {
				libs: "../scripts/libs",
				jquery: "../scripts/libs/jQuery",
				jqueryui: "../scripts/libs/jquery-ui",
				touchpunch: "../scripts/libs/jquery-ui-touch-punch",
				"jquery.multisortable": "../scripts/libs/jquery.multisortable",
				position: "../components/jq-contextmenu/jquery.ui.position",
				jqContextMenu: "../components/jq-contextmenu/jquery.contextMenu",
				lodash: "../scripts/libs/lodash",
				backbone: "../scripts/libs/backbone",
				css: "../scripts/libs/css",
				bootstrap: "../components/bootstrap/bootstrap",
				colorpicker: "../components/spectrum/spectrum",
				handlebars: "../scripts/libs/Handlebars",
				lang: "../locales/lang",
				lexed: "../components/lexed/lexed",
				codemirror: "../components/codemirror",
				marked: "../components/marked/marked",
				lls: "../components/lls/dist",
				Q: "../components/q/q",
				"erquan/config": "../bundles/app/erquan.config",
				"erquan/unique": "../bundles/app/erquan.unique",
				"erquan/common/web/remote_storage": "../bundles/common/erquan.web.remote_storage",
				"strut/presentation_generator/erquan": "../bundles/app/strut.presentation_generator.erquan",
				"strut/deck": "../bundles/app/strut.deck",
				"strut/startup": "../bundles/app/strut.startup",
				"strut/editor": "../bundles/app/strut.editor",
				"strut/etch_extension": "../bundles/app/strut.etch_extension",
				"strut/exporter/erquan/browser": "../bundles/app/strut.exporter.erquan.zip.browser",
				"strut/exporter": "../bundles/app/strut.exporter",
				"strut/header": "../bundles/app/strut.header",
				"strut/importer": "../bundles/app/strut.importer",
				"strut/importer/erquan": "../bundles/app/strut.importer.erquan",
				"strut/presentation_generator/impress": "../bundles/app/strut.presentation_generator.impress",
				"strut/logo_button": "../bundles/app/strut.logo_button",
				"strut/presentation_generator": "../bundles/app/strut.presentation_generator",
				"strut/slide_components": "../bundles/app/strut.slide_components",
				"strut/slide_editor": "../bundles/app/strut.slide_editor",
				"strut/slide_snapshot": "../bundles/app/strut.slide_snapshot",
				"strut/storage": "../bundles/app/strut.storage",
				"strut/themes": "../bundles/app/strut.themes",
				"strut/well_context_buttons": "../bundles/app/strut.well_context_buttons",
				"strut/config": "../bundles/app/strut.config",
				"strut/transition_editor": "../bundles/app/strut.transition_editor",
				"strut/action_editor": "../bundles/app/strut.action_editor",
				"tantaman/web": "../bundles/common/tantaman.web",
				"tantaman/web/local_storage": "../bundles/common/tantaman.web.local_storage",
				"tantaman/web/saver": "../bundles/common/tantaman.web.saver",
				"tantaman/web/storage": "../bundles/common/tantaman.web.storage",
				"tantaman/web/undo_support": "../bundles/common/tantaman.web.undo_support",
				"tantaman/web/interactions": "../bundles/common/tantaman.web.interactions",
				"tantaman/web/widgets": "../bundles/common/tantaman.web.widgets",
				"tantaman/web/css_manip": "../bundles/common/tantaman.web.css_manip"
			},
			shim: {
				bootstrap: {
					deps: ["jquery"]
				},
				"jquery.multisortable": {
					deps: ["jquery", "jqueryui"]
				},
				touchpunch: {
					deps: ["jquery", "jqueryui"]
				},
				jqueryui: {
					deps: ["jquery"]
				},
				colorpicker: {
					deps: ["jquery"]
				},
				gradientPicker: {
					deps: ["jquery", "colorpicker"]
				},
				position: {
					deps: ["jquery"]
				},
				jqContextMenu: {
					deps: ["jquery", "position"]
				},
				"codemirror/codemirror": {
					deps: ["css!../components/codemirror/codemirror.css"],
					exports: "CodeMirror"
				},
				"codemirror/modes/css": {
					deps: ["codemirror/codemirror"]
				},
				"codemirror/modes/markdown": {
					deps: ["codemirror/codemirror"]
				}
			}
		}), Function.prototype.bind || (Function.prototype.bind = function(a) {
			if ("function" != typeof this) throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");
			var b = Array.prototype.slice.call(arguments, 1),
				c = this,
				d = function() {},
				e = function() {
					return c.apply(this instanceof d && a ? this : a, b.concat(Array.prototype.slice.call(arguments)))
				};
			return d.prototype = this.prototype, e.prototype = new d, e
		}), Array.prototype.some || (Array.prototype.some = function(a) {
			"use strict";
			if (null == this) throw new TypeError;
			var b, c, d = Object(this),
				e = d.length >>> 0;
			if ("function" != typeof a) throw new TypeError;
			for (b = arguments[1], c = 0; e > c; c++)
				if (c in d && a.call(b, d[c], c, d)) return !0;
			return !1
		}), Array.prototype.forEach || (Array.prototype.forEach = function(a, b) {
			"use strict";
			var c, d;
			for (c = 0, d = this.length; d > c; ++c) c in this && a.call(b, this[c], c, this)
		});
	var c = {}.hasOwnProperty,
		d = function(a, b) {
			function d() {
				this.constructor = a
			}
			for (var e in b) c.call(b, e) && (a[e] = b[e]);
			return d.prototype = b.prototype, a.prototype = new d, a.__super__ = b.prototype, a
		};
	window.__extends = d, window.zTracker = {
		z: 0,
		next: function() {
			return ++this.z
		}
	}, window.clearPresentations = function() {
		for (var a = localStorage.length, b = 0; a > b; ++b) {
			var c = localStorage.key(b);
			c && -1 != c.indexOf(".strut") && (console.log("Removing: " + c), localStorage.removeItem(c))
		}
	}, window.log = function(a) {
		log.enabled.log && console.log(a)
	}, log.enabled = {
		notice: !0,
		err: !0,
		log: !0
	}, log.err = function(a) {
		log.enabeld.err && console.error(a)
	}, log.notice = function(a) {
		log.enabled.notice && console.log(a)
	}, window.URL = window.URL || window.webkitURL, require(["handlebars", "lang", "compiled-templates", "colorpicker", "strut/config/config", "features", "./StrutLoader", "bootstrap", "jqContextMenu", "css!components/jq-contextmenu/jquery.contextMenu.css", "touchpunch"], function(a, b, c, d, e, f, g) {
		"use strict";
		window._gaq = window._gaq || [];
		var h = document.createElement("dummy").style,
			i = "Webkit Moz O ms Khtml".split(" "),
			j = function() {
				var a = "";
				return i.forEach(function(b) {
					return void 0 !== h[b + "Transform"] ? (a = b, !1) : void 0
				}), a
			}(),
			k = j.toLocaleLowerCase(),
			l = "-" + k + "-";
		window.browserPrefix = l, a.registerHelper("either", function(a, b) {
			return null != b ? b : a
		}), $.event.special.destroyed = {
			remove: function(a) {
				a.handler && a.handler()
			}
		}, window.addEventListener("dragover", function(a) {
			a = a || event, a.preventDefault()
		}, !1), window.addEventListener("drop", function(a) {
			a = a || event, a.preventDefault()
		}, !1), window.serviceRegistry = f, g.start(f, function() {}, function() {})
	}), define("main", function() {})
}();